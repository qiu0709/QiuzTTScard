(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const i of l)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(l){const i={};return l.integrity&&(i.integrity=l.integrity),l.referrerPolicy&&(i.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?i.credentials="include":l.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(l){if(l.ep)return;l.ep=!0;const i=n(l);fetch(l.href,i)}})();function Ad(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var pu={exports:{}},ro={},fu={exports:{}},ie={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gr=Symbol.for("react.element"),Id=Symbol.for("react.portal"),Ld=Symbol.for("react.fragment"),Od=Symbol.for("react.strict_mode"),Bd=Symbol.for("react.profiler"),Md=Symbol.for("react.provider"),Wd=Symbol.for("react.context"),$d=Symbol.for("react.forward_ref"),Vd=Symbol.for("react.suspense"),Ud=Symbol.for("react.memo"),Hd=Symbol.for("react.lazy"),ra=Symbol.iterator;function Qd(e){return e===null||typeof e!="object"?null:(e=ra&&e[ra]||e["@@iterator"],typeof e=="function"?e:null)}var hu={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},gu=Object.assign,xu={};function ir(e,t,n){this.props=e,this.context=t,this.refs=xu,this.updater=n||hu}ir.prototype.isReactComponent={};ir.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ir.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function mu(){}mu.prototype=ir.prototype;function Qi(e,t,n){this.props=e,this.context=t,this.refs=xu,this.updater=n||hu}var Ji=Qi.prototype=new mu;Ji.constructor=Qi;gu(Ji,ir.prototype);Ji.isPureReactComponent=!0;var la=Array.isArray,yu=Object.prototype.hasOwnProperty,Ki={current:null},vu={key:!0,ref:!0,__self:!0,__source:!0};function Su(e,t,n){var r,l={},i=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(i=""+t.key),t)yu.call(t,r)&&!vu.hasOwnProperty(r)&&(l[r]=t[r]);var a=arguments.length-2;if(a===1)l.children=n;else if(1<a){for(var c=Array(a),x=0;x<a;x++)c[x]=arguments[x+2];l.children=c}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)l[r]===void 0&&(l[r]=a[r]);return{$$typeof:Gr,type:e,key:i,ref:s,props:l,_owner:Ki.current}}function Jd(e,t){return{$$typeof:Gr,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Gi(e){return typeof e=="object"&&e!==null&&e.$$typeof===Gr}function Kd(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var oa=/\/+/g;function To(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Kd(""+e.key):t.toString(36)}function jl(e,t,n,r,l){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case Gr:case Id:s=!0}}if(s)return s=e,l=l(s),e=r===""?"."+To(s,0):r,la(l)?(n="",e!=null&&(n=e.replace(oa,"$&/")+"/"),jl(l,t,n,"",function(x){return x})):l!=null&&(Gi(l)&&(l=Jd(l,n+(!l.key||s&&s.key===l.key?"":(""+l.key).replace(oa,"$&/")+"/")+e)),t.push(l)),1;if(s=0,r=r===""?".":r+":",la(e))for(var a=0;a<e.length;a++){i=e[a];var c=r+To(i,a);s+=jl(i,t,n,c,l)}else if(c=Qd(e),typeof c=="function")for(e=c.call(e),a=0;!(i=e.next()).done;)i=i.value,c=r+To(i,a++),s+=jl(i,t,n,c,l);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function ll(e,t,n){if(e==null)return e;var r=[],l=0;return jl(e,r,"","",function(i){return t.call(n,i,l++)}),r}function Gd(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Je={current:null},wl={transition:null},Yd={ReactCurrentDispatcher:Je,ReactCurrentBatchConfig:wl,ReactCurrentOwner:Ki};function ju(){throw Error("act(...) is not supported in production builds of React.")}ie.Children={map:ll,forEach:function(e,t,n){ll(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return ll(e,function(){t++}),t},toArray:function(e){return ll(e,function(t){return t})||[]},only:function(e){if(!Gi(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ie.Component=ir;ie.Fragment=Ld;ie.Profiler=Bd;ie.PureComponent=Qi;ie.StrictMode=Od;ie.Suspense=Vd;ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Yd;ie.act=ju;ie.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=gu({},e.props),l=e.key,i=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,s=Ki.current),t.key!==void 0&&(l=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(c in t)yu.call(t,c)&&!vu.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&a!==void 0?a[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){a=Array(c);for(var x=0;x<c;x++)a[x]=arguments[x+2];r.children=a}return{$$typeof:Gr,type:e.type,key:l,ref:i,props:r,_owner:s}};ie.createContext=function(e){return e={$$typeof:Wd,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Md,_context:e},e.Consumer=e};ie.createElement=Su;ie.createFactory=function(e){var t=Su.bind(null,e);return t.type=e,t};ie.createRef=function(){return{current:null}};ie.forwardRef=function(e){return{$$typeof:$d,render:e}};ie.isValidElement=Gi;ie.lazy=function(e){return{$$typeof:Hd,_payload:{_status:-1,_result:e},_init:Gd}};ie.memo=function(e,t){return{$$typeof:Ud,type:e,compare:t===void 0?null:t}};ie.startTransition=function(e){var t=wl.transition;wl.transition={};try{e()}finally{wl.transition=t}};ie.unstable_act=ju;ie.useCallback=function(e,t){return Je.current.useCallback(e,t)};ie.useContext=function(e){return Je.current.useContext(e)};ie.useDebugValue=function(){};ie.useDeferredValue=function(e){return Je.current.useDeferredValue(e)};ie.useEffect=function(e,t){return Je.current.useEffect(e,t)};ie.useId=function(){return Je.current.useId()};ie.useImperativeHandle=function(e,t,n){return Je.current.useImperativeHandle(e,t,n)};ie.useInsertionEffect=function(e,t){return Je.current.useInsertionEffect(e,t)};ie.useLayoutEffect=function(e,t){return Je.current.useLayoutEffect(e,t)};ie.useMemo=function(e,t){return Je.current.useMemo(e,t)};ie.useReducer=function(e,t,n){return Je.current.useReducer(e,t,n)};ie.useRef=function(e){return Je.current.useRef(e)};ie.useState=function(e){return Je.current.useState(e)};ie.useSyncExternalStore=function(e,t,n){return Je.current.useSyncExternalStore(e,t,n)};ie.useTransition=function(){return Je.current.useTransition()};ie.version="18.3.1";fu.exports=ie;var I=fu.exports;const Xd=Ad(I);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zd=I,qd=Symbol.for("react.element"),ep=Symbol.for("react.fragment"),tp=Object.prototype.hasOwnProperty,np=Zd.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,rp={key:!0,ref:!0,__self:!0,__source:!0};function wu(e,t,n){var r,l={},i=null,s=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)tp.call(t,r)&&!rp.hasOwnProperty(r)&&(l[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)l[r]===void 0&&(l[r]=t[r]);return{$$typeof:qd,type:e,key:i,ref:s,props:l,_owner:np.current}}ro.Fragment=ep;ro.jsx=wu;ro.jsxs=wu;pu.exports=ro;var o=pu.exports,qo={},ku={exports:{}},lt={},Cu={exports:{}},bu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(B,re){var oe=B.length;B.push(re);e:for(;0<oe;){var he=oe-1>>>1,Ee=B[he];if(0<l(Ee,re))B[he]=re,B[oe]=Ee,oe=he;else break e}}function n(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var re=B[0],oe=B.pop();if(oe!==re){B[0]=oe;e:for(var he=0,Ee=B.length,Nt=Ee>>>1;he<Nt;){var ee=2*(he+1)-1,se=B[ee],_t=ee+1,Rn=B[_t];if(0>l(se,oe))_t<Ee&&0>l(Rn,se)?(B[he]=Rn,B[_t]=oe,he=_t):(B[he]=se,B[ee]=oe,he=ee);else if(_t<Ee&&0>l(Rn,oe))B[he]=Rn,B[_t]=oe,he=_t;else break e}}return re}function l(B,re){var oe=B.sortIndex-re.sortIndex;return oe!==0?oe:B.id-re.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var s=Date,a=s.now();e.unstable_now=function(){return s.now()-a}}var c=[],x=[],v=1,j=null,y=3,D=!1,O=!1,M=!1,fe=typeof setTimeout=="function"?setTimeout:null,h=typeof clearTimeout=="function"?clearTimeout:null,d=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(B){for(var re=n(x);re!==null;){if(re.callback===null)r(x);else if(re.startTime<=B)r(x),re.sortIndex=re.expirationTime,t(c,re);else break;re=n(x)}}function z(B){if(M=!1,m(B),!O)if(n(c)!==null)O=!0,ht($);else{var re=n(x);re!==null&&hn(z,re.startTime-B)}}function $(B,re){O=!1,M&&(M=!1,h(G),G=-1),D=!0;var oe=y;try{for(m(re),j=n(c);j!==null&&(!(j.expirationTime>re)||B&&!Oe());){var he=j.callback;if(typeof he=="function"){j.callback=null,y=j.priorityLevel;var Ee=he(j.expirationTime<=re);re=e.unstable_now(),typeof Ee=="function"?j.callback=Ee:j===n(c)&&r(c),m(re)}else r(c);j=n(c)}if(j!==null)var Nt=!0;else{var ee=n(x);ee!==null&&hn(z,ee.startTime-re),Nt=!1}return Nt}finally{j=null,y=oe,D=!1}}var V=!1,J=null,G=-1,de=5,ne=-1;function Oe(){return!(e.unstable_now()-ne<de)}function pt(){if(J!==null){var B=e.unstable_now();ne=B;var re=!0;try{re=J(!0,B)}finally{re?ft():(V=!1,J=null)}}else V=!1}var ft;if(typeof d=="function")ft=function(){d(pt)};else if(typeof MessageChannel<"u"){var _n=new MessageChannel,So=_n.port2;_n.port1.onmessage=pt,ft=function(){So.postMessage(null)}}else ft=function(){fe(pt,0)};function ht(B){J=B,V||(V=!0,ft())}function hn(B,re){G=fe(function(){B(e.unstable_now())},re)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(B){B.callback=null},e.unstable_continueExecution=function(){O||D||(O=!0,ht($))},e.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):de=0<B?Math.floor(1e3/B):5},e.unstable_getCurrentPriorityLevel=function(){return y},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(B){switch(y){case 1:case 2:case 3:var re=3;break;default:re=y}var oe=y;y=re;try{return B()}finally{y=oe}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(B,re){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var oe=y;y=B;try{return re()}finally{y=oe}},e.unstable_scheduleCallback=function(B,re,oe){var he=e.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?he+oe:he):oe=he,B){case 1:var Ee=-1;break;case 2:Ee=250;break;case 5:Ee=1073741823;break;case 4:Ee=1e4;break;default:Ee=5e3}return Ee=oe+Ee,B={id:v++,callback:re,priorityLevel:B,startTime:oe,expirationTime:Ee,sortIndex:-1},oe>he?(B.sortIndex=oe,t(x,B),n(c)===null&&B===n(x)&&(M?(h(G),G=-1):M=!0,hn(z,oe-he))):(B.sortIndex=Ee,t(c,B),O||D||(O=!0,ht($))),B},e.unstable_shouldYield=Oe,e.unstable_wrapCallback=function(B){var re=y;return function(){var oe=y;y=re;try{return B.apply(this,arguments)}finally{y=oe}}}})(bu);Cu.exports=bu;var lp=Cu.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var op=I,rt=lp;function E(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var zu=new Set,Rr={};function Pn(e,t){qn(e,t),qn(e+"Capture",t)}function qn(e,t){for(Rr[e]=t,e=0;e<t.length;e++)zu.add(t[e])}var Wt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ei=Object.prototype.hasOwnProperty,ip=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ia={},sa={};function sp(e){return ei.call(sa,e)?!0:ei.call(ia,e)?!1:ip.test(e)?sa[e]=!0:(ia[e]=!0,!1)}function ap(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function up(e,t,n,r){if(t===null||typeof t>"u"||ap(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ke(e,t,n,r,l,i,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=l,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var Le={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Le[e]=new Ke(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Le[t]=new Ke(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Le[e]=new Ke(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Le[e]=new Ke(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Le[e]=new Ke(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Le[e]=new Ke(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Le[e]=new Ke(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Le[e]=new Ke(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Le[e]=new Ke(e,5,!1,e.toLowerCase(),null,!1,!1)});var Yi=/[\-:]([a-z])/g;function Xi(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Yi,Xi);Le[t]=new Ke(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Yi,Xi);Le[t]=new Ke(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Yi,Xi);Le[t]=new Ke(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Le[e]=new Ke(e,1,!1,e.toLowerCase(),null,!1,!1)});Le.xlinkHref=new Ke("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Le[e]=new Ke(e,1,!1,e.toLowerCase(),null,!0,!0)});function Zi(e,t,n,r){var l=Le.hasOwnProperty(t)?Le[t]:null;(l!==null?l.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(up(t,n,l,r)&&(n=null),r||l===null?sp(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):l.mustUseProperty?e[l.propertyName]=n===null?l.type===3?!1:"":n:(t=l.attributeName,r=l.attributeNamespace,n===null?e.removeAttribute(t):(l=l.type,n=l===3||l===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Ht=op.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ol=Symbol.for("react.element"),An=Symbol.for("react.portal"),In=Symbol.for("react.fragment"),qi=Symbol.for("react.strict_mode"),ti=Symbol.for("react.profiler"),Tu=Symbol.for("react.provider"),Eu=Symbol.for("react.context"),es=Symbol.for("react.forward_ref"),ni=Symbol.for("react.suspense"),ri=Symbol.for("react.suspense_list"),ts=Symbol.for("react.memo"),Kt=Symbol.for("react.lazy"),Pu=Symbol.for("react.offscreen"),aa=Symbol.iterator;function dr(e){return e===null||typeof e!="object"?null:(e=aa&&e[aa]||e["@@iterator"],typeof e=="function"?e:null)}var Ce=Object.assign,Eo;function vr(e){if(Eo===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Eo=t&&t[1]||""}return`
`+Eo+e}var Po=!1;function No(e,t){if(!e||Po)return"";Po=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(x){var r=x}Reflect.construct(e,[],t)}else{try{t.call()}catch(x){r=x}e.call(t.prototype)}else{try{throw Error()}catch(x){r=x}e()}}catch(x){if(x&&r&&typeof x.stack=="string"){for(var l=x.stack.split(`
`),i=r.stack.split(`
`),s=l.length-1,a=i.length-1;1<=s&&0<=a&&l[s]!==i[a];)a--;for(;1<=s&&0<=a;s--,a--)if(l[s]!==i[a]){if(s!==1||a!==1)do if(s--,a--,0>a||l[s]!==i[a]){var c=`
`+l[s].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=s&&0<=a);break}}}finally{Po=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?vr(e):""}function cp(e){switch(e.tag){case 5:return vr(e.type);case 16:return vr("Lazy");case 13:return vr("Suspense");case 19:return vr("SuspenseList");case 0:case 2:case 15:return e=No(e.type,!1),e;case 11:return e=No(e.type.render,!1),e;case 1:return e=No(e.type,!0),e;default:return""}}function li(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case In:return"Fragment";case An:return"Portal";case ti:return"Profiler";case qi:return"StrictMode";case ni:return"Suspense";case ri:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Eu:return(e.displayName||"Context")+".Consumer";case Tu:return(e._context.displayName||"Context")+".Provider";case es:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ts:return t=e.displayName||null,t!==null?t:li(e.type)||"Memo";case Kt:t=e._payload,e=e._init;try{return li(e(t))}catch{}}return null}function dp(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return li(t);case 8:return t===qi?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function un(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Nu(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function pp(e){var t=Nu(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var l=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(s){r=""+s,i.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function il(e){e._valueTracker||(e._valueTracker=pp(e))}function _u(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Nu(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Dl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function oi(e,t){var n=t.checked;return Ce({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function ua(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=un(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Ru(e,t){t=t.checked,t!=null&&Zi(e,"checked",t,!1)}function ii(e,t){Ru(e,t);var n=un(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?si(e,t.type,n):t.hasOwnProperty("defaultValue")&&si(e,t.type,un(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function ca(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function si(e,t,n){(t!=="number"||Dl(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Sr=Array.isArray;function Jn(e,t,n,r){if(e=e.options,t){t={};for(var l=0;l<n.length;l++)t["$"+n[l]]=!0;for(n=0;n<e.length;n++)l=t.hasOwnProperty("$"+e[n].value),e[n].selected!==l&&(e[n].selected=l),l&&r&&(e[n].defaultSelected=!0)}else{for(n=""+un(n),t=null,l=0;l<e.length;l++){if(e[l].value===n){e[l].selected=!0,r&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function ai(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(E(91));return Ce({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function da(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(E(92));if(Sr(n)){if(1<n.length)throw Error(E(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:un(n)}}function Du(e,t){var n=un(t.value),r=un(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function pa(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Fu(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ui(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Fu(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var sl,Au=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,l){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,l)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(sl=sl||document.createElement("div"),sl.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=sl.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Dr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var kr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fp=["Webkit","ms","Moz","O"];Object.keys(kr).forEach(function(e){fp.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),kr[t]=kr[e]})});function Iu(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||kr.hasOwnProperty(e)&&kr[e]?(""+t).trim():t+"px"}function Lu(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,l=Iu(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,l):e[n]=l}}var hp=Ce({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ci(e,t){if(t){if(hp[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(E(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(E(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(E(61))}if(t.style!=null&&typeof t.style!="object")throw Error(E(62))}}function di(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pi=null;function ns(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var fi=null,Kn=null,Gn=null;function fa(e){if(e=Zr(e)){if(typeof fi!="function")throw Error(E(280));var t=e.stateNode;t&&(t=ao(t),fi(e.stateNode,e.type,t))}}function Ou(e){Kn?Gn?Gn.push(e):Gn=[e]:Kn=e}function Bu(){if(Kn){var e=Kn,t=Gn;if(Gn=Kn=null,fa(e),t)for(e=0;e<t.length;e++)fa(t[e])}}function Mu(e,t){return e(t)}function Wu(){}var _o=!1;function $u(e,t,n){if(_o)return e(t,n);_o=!0;try{return Mu(e,t,n)}finally{_o=!1,(Kn!==null||Gn!==null)&&(Wu(),Bu())}}function Fr(e,t){var n=e.stateNode;if(n===null)return null;var r=ao(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(E(231,t,typeof n));return n}var hi=!1;if(Wt)try{var pr={};Object.defineProperty(pr,"passive",{get:function(){hi=!0}}),window.addEventListener("test",pr,pr),window.removeEventListener("test",pr,pr)}catch{hi=!1}function gp(e,t,n,r,l,i,s,a,c){var x=Array.prototype.slice.call(arguments,3);try{t.apply(n,x)}catch(v){this.onError(v)}}var Cr=!1,Fl=null,Al=!1,gi=null,xp={onError:function(e){Cr=!0,Fl=e}};function mp(e,t,n,r,l,i,s,a,c){Cr=!1,Fl=null,gp.apply(xp,arguments)}function yp(e,t,n,r,l,i,s,a,c){if(mp.apply(this,arguments),Cr){if(Cr){var x=Fl;Cr=!1,Fl=null}else throw Error(E(198));Al||(Al=!0,gi=x)}}function Nn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Vu(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ha(e){if(Nn(e)!==e)throw Error(E(188))}function vp(e){var t=e.alternate;if(!t){if(t=Nn(e),t===null)throw Error(E(188));return t!==e?null:e}for(var n=e,r=t;;){var l=n.return;if(l===null)break;var i=l.alternate;if(i===null){if(r=l.return,r!==null){n=r;continue}break}if(l.child===i.child){for(i=l.child;i;){if(i===n)return ha(l),e;if(i===r)return ha(l),t;i=i.sibling}throw Error(E(188))}if(n.return!==r.return)n=l,r=i;else{for(var s=!1,a=l.child;a;){if(a===n){s=!0,n=l,r=i;break}if(a===r){s=!0,r=l,n=i;break}a=a.sibling}if(!s){for(a=i.child;a;){if(a===n){s=!0,n=i,r=l;break}if(a===r){s=!0,r=i,n=l;break}a=a.sibling}if(!s)throw Error(E(189))}}if(n.alternate!==r)throw Error(E(190))}if(n.tag!==3)throw Error(E(188));return n.stateNode.current===n?e:t}function Uu(e){return e=vp(e),e!==null?Hu(e):null}function Hu(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Hu(e);if(t!==null)return t;e=e.sibling}return null}var Qu=rt.unstable_scheduleCallback,ga=rt.unstable_cancelCallback,Sp=rt.unstable_shouldYield,jp=rt.unstable_requestPaint,Te=rt.unstable_now,wp=rt.unstable_getCurrentPriorityLevel,rs=rt.unstable_ImmediatePriority,Ju=rt.unstable_UserBlockingPriority,Il=rt.unstable_NormalPriority,kp=rt.unstable_LowPriority,Ku=rt.unstable_IdlePriority,lo=null,Et=null;function Cp(e){if(Et&&typeof Et.onCommitFiberRoot=="function")try{Et.onCommitFiberRoot(lo,e,void 0,(e.current.flags&128)===128)}catch{}}var wt=Math.clz32?Math.clz32:Tp,bp=Math.log,zp=Math.LN2;function Tp(e){return e>>>=0,e===0?32:31-(bp(e)/zp|0)|0}var al=64,ul=4194304;function jr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ll(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,l=e.suspendedLanes,i=e.pingedLanes,s=n&268435455;if(s!==0){var a=s&~l;a!==0?r=jr(a):(i&=s,i!==0&&(r=jr(i)))}else s=n&~l,s!==0?r=jr(s):i!==0&&(r=jr(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&l)&&(l=r&-r,i=t&-t,l>=i||l===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-wt(t),l=1<<n,r|=e[n],t&=~l;return r}function Ep(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Pp(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,l=e.expirationTimes,i=e.pendingLanes;0<i;){var s=31-wt(i),a=1<<s,c=l[s];c===-1?(!(a&n)||a&r)&&(l[s]=Ep(a,t)):c<=t&&(e.expiredLanes|=a),i&=~a}}function xi(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Gu(){var e=al;return al<<=1,!(al&4194240)&&(al=64),e}function Ro(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Yr(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-wt(t),e[t]=n}function Np(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var l=31-wt(n),i=1<<l;t[l]=0,r[l]=-1,e[l]=-1,n&=~i}}function ls(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-wt(n),l=1<<r;l&t|e[r]&t&&(e[r]|=t),n&=~l}}var pe=0;function Yu(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Xu,os,Zu,qu,ec,mi=!1,cl=[],en=null,tn=null,nn=null,Ar=new Map,Ir=new Map,Yt=[],_p="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function xa(e,t){switch(e){case"focusin":case"focusout":en=null;break;case"dragenter":case"dragleave":tn=null;break;case"mouseover":case"mouseout":nn=null;break;case"pointerover":case"pointerout":Ar.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ir.delete(t.pointerId)}}function fr(e,t,n,r,l,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[l]},t!==null&&(t=Zr(t),t!==null&&os(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function Rp(e,t,n,r,l){switch(t){case"focusin":return en=fr(en,e,t,n,r,l),!0;case"dragenter":return tn=fr(tn,e,t,n,r,l),!0;case"mouseover":return nn=fr(nn,e,t,n,r,l),!0;case"pointerover":var i=l.pointerId;return Ar.set(i,fr(Ar.get(i)||null,e,t,n,r,l)),!0;case"gotpointercapture":return i=l.pointerId,Ir.set(i,fr(Ir.get(i)||null,e,t,n,r,l)),!0}return!1}function tc(e){var t=vn(e.target);if(t!==null){var n=Nn(t);if(n!==null){if(t=n.tag,t===13){if(t=Vu(n),t!==null){e.blockedOn=t,ec(e.priority,function(){Zu(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function kl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=yi(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);pi=r,n.target.dispatchEvent(r),pi=null}else return t=Zr(n),t!==null&&os(t),e.blockedOn=n,!1;t.shift()}return!0}function ma(e,t,n){kl(e)&&n.delete(t)}function Dp(){mi=!1,en!==null&&kl(en)&&(en=null),tn!==null&&kl(tn)&&(tn=null),nn!==null&&kl(nn)&&(nn=null),Ar.forEach(ma),Ir.forEach(ma)}function hr(e,t){e.blockedOn===t&&(e.blockedOn=null,mi||(mi=!0,rt.unstable_scheduleCallback(rt.unstable_NormalPriority,Dp)))}function Lr(e){function t(l){return hr(l,e)}if(0<cl.length){hr(cl[0],e);for(var n=1;n<cl.length;n++){var r=cl[n];r.blockedOn===e&&(r.blockedOn=null)}}for(en!==null&&hr(en,e),tn!==null&&hr(tn,e),nn!==null&&hr(nn,e),Ar.forEach(t),Ir.forEach(t),n=0;n<Yt.length;n++)r=Yt[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Yt.length&&(n=Yt[0],n.blockedOn===null);)tc(n),n.blockedOn===null&&Yt.shift()}var Yn=Ht.ReactCurrentBatchConfig,Ol=!0;function Fp(e,t,n,r){var l=pe,i=Yn.transition;Yn.transition=null;try{pe=1,is(e,t,n,r)}finally{pe=l,Yn.transition=i}}function Ap(e,t,n,r){var l=pe,i=Yn.transition;Yn.transition=null;try{pe=4,is(e,t,n,r)}finally{pe=l,Yn.transition=i}}function is(e,t,n,r){if(Ol){var l=yi(e,t,n,r);if(l===null)$o(e,t,r,Bl,n),xa(e,r);else if(Rp(l,e,t,n,r))r.stopPropagation();else if(xa(e,r),t&4&&-1<_p.indexOf(e)){for(;l!==null;){var i=Zr(l);if(i!==null&&Xu(i),i=yi(e,t,n,r),i===null&&$o(e,t,r,Bl,n),i===l)break;l=i}l!==null&&r.stopPropagation()}else $o(e,t,r,null,n)}}var Bl=null;function yi(e,t,n,r){if(Bl=null,e=ns(r),e=vn(e),e!==null)if(t=Nn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Vu(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Bl=e,null}function nc(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(wp()){case rs:return 1;case Ju:return 4;case Il:case kp:return 16;case Ku:return 536870912;default:return 16}default:return 16}}var Zt=null,ss=null,Cl=null;function rc(){if(Cl)return Cl;var e,t=ss,n=t.length,r,l="value"in Zt?Zt.value:Zt.textContent,i=l.length;for(e=0;e<n&&t[e]===l[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===l[i-r];r++);return Cl=l.slice(e,1<r?1-r:void 0)}function bl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function dl(){return!0}function ya(){return!1}function ot(e){function t(n,r,l,i,s){this._reactName=n,this._targetInst=l,this.type=r,this.nativeEvent=i,this.target=s,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?dl:ya,this.isPropagationStopped=ya,this}return Ce(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=dl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=dl)},persist:function(){},isPersistent:dl}),t}var sr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},as=ot(sr),Xr=Ce({},sr,{view:0,detail:0}),Ip=ot(Xr),Do,Fo,gr,oo=Ce({},Xr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:us,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==gr&&(gr&&e.type==="mousemove"?(Do=e.screenX-gr.screenX,Fo=e.screenY-gr.screenY):Fo=Do=0,gr=e),Do)},movementY:function(e){return"movementY"in e?e.movementY:Fo}}),va=ot(oo),Lp=Ce({},oo,{dataTransfer:0}),Op=ot(Lp),Bp=Ce({},Xr,{relatedTarget:0}),Ao=ot(Bp),Mp=Ce({},sr,{animationName:0,elapsedTime:0,pseudoElement:0}),Wp=ot(Mp),$p=Ce({},sr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Vp=ot($p),Up=Ce({},sr,{data:0}),Sa=ot(Up),Hp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Qp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Jp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Kp(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Jp[e])?!!t[e]:!1}function us(){return Kp}var Gp=Ce({},Xr,{key:function(e){if(e.key){var t=Hp[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=bl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Qp[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:us,charCode:function(e){return e.type==="keypress"?bl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?bl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Yp=ot(Gp),Xp=Ce({},oo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ja=ot(Xp),Zp=Ce({},Xr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:us}),qp=ot(Zp),ef=Ce({},sr,{propertyName:0,elapsedTime:0,pseudoElement:0}),tf=ot(ef),nf=Ce({},oo,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),rf=ot(nf),lf=[9,13,27,32],cs=Wt&&"CompositionEvent"in window,br=null;Wt&&"documentMode"in document&&(br=document.documentMode);var of=Wt&&"TextEvent"in window&&!br,lc=Wt&&(!cs||br&&8<br&&11>=br),wa=String.fromCharCode(32),ka=!1;function oc(e,t){switch(e){case"keyup":return lf.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ic(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ln=!1;function sf(e,t){switch(e){case"compositionend":return ic(t);case"keypress":return t.which!==32?null:(ka=!0,wa);case"textInput":return e=t.data,e===wa&&ka?null:e;default:return null}}function af(e,t){if(Ln)return e==="compositionend"||!cs&&oc(e,t)?(e=rc(),Cl=ss=Zt=null,Ln=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return lc&&t.locale!=="ko"?null:t.data;default:return null}}var uf={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ca(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!uf[e.type]:t==="textarea"}function sc(e,t,n,r){Ou(r),t=Ml(t,"onChange"),0<t.length&&(n=new as("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var zr=null,Or=null;function cf(e){yc(e,0)}function io(e){var t=Mn(e);if(_u(t))return e}function df(e,t){if(e==="change")return t}var ac=!1;if(Wt){var Io;if(Wt){var Lo="oninput"in document;if(!Lo){var ba=document.createElement("div");ba.setAttribute("oninput","return;"),Lo=typeof ba.oninput=="function"}Io=Lo}else Io=!1;ac=Io&&(!document.documentMode||9<document.documentMode)}function za(){zr&&(zr.detachEvent("onpropertychange",uc),Or=zr=null)}function uc(e){if(e.propertyName==="value"&&io(Or)){var t=[];sc(t,Or,e,ns(e)),$u(cf,t)}}function pf(e,t,n){e==="focusin"?(za(),zr=t,Or=n,zr.attachEvent("onpropertychange",uc)):e==="focusout"&&za()}function ff(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return io(Or)}function hf(e,t){if(e==="click")return io(t)}function gf(e,t){if(e==="input"||e==="change")return io(t)}function xf(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ct=typeof Object.is=="function"?Object.is:xf;function Br(e,t){if(Ct(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var l=n[r];if(!ei.call(t,l)||!Ct(e[l],t[l]))return!1}return!0}function Ta(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ea(e,t){var n=Ta(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ta(n)}}function cc(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?cc(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function dc(){for(var e=window,t=Dl();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Dl(e.document)}return t}function ds(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function mf(e){var t=dc(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&cc(n.ownerDocument.documentElement,n)){if(r!==null&&ds(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var l=n.textContent.length,i=Math.min(r.start,l);r=r.end===void 0?i:Math.min(r.end,l),!e.extend&&i>r&&(l=r,r=i,i=l),l=Ea(n,i);var s=Ea(n,r);l&&s&&(e.rangeCount!==1||e.anchorNode!==l.node||e.anchorOffset!==l.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(l.node,l.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var yf=Wt&&"documentMode"in document&&11>=document.documentMode,On=null,vi=null,Tr=null,Si=!1;function Pa(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Si||On==null||On!==Dl(r)||(r=On,"selectionStart"in r&&ds(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Tr&&Br(Tr,r)||(Tr=r,r=Ml(vi,"onSelect"),0<r.length&&(t=new as("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=On)))}function pl(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Bn={animationend:pl("Animation","AnimationEnd"),animationiteration:pl("Animation","AnimationIteration"),animationstart:pl("Animation","AnimationStart"),transitionend:pl("Transition","TransitionEnd")},Oo={},pc={};Wt&&(pc=document.createElement("div").style,"AnimationEvent"in window||(delete Bn.animationend.animation,delete Bn.animationiteration.animation,delete Bn.animationstart.animation),"TransitionEvent"in window||delete Bn.transitionend.transition);function so(e){if(Oo[e])return Oo[e];if(!Bn[e])return e;var t=Bn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in pc)return Oo[e]=t[n];return e}var fc=so("animationend"),hc=so("animationiteration"),gc=so("animationstart"),xc=so("transitionend"),mc=new Map,Na="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function dn(e,t){mc.set(e,t),Pn(t,[e])}for(var Bo=0;Bo<Na.length;Bo++){var Mo=Na[Bo],vf=Mo.toLowerCase(),Sf=Mo[0].toUpperCase()+Mo.slice(1);dn(vf,"on"+Sf)}dn(fc,"onAnimationEnd");dn(hc,"onAnimationIteration");dn(gc,"onAnimationStart");dn("dblclick","onDoubleClick");dn("focusin","onFocus");dn("focusout","onBlur");dn(xc,"onTransitionEnd");qn("onMouseEnter",["mouseout","mouseover"]);qn("onMouseLeave",["mouseout","mouseover"]);qn("onPointerEnter",["pointerout","pointerover"]);qn("onPointerLeave",["pointerout","pointerover"]);Pn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Pn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Pn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Pn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Pn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Pn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jf=new Set("cancel close invalid load scroll toggle".split(" ").concat(wr));function _a(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,yp(r,t,void 0,e),e.currentTarget=null}function yc(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],l=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],c=a.instance,x=a.currentTarget;if(a=a.listener,c!==i&&l.isPropagationStopped())break e;_a(l,a,x),i=c}else for(s=0;s<r.length;s++){if(a=r[s],c=a.instance,x=a.currentTarget,a=a.listener,c!==i&&l.isPropagationStopped())break e;_a(l,a,x),i=c}}}if(Al)throw e=gi,Al=!1,gi=null,e}function ye(e,t){var n=t[bi];n===void 0&&(n=t[bi]=new Set);var r=e+"__bubble";n.has(r)||(vc(t,e,2,!1),n.add(r))}function Wo(e,t,n){var r=0;t&&(r|=4),vc(n,e,r,t)}var fl="_reactListening"+Math.random().toString(36).slice(2);function Mr(e){if(!e[fl]){e[fl]=!0,zu.forEach(function(n){n!=="selectionchange"&&(jf.has(n)||Wo(n,!1,e),Wo(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[fl]||(t[fl]=!0,Wo("selectionchange",!1,t))}}function vc(e,t,n,r){switch(nc(t)){case 1:var l=Fp;break;case 4:l=Ap;break;default:l=is}n=l.bind(null,t,n,e),l=void 0,!hi||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),r?l!==void 0?e.addEventListener(t,n,{capture:!0,passive:l}):e.addEventListener(t,n,!0):l!==void 0?e.addEventListener(t,n,{passive:l}):e.addEventListener(t,n,!1)}function $o(e,t,n,r,l){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===l||a.nodeType===8&&a.parentNode===l)break;if(s===4)for(s=r.return;s!==null;){var c=s.tag;if((c===3||c===4)&&(c=s.stateNode.containerInfo,c===l||c.nodeType===8&&c.parentNode===l))return;s=s.return}for(;a!==null;){if(s=vn(a),s===null)return;if(c=s.tag,c===5||c===6){r=i=s;continue e}a=a.parentNode}}r=r.return}$u(function(){var x=i,v=ns(n),j=[];e:{var y=mc.get(e);if(y!==void 0){var D=as,O=e;switch(e){case"keypress":if(bl(n)===0)break e;case"keydown":case"keyup":D=Yp;break;case"focusin":O="focus",D=Ao;break;case"focusout":O="blur",D=Ao;break;case"beforeblur":case"afterblur":D=Ao;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":D=va;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":D=Op;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":D=qp;break;case fc:case hc:case gc:D=Wp;break;case xc:D=tf;break;case"scroll":D=Ip;break;case"wheel":D=rf;break;case"copy":case"cut":case"paste":D=Vp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":D=ja}var M=(t&4)!==0,fe=!M&&e==="scroll",h=M?y!==null?y+"Capture":null:y;M=[];for(var d=x,m;d!==null;){m=d;var z=m.stateNode;if(m.tag===5&&z!==null&&(m=z,h!==null&&(z=Fr(d,h),z!=null&&M.push(Wr(d,z,m)))),fe)break;d=d.return}0<M.length&&(y=new D(y,O,null,n,v),j.push({event:y,listeners:M}))}}if(!(t&7)){e:{if(y=e==="mouseover"||e==="pointerover",D=e==="mouseout"||e==="pointerout",y&&n!==pi&&(O=n.relatedTarget||n.fromElement)&&(vn(O)||O[$t]))break e;if((D||y)&&(y=v.window===v?v:(y=v.ownerDocument)?y.defaultView||y.parentWindow:window,D?(O=n.relatedTarget||n.toElement,D=x,O=O?vn(O):null,O!==null&&(fe=Nn(O),O!==fe||O.tag!==5&&O.tag!==6)&&(O=null)):(D=null,O=x),D!==O)){if(M=va,z="onMouseLeave",h="onMouseEnter",d="mouse",(e==="pointerout"||e==="pointerover")&&(M=ja,z="onPointerLeave",h="onPointerEnter",d="pointer"),fe=D==null?y:Mn(D),m=O==null?y:Mn(O),y=new M(z,d+"leave",D,n,v),y.target=fe,y.relatedTarget=m,z=null,vn(v)===x&&(M=new M(h,d+"enter",O,n,v),M.target=m,M.relatedTarget=fe,z=M),fe=z,D&&O)t:{for(M=D,h=O,d=0,m=M;m;m=Fn(m))d++;for(m=0,z=h;z;z=Fn(z))m++;for(;0<d-m;)M=Fn(M),d--;for(;0<m-d;)h=Fn(h),m--;for(;d--;){if(M===h||h!==null&&M===h.alternate)break t;M=Fn(M),h=Fn(h)}M=null}else M=null;D!==null&&Ra(j,y,D,M,!1),O!==null&&fe!==null&&Ra(j,fe,O,M,!0)}}e:{if(y=x?Mn(x):window,D=y.nodeName&&y.nodeName.toLowerCase(),D==="select"||D==="input"&&y.type==="file")var $=df;else if(Ca(y))if(ac)$=gf;else{$=ff;var V=pf}else(D=y.nodeName)&&D.toLowerCase()==="input"&&(y.type==="checkbox"||y.type==="radio")&&($=hf);if($&&($=$(e,x))){sc(j,$,n,v);break e}V&&V(e,y,x),e==="focusout"&&(V=y._wrapperState)&&V.controlled&&y.type==="number"&&si(y,"number",y.value)}switch(V=x?Mn(x):window,e){case"focusin":(Ca(V)||V.contentEditable==="true")&&(On=V,vi=x,Tr=null);break;case"focusout":Tr=vi=On=null;break;case"mousedown":Si=!0;break;case"contextmenu":case"mouseup":case"dragend":Si=!1,Pa(j,n,v);break;case"selectionchange":if(yf)break;case"keydown":case"keyup":Pa(j,n,v)}var J;if(cs)e:{switch(e){case"compositionstart":var G="onCompositionStart";break e;case"compositionend":G="onCompositionEnd";break e;case"compositionupdate":G="onCompositionUpdate";break e}G=void 0}else Ln?oc(e,n)&&(G="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(G="onCompositionStart");G&&(lc&&n.locale!=="ko"&&(Ln||G!=="onCompositionStart"?G==="onCompositionEnd"&&Ln&&(J=rc()):(Zt=v,ss="value"in Zt?Zt.value:Zt.textContent,Ln=!0)),V=Ml(x,G),0<V.length&&(G=new Sa(G,e,null,n,v),j.push({event:G,listeners:V}),J?G.data=J:(J=ic(n),J!==null&&(G.data=J)))),(J=of?sf(e,n):af(e,n))&&(x=Ml(x,"onBeforeInput"),0<x.length&&(v=new Sa("onBeforeInput","beforeinput",null,n,v),j.push({event:v,listeners:x}),v.data=J))}yc(j,t)})}function Wr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ml(e,t){for(var n=t+"Capture",r=[];e!==null;){var l=e,i=l.stateNode;l.tag===5&&i!==null&&(l=i,i=Fr(e,n),i!=null&&r.unshift(Wr(e,i,l)),i=Fr(e,t),i!=null&&r.push(Wr(e,i,l))),e=e.return}return r}function Fn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Ra(e,t,n,r,l){for(var i=t._reactName,s=[];n!==null&&n!==r;){var a=n,c=a.alternate,x=a.stateNode;if(c!==null&&c===r)break;a.tag===5&&x!==null&&(a=x,l?(c=Fr(n,i),c!=null&&s.unshift(Wr(n,c,a))):l||(c=Fr(n,i),c!=null&&s.push(Wr(n,c,a)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var wf=/\r\n?/g,kf=/\u0000|\uFFFD/g;function Da(e){return(typeof e=="string"?e:""+e).replace(wf,`
`).replace(kf,"")}function hl(e,t,n){if(t=Da(t),Da(e)!==t&&n)throw Error(E(425))}function Wl(){}var ji=null,wi=null;function ki(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ci=typeof setTimeout=="function"?setTimeout:void 0,Cf=typeof clearTimeout=="function"?clearTimeout:void 0,Fa=typeof Promise=="function"?Promise:void 0,bf=typeof queueMicrotask=="function"?queueMicrotask:typeof Fa<"u"?function(e){return Fa.resolve(null).then(e).catch(zf)}:Ci;function zf(e){setTimeout(function(){throw e})}function Vo(e,t){var n=t,r=0;do{var l=n.nextSibling;if(e.removeChild(n),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(r===0){e.removeChild(l),Lr(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=l}while(n);Lr(t)}function rn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Aa(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var ar=Math.random().toString(36).slice(2),Tt="__reactFiber$"+ar,$r="__reactProps$"+ar,$t="__reactContainer$"+ar,bi="__reactEvents$"+ar,Tf="__reactListeners$"+ar,Ef="__reactHandles$"+ar;function vn(e){var t=e[Tt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[$t]||n[Tt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Aa(e);e!==null;){if(n=e[Tt])return n;e=Aa(e)}return t}e=n,n=e.parentNode}return null}function Zr(e){return e=e[Tt]||e[$t],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Mn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(E(33))}function ao(e){return e[$r]||null}var zi=[],Wn=-1;function pn(e){return{current:e}}function ve(e){0>Wn||(e.current=zi[Wn],zi[Wn]=null,Wn--)}function xe(e,t){Wn++,zi[Wn]=e.current,e.current=t}var cn={},$e=pn(cn),Xe=pn(!1),Cn=cn;function er(e,t){var n=e.type.contextTypes;if(!n)return cn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var l={},i;for(i in n)l[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function Ze(e){return e=e.childContextTypes,e!=null}function $l(){ve(Xe),ve($e)}function Ia(e,t,n){if($e.current!==cn)throw Error(E(168));xe($e,t),xe(Xe,n)}function Sc(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var l in r)if(!(l in t))throw Error(E(108,dp(e)||"Unknown",l));return Ce({},n,r)}function Vl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||cn,Cn=$e.current,xe($e,e),xe(Xe,Xe.current),!0}function La(e,t,n){var r=e.stateNode;if(!r)throw Error(E(169));n?(e=Sc(e,t,Cn),r.__reactInternalMemoizedMergedChildContext=e,ve(Xe),ve($e),xe($e,e)):ve(Xe),xe(Xe,n)}var Lt=null,uo=!1,Uo=!1;function jc(e){Lt===null?Lt=[e]:Lt.push(e)}function Pf(e){uo=!0,jc(e)}function fn(){if(!Uo&&Lt!==null){Uo=!0;var e=0,t=pe;try{var n=Lt;for(pe=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Lt=null,uo=!1}catch(l){throw Lt!==null&&(Lt=Lt.slice(e+1)),Qu(rs,fn),l}finally{pe=t,Uo=!1}}return null}var $n=[],Vn=0,Ul=null,Hl=0,it=[],st=0,bn=null,Ot=1,Bt="";function mn(e,t){$n[Vn++]=Hl,$n[Vn++]=Ul,Ul=e,Hl=t}function wc(e,t,n){it[st++]=Ot,it[st++]=Bt,it[st++]=bn,bn=e;var r=Ot;e=Bt;var l=32-wt(r)-1;r&=~(1<<l),n+=1;var i=32-wt(t)+l;if(30<i){var s=l-l%5;i=(r&(1<<s)-1).toString(32),r>>=s,l-=s,Ot=1<<32-wt(t)+l|n<<l|r,Bt=i+e}else Ot=1<<i|n<<l|r,Bt=e}function ps(e){e.return!==null&&(mn(e,1),wc(e,1,0))}function fs(e){for(;e===Ul;)Ul=$n[--Vn],$n[Vn]=null,Hl=$n[--Vn],$n[Vn]=null;for(;e===bn;)bn=it[--st],it[st]=null,Bt=it[--st],it[st]=null,Ot=it[--st],it[st]=null}var nt=null,tt=null,Se=!1,jt=null;function kc(e,t){var n=at(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Oa(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,nt=e,tt=rn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,nt=e,tt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=bn!==null?{id:Ot,overflow:Bt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=at(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,nt=e,tt=null,!0):!1;default:return!1}}function Ti(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ei(e){if(Se){var t=tt;if(t){var n=t;if(!Oa(e,t)){if(Ti(e))throw Error(E(418));t=rn(n.nextSibling);var r=nt;t&&Oa(e,t)?kc(r,n):(e.flags=e.flags&-4097|2,Se=!1,nt=e)}}else{if(Ti(e))throw Error(E(418));e.flags=e.flags&-4097|2,Se=!1,nt=e}}}function Ba(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;nt=e}function gl(e){if(e!==nt)return!1;if(!Se)return Ba(e),Se=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ki(e.type,e.memoizedProps)),t&&(t=tt)){if(Ti(e))throw Cc(),Error(E(418));for(;t;)kc(e,t),t=rn(t.nextSibling)}if(Ba(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(E(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){tt=rn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}tt=null}}else tt=nt?rn(e.stateNode.nextSibling):null;return!0}function Cc(){for(var e=tt;e;)e=rn(e.nextSibling)}function tr(){tt=nt=null,Se=!1}function hs(e){jt===null?jt=[e]:jt.push(e)}var Nf=Ht.ReactCurrentBatchConfig;function xr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(E(309));var r=n.stateNode}if(!r)throw Error(E(147,e));var l=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(s){var a=l.refs;s===null?delete a[i]:a[i]=s},t._stringRef=i,t)}if(typeof e!="string")throw Error(E(284));if(!n._owner)throw Error(E(290,e))}return e}function xl(e,t){throw e=Object.prototype.toString.call(t),Error(E(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ma(e){var t=e._init;return t(e._payload)}function bc(e){function t(h,d){if(e){var m=h.deletions;m===null?(h.deletions=[d],h.flags|=16):m.push(d)}}function n(h,d){if(!e)return null;for(;d!==null;)t(h,d),d=d.sibling;return null}function r(h,d){for(h=new Map;d!==null;)d.key!==null?h.set(d.key,d):h.set(d.index,d),d=d.sibling;return h}function l(h,d){return h=an(h,d),h.index=0,h.sibling=null,h}function i(h,d,m){return h.index=m,e?(m=h.alternate,m!==null?(m=m.index,m<d?(h.flags|=2,d):m):(h.flags|=2,d)):(h.flags|=1048576,d)}function s(h){return e&&h.alternate===null&&(h.flags|=2),h}function a(h,d,m,z){return d===null||d.tag!==6?(d=Xo(m,h.mode,z),d.return=h,d):(d=l(d,m),d.return=h,d)}function c(h,d,m,z){var $=m.type;return $===In?v(h,d,m.props.children,z,m.key):d!==null&&(d.elementType===$||typeof $=="object"&&$!==null&&$.$$typeof===Kt&&Ma($)===d.type)?(z=l(d,m.props),z.ref=xr(h,d,m),z.return=h,z):(z=Rl(m.type,m.key,m.props,null,h.mode,z),z.ref=xr(h,d,m),z.return=h,z)}function x(h,d,m,z){return d===null||d.tag!==4||d.stateNode.containerInfo!==m.containerInfo||d.stateNode.implementation!==m.implementation?(d=Zo(m,h.mode,z),d.return=h,d):(d=l(d,m.children||[]),d.return=h,d)}function v(h,d,m,z,$){return d===null||d.tag!==7?(d=kn(m,h.mode,z,$),d.return=h,d):(d=l(d,m),d.return=h,d)}function j(h,d,m){if(typeof d=="string"&&d!==""||typeof d=="number")return d=Xo(""+d,h.mode,m),d.return=h,d;if(typeof d=="object"&&d!==null){switch(d.$$typeof){case ol:return m=Rl(d.type,d.key,d.props,null,h.mode,m),m.ref=xr(h,null,d),m.return=h,m;case An:return d=Zo(d,h.mode,m),d.return=h,d;case Kt:var z=d._init;return j(h,z(d._payload),m)}if(Sr(d)||dr(d))return d=kn(d,h.mode,m,null),d.return=h,d;xl(h,d)}return null}function y(h,d,m,z){var $=d!==null?d.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return $!==null?null:a(h,d,""+m,z);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case ol:return m.key===$?c(h,d,m,z):null;case An:return m.key===$?x(h,d,m,z):null;case Kt:return $=m._init,y(h,d,$(m._payload),z)}if(Sr(m)||dr(m))return $!==null?null:v(h,d,m,z,null);xl(h,m)}return null}function D(h,d,m,z,$){if(typeof z=="string"&&z!==""||typeof z=="number")return h=h.get(m)||null,a(d,h,""+z,$);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case ol:return h=h.get(z.key===null?m:z.key)||null,c(d,h,z,$);case An:return h=h.get(z.key===null?m:z.key)||null,x(d,h,z,$);case Kt:var V=z._init;return D(h,d,m,V(z._payload),$)}if(Sr(z)||dr(z))return h=h.get(m)||null,v(d,h,z,$,null);xl(d,z)}return null}function O(h,d,m,z){for(var $=null,V=null,J=d,G=d=0,de=null;J!==null&&G<m.length;G++){J.index>G?(de=J,J=null):de=J.sibling;var ne=y(h,J,m[G],z);if(ne===null){J===null&&(J=de);break}e&&J&&ne.alternate===null&&t(h,J),d=i(ne,d,G),V===null?$=ne:V.sibling=ne,V=ne,J=de}if(G===m.length)return n(h,J),Se&&mn(h,G),$;if(J===null){for(;G<m.length;G++)J=j(h,m[G],z),J!==null&&(d=i(J,d,G),V===null?$=J:V.sibling=J,V=J);return Se&&mn(h,G),$}for(J=r(h,J);G<m.length;G++)de=D(J,h,G,m[G],z),de!==null&&(e&&de.alternate!==null&&J.delete(de.key===null?G:de.key),d=i(de,d,G),V===null?$=de:V.sibling=de,V=de);return e&&J.forEach(function(Oe){return t(h,Oe)}),Se&&mn(h,G),$}function M(h,d,m,z){var $=dr(m);if(typeof $!="function")throw Error(E(150));if(m=$.call(m),m==null)throw Error(E(151));for(var V=$=null,J=d,G=d=0,de=null,ne=m.next();J!==null&&!ne.done;G++,ne=m.next()){J.index>G?(de=J,J=null):de=J.sibling;var Oe=y(h,J,ne.value,z);if(Oe===null){J===null&&(J=de);break}e&&J&&Oe.alternate===null&&t(h,J),d=i(Oe,d,G),V===null?$=Oe:V.sibling=Oe,V=Oe,J=de}if(ne.done)return n(h,J),Se&&mn(h,G),$;if(J===null){for(;!ne.done;G++,ne=m.next())ne=j(h,ne.value,z),ne!==null&&(d=i(ne,d,G),V===null?$=ne:V.sibling=ne,V=ne);return Se&&mn(h,G),$}for(J=r(h,J);!ne.done;G++,ne=m.next())ne=D(J,h,G,ne.value,z),ne!==null&&(e&&ne.alternate!==null&&J.delete(ne.key===null?G:ne.key),d=i(ne,d,G),V===null?$=ne:V.sibling=ne,V=ne);return e&&J.forEach(function(pt){return t(h,pt)}),Se&&mn(h,G),$}function fe(h,d,m,z){if(typeof m=="object"&&m!==null&&m.type===In&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case ol:e:{for(var $=m.key,V=d;V!==null;){if(V.key===$){if($=m.type,$===In){if(V.tag===7){n(h,V.sibling),d=l(V,m.props.children),d.return=h,h=d;break e}}else if(V.elementType===$||typeof $=="object"&&$!==null&&$.$$typeof===Kt&&Ma($)===V.type){n(h,V.sibling),d=l(V,m.props),d.ref=xr(h,V,m),d.return=h,h=d;break e}n(h,V);break}else t(h,V);V=V.sibling}m.type===In?(d=kn(m.props.children,h.mode,z,m.key),d.return=h,h=d):(z=Rl(m.type,m.key,m.props,null,h.mode,z),z.ref=xr(h,d,m),z.return=h,h=z)}return s(h);case An:e:{for(V=m.key;d!==null;){if(d.key===V)if(d.tag===4&&d.stateNode.containerInfo===m.containerInfo&&d.stateNode.implementation===m.implementation){n(h,d.sibling),d=l(d,m.children||[]),d.return=h,h=d;break e}else{n(h,d);break}else t(h,d);d=d.sibling}d=Zo(m,h.mode,z),d.return=h,h=d}return s(h);case Kt:return V=m._init,fe(h,d,V(m._payload),z)}if(Sr(m))return O(h,d,m,z);if(dr(m))return M(h,d,m,z);xl(h,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,d!==null&&d.tag===6?(n(h,d.sibling),d=l(d,m),d.return=h,h=d):(n(h,d),d=Xo(m,h.mode,z),d.return=h,h=d),s(h)):n(h,d)}return fe}var nr=bc(!0),zc=bc(!1),Ql=pn(null),Jl=null,Un=null,gs=null;function xs(){gs=Un=Jl=null}function ms(e){var t=Ql.current;ve(Ql),e._currentValue=t}function Pi(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Xn(e,t){Jl=e,gs=Un=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ye=!0),e.firstContext=null)}function ct(e){var t=e._currentValue;if(gs!==e)if(e={context:e,memoizedValue:t,next:null},Un===null){if(Jl===null)throw Error(E(308));Un=e,Jl.dependencies={lanes:0,firstContext:e}}else Un=Un.next=e;return t}var Sn=null;function ys(e){Sn===null?Sn=[e]:Sn.push(e)}function Tc(e,t,n,r){var l=t.interleaved;return l===null?(n.next=n,ys(t)):(n.next=l.next,l.next=n),t.interleaved=n,Vt(e,r)}function Vt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Gt=!1;function vs(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ec(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Mt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ln(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ue&2){var l=r.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),r.pending=t,Vt(e,n)}return l=r.interleaved,l===null?(t.next=t,ys(r)):(t.next=l.next,l.next=t),r.interleaved=t,Vt(e,n)}function zl(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ls(e,n)}}function Wa(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var l=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?l=i=s:i=i.next=s,n=n.next}while(n!==null);i===null?l=i=t:i=i.next=t}else l=i=t;n={baseState:r.baseState,firstBaseUpdate:l,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Kl(e,t,n,r){var l=e.updateQueue;Gt=!1;var i=l.firstBaseUpdate,s=l.lastBaseUpdate,a=l.shared.pending;if(a!==null){l.shared.pending=null;var c=a,x=c.next;c.next=null,s===null?i=x:s.next=x,s=c;var v=e.alternate;v!==null&&(v=v.updateQueue,a=v.lastBaseUpdate,a!==s&&(a===null?v.firstBaseUpdate=x:a.next=x,v.lastBaseUpdate=c))}if(i!==null){var j=l.baseState;s=0,v=x=c=null,a=i;do{var y=a.lane,D=a.eventTime;if((r&y)===y){v!==null&&(v=v.next={eventTime:D,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var O=e,M=a;switch(y=t,D=n,M.tag){case 1:if(O=M.payload,typeof O=="function"){j=O.call(D,j,y);break e}j=O;break e;case 3:O.flags=O.flags&-65537|128;case 0:if(O=M.payload,y=typeof O=="function"?O.call(D,j,y):O,y==null)break e;j=Ce({},j,y);break e;case 2:Gt=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,y=l.effects,y===null?l.effects=[a]:y.push(a))}else D={eventTime:D,lane:y,tag:a.tag,payload:a.payload,callback:a.callback,next:null},v===null?(x=v=D,c=j):v=v.next=D,s|=y;if(a=a.next,a===null){if(a=l.shared.pending,a===null)break;y=a,a=y.next,y.next=null,l.lastBaseUpdate=y,l.shared.pending=null}}while(1);if(v===null&&(c=j),l.baseState=c,l.firstBaseUpdate=x,l.lastBaseUpdate=v,t=l.shared.interleaved,t!==null){l=t;do s|=l.lane,l=l.next;while(l!==t)}else i===null&&(l.shared.lanes=0);Tn|=s,e.lanes=s,e.memoizedState=j}}function $a(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],l=r.callback;if(l!==null){if(r.callback=null,r=n,typeof l!="function")throw Error(E(191,l));l.call(r)}}}var qr={},Pt=pn(qr),Vr=pn(qr),Ur=pn(qr);function jn(e){if(e===qr)throw Error(E(174));return e}function Ss(e,t){switch(xe(Ur,t),xe(Vr,e),xe(Pt,qr),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ui(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ui(t,e)}ve(Pt),xe(Pt,t)}function rr(){ve(Pt),ve(Vr),ve(Ur)}function Pc(e){jn(Ur.current);var t=jn(Pt.current),n=ui(t,e.type);t!==n&&(xe(Vr,e),xe(Pt,n))}function js(e){Vr.current===e&&(ve(Pt),ve(Vr))}var we=pn(0);function Gl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ho=[];function ws(){for(var e=0;e<Ho.length;e++)Ho[e]._workInProgressVersionPrimary=null;Ho.length=0}var Tl=Ht.ReactCurrentDispatcher,Qo=Ht.ReactCurrentBatchConfig,zn=0,ke=null,Ne=null,Re=null,Yl=!1,Er=!1,Hr=0,_f=0;function Be(){throw Error(E(321))}function ks(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ct(e[n],t[n]))return!1;return!0}function Cs(e,t,n,r,l,i){if(zn=i,ke=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Tl.current=e===null||e.memoizedState===null?Af:If,e=n(r,l),Er){i=0;do{if(Er=!1,Hr=0,25<=i)throw Error(E(301));i+=1,Re=Ne=null,t.updateQueue=null,Tl.current=Lf,e=n(r,l)}while(Er)}if(Tl.current=Xl,t=Ne!==null&&Ne.next!==null,zn=0,Re=Ne=ke=null,Yl=!1,t)throw Error(E(300));return e}function bs(){var e=Hr!==0;return Hr=0,e}function zt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Re===null?ke.memoizedState=Re=e:Re=Re.next=e,Re}function dt(){if(Ne===null){var e=ke.alternate;e=e!==null?e.memoizedState:null}else e=Ne.next;var t=Re===null?ke.memoizedState:Re.next;if(t!==null)Re=t,Ne=e;else{if(e===null)throw Error(E(310));Ne=e,e={memoizedState:Ne.memoizedState,baseState:Ne.baseState,baseQueue:Ne.baseQueue,queue:Ne.queue,next:null},Re===null?ke.memoizedState=Re=e:Re=Re.next=e}return Re}function Qr(e,t){return typeof t=="function"?t(e):t}function Jo(e){var t=dt(),n=t.queue;if(n===null)throw Error(E(311));n.lastRenderedReducer=e;var r=Ne,l=r.baseQueue,i=n.pending;if(i!==null){if(l!==null){var s=l.next;l.next=i.next,i.next=s}r.baseQueue=l=i,n.pending=null}if(l!==null){i=l.next,r=r.baseState;var a=s=null,c=null,x=i;do{var v=x.lane;if((zn&v)===v)c!==null&&(c=c.next={lane:0,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null}),r=x.hasEagerState?x.eagerState:e(r,x.action);else{var j={lane:v,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null};c===null?(a=c=j,s=r):c=c.next=j,ke.lanes|=v,Tn|=v}x=x.next}while(x!==null&&x!==i);c===null?s=r:c.next=a,Ct(r,t.memoizedState)||(Ye=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){l=e;do i=l.lane,ke.lanes|=i,Tn|=i,l=l.next;while(l!==e)}else l===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ko(e){var t=dt(),n=t.queue;if(n===null)throw Error(E(311));n.lastRenderedReducer=e;var r=n.dispatch,l=n.pending,i=t.memoizedState;if(l!==null){n.pending=null;var s=l=l.next;do i=e(i,s.action),s=s.next;while(s!==l);Ct(i,t.memoizedState)||(Ye=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Nc(){}function _c(e,t){var n=ke,r=dt(),l=t(),i=!Ct(r.memoizedState,l);if(i&&(r.memoizedState=l,Ye=!0),r=r.queue,zs(Fc.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||Re!==null&&Re.memoizedState.tag&1){if(n.flags|=2048,Jr(9,Dc.bind(null,n,r,l,t),void 0,null),De===null)throw Error(E(349));zn&30||Rc(n,t,l)}return l}function Rc(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ke.updateQueue,t===null?(t={lastEffect:null,stores:null},ke.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Dc(e,t,n,r){t.value=n,t.getSnapshot=r,Ac(t)&&Ic(e)}function Fc(e,t,n){return n(function(){Ac(t)&&Ic(e)})}function Ac(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ct(e,n)}catch{return!0}}function Ic(e){var t=Vt(e,1);t!==null&&kt(t,e,1,-1)}function Va(e){var t=zt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Qr,lastRenderedState:e},t.queue=e,e=e.dispatch=Ff.bind(null,ke,e),[t.memoizedState,e]}function Jr(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ke.updateQueue,t===null?(t={lastEffect:null,stores:null},ke.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Lc(){return dt().memoizedState}function El(e,t,n,r){var l=zt();ke.flags|=e,l.memoizedState=Jr(1|t,n,void 0,r===void 0?null:r)}function co(e,t,n,r){var l=dt();r=r===void 0?null:r;var i=void 0;if(Ne!==null){var s=Ne.memoizedState;if(i=s.destroy,r!==null&&ks(r,s.deps)){l.memoizedState=Jr(t,n,i,r);return}}ke.flags|=e,l.memoizedState=Jr(1|t,n,i,r)}function Ua(e,t){return El(8390656,8,e,t)}function zs(e,t){return co(2048,8,e,t)}function Oc(e,t){return co(4,2,e,t)}function Bc(e,t){return co(4,4,e,t)}function Mc(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Wc(e,t,n){return n=n!=null?n.concat([e]):null,co(4,4,Mc.bind(null,t,e),n)}function Ts(){}function $c(e,t){var n=dt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&ks(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Vc(e,t){var n=dt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&ks(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Uc(e,t,n){return zn&21?(Ct(n,t)||(n=Gu(),ke.lanes|=n,Tn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ye=!0),e.memoizedState=n)}function Rf(e,t){var n=pe;pe=n!==0&&4>n?n:4,e(!0);var r=Qo.transition;Qo.transition={};try{e(!1),t()}finally{pe=n,Qo.transition=r}}function Hc(){return dt().memoizedState}function Df(e,t,n){var r=sn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Qc(e))Jc(t,n);else if(n=Tc(e,t,n,r),n!==null){var l=Qe();kt(n,e,r,l),Kc(n,t,r)}}function Ff(e,t,n){var r=sn(e),l={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Qc(e))Jc(t,l);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var s=t.lastRenderedState,a=i(s,n);if(l.hasEagerState=!0,l.eagerState=a,Ct(a,s)){var c=t.interleaved;c===null?(l.next=l,ys(t)):(l.next=c.next,c.next=l),t.interleaved=l;return}}catch{}finally{}n=Tc(e,t,l,r),n!==null&&(l=Qe(),kt(n,e,r,l),Kc(n,t,r))}}function Qc(e){var t=e.alternate;return e===ke||t!==null&&t===ke}function Jc(e,t){Er=Yl=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Kc(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ls(e,n)}}var Xl={readContext:ct,useCallback:Be,useContext:Be,useEffect:Be,useImperativeHandle:Be,useInsertionEffect:Be,useLayoutEffect:Be,useMemo:Be,useReducer:Be,useRef:Be,useState:Be,useDebugValue:Be,useDeferredValue:Be,useTransition:Be,useMutableSource:Be,useSyncExternalStore:Be,useId:Be,unstable_isNewReconciler:!1},Af={readContext:ct,useCallback:function(e,t){return zt().memoizedState=[e,t===void 0?null:t],e},useContext:ct,useEffect:Ua,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,El(4194308,4,Mc.bind(null,t,e),n)},useLayoutEffect:function(e,t){return El(4194308,4,e,t)},useInsertionEffect:function(e,t){return El(4,2,e,t)},useMemo:function(e,t){var n=zt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=zt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Df.bind(null,ke,e),[r.memoizedState,e]},useRef:function(e){var t=zt();return e={current:e},t.memoizedState=e},useState:Va,useDebugValue:Ts,useDeferredValue:function(e){return zt().memoizedState=e},useTransition:function(){var e=Va(!1),t=e[0];return e=Rf.bind(null,e[1]),zt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ke,l=zt();if(Se){if(n===void 0)throw Error(E(407));n=n()}else{if(n=t(),De===null)throw Error(E(349));zn&30||Rc(r,t,n)}l.memoizedState=n;var i={value:n,getSnapshot:t};return l.queue=i,Ua(Fc.bind(null,r,i,e),[e]),r.flags|=2048,Jr(9,Dc.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=zt(),t=De.identifierPrefix;if(Se){var n=Bt,r=Ot;n=(r&~(1<<32-wt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Hr++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=_f++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},If={readContext:ct,useCallback:$c,useContext:ct,useEffect:zs,useImperativeHandle:Wc,useInsertionEffect:Oc,useLayoutEffect:Bc,useMemo:Vc,useReducer:Jo,useRef:Lc,useState:function(){return Jo(Qr)},useDebugValue:Ts,useDeferredValue:function(e){var t=dt();return Uc(t,Ne.memoizedState,e)},useTransition:function(){var e=Jo(Qr)[0],t=dt().memoizedState;return[e,t]},useMutableSource:Nc,useSyncExternalStore:_c,useId:Hc,unstable_isNewReconciler:!1},Lf={readContext:ct,useCallback:$c,useContext:ct,useEffect:zs,useImperativeHandle:Wc,useInsertionEffect:Oc,useLayoutEffect:Bc,useMemo:Vc,useReducer:Ko,useRef:Lc,useState:function(){return Ko(Qr)},useDebugValue:Ts,useDeferredValue:function(e){var t=dt();return Ne===null?t.memoizedState=e:Uc(t,Ne.memoizedState,e)},useTransition:function(){var e=Ko(Qr)[0],t=dt().memoizedState;return[e,t]},useMutableSource:Nc,useSyncExternalStore:_c,useId:Hc,unstable_isNewReconciler:!1};function vt(e,t){if(e&&e.defaultProps){t=Ce({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Ni(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Ce({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var po={isMounted:function(e){return(e=e._reactInternals)?Nn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Qe(),l=sn(e),i=Mt(r,l);i.payload=t,n!=null&&(i.callback=n),t=ln(e,i,l),t!==null&&(kt(t,e,l,r),zl(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Qe(),l=sn(e),i=Mt(r,l);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=ln(e,i,l),t!==null&&(kt(t,e,l,r),zl(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Qe(),r=sn(e),l=Mt(n,r);l.tag=2,t!=null&&(l.callback=t),t=ln(e,l,r),t!==null&&(kt(t,e,r,n),zl(t,e,r))}};function Ha(e,t,n,r,l,i,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,s):t.prototype&&t.prototype.isPureReactComponent?!Br(n,r)||!Br(l,i):!0}function Gc(e,t,n){var r=!1,l=cn,i=t.contextType;return typeof i=="object"&&i!==null?i=ct(i):(l=Ze(t)?Cn:$e.current,r=t.contextTypes,i=(r=r!=null)?er(e,l):cn),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=po,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=i),t}function Qa(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&po.enqueueReplaceState(t,t.state,null)}function _i(e,t,n,r){var l=e.stateNode;l.props=n,l.state=e.memoizedState,l.refs={},vs(e);var i=t.contextType;typeof i=="object"&&i!==null?l.context=ct(i):(i=Ze(t)?Cn:$e.current,l.context=er(e,i)),l.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Ni(e,t,i,n),l.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(t=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),t!==l.state&&po.enqueueReplaceState(l,l.state,null),Kl(e,n,l,r),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308)}function lr(e,t){try{var n="",r=t;do n+=cp(r),r=r.return;while(r);var l=n}catch(i){l=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:l,digest:null}}function Go(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Ri(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Of=typeof WeakMap=="function"?WeakMap:Map;function Yc(e,t,n){n=Mt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ql||(ql=!0,$i=r),Ri(e,t)},n}function Xc(e,t,n){n=Mt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var l=t.value;n.payload=function(){return r(l)},n.callback=function(){Ri(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Ri(e,t),typeof r!="function"&&(on===null?on=new Set([this]):on.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function Ja(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Of;var l=new Set;r.set(t,l)}else l=r.get(t),l===void 0&&(l=new Set,r.set(t,l));l.has(n)||(l.add(n),e=Zf.bind(null,e,t,n),t.then(e,e))}function Ka(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Ga(e,t,n,r,l){return e.mode&1?(e.flags|=65536,e.lanes=l,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Mt(-1,1),t.tag=2,ln(n,t,1))),n.lanes|=1),e)}var Bf=Ht.ReactCurrentOwner,Ye=!1;function He(e,t,n,r){t.child=e===null?zc(t,null,n,r):nr(t,e.child,n,r)}function Ya(e,t,n,r,l){n=n.render;var i=t.ref;return Xn(t,l),r=Cs(e,t,n,r,i,l),n=bs(),e!==null&&!Ye?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,Ut(e,t,l)):(Se&&n&&ps(t),t.flags|=1,He(e,t,r,l),t.child)}function Xa(e,t,n,r,l){if(e===null){var i=n.type;return typeof i=="function"&&!As(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,Zc(e,t,i,r,l)):(e=Rl(n.type,null,r,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&l)){var s=i.memoizedProps;if(n=n.compare,n=n!==null?n:Br,n(s,r)&&e.ref===t.ref)return Ut(e,t,l)}return t.flags|=1,e=an(i,r),e.ref=t.ref,e.return=t,t.child=e}function Zc(e,t,n,r,l){if(e!==null){var i=e.memoizedProps;if(Br(i,r)&&e.ref===t.ref)if(Ye=!1,t.pendingProps=r=i,(e.lanes&l)!==0)e.flags&131072&&(Ye=!0);else return t.lanes=e.lanes,Ut(e,t,l)}return Di(e,t,n,r,l)}function qc(e,t,n){var r=t.pendingProps,l=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},xe(Qn,et),et|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,xe(Qn,et),et|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,xe(Qn,et),et|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,xe(Qn,et),et|=r;return He(e,t,l,n),t.child}function ed(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Di(e,t,n,r,l){var i=Ze(n)?Cn:$e.current;return i=er(t,i),Xn(t,l),n=Cs(e,t,n,r,i,l),r=bs(),e!==null&&!Ye?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,Ut(e,t,l)):(Se&&r&&ps(t),t.flags|=1,He(e,t,n,l),t.child)}function Za(e,t,n,r,l){if(Ze(n)){var i=!0;Vl(t)}else i=!1;if(Xn(t,l),t.stateNode===null)Pl(e,t),Gc(t,n,r),_i(t,n,r,l),r=!0;else if(e===null){var s=t.stateNode,a=t.memoizedProps;s.props=a;var c=s.context,x=n.contextType;typeof x=="object"&&x!==null?x=ct(x):(x=Ze(n)?Cn:$e.current,x=er(t,x));var v=n.getDerivedStateFromProps,j=typeof v=="function"||typeof s.getSnapshotBeforeUpdate=="function";j||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||c!==x)&&Qa(t,s,r,x),Gt=!1;var y=t.memoizedState;s.state=y,Kl(t,r,s,l),c=t.memoizedState,a!==r||y!==c||Xe.current||Gt?(typeof v=="function"&&(Ni(t,n,v,r),c=t.memoizedState),(a=Gt||Ha(t,n,a,r,y,c,x))?(j||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),s.props=r,s.state=c,s.context=x,r=a):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,Ec(e,t),a=t.memoizedProps,x=t.type===t.elementType?a:vt(t.type,a),s.props=x,j=t.pendingProps,y=s.context,c=n.contextType,typeof c=="object"&&c!==null?c=ct(c):(c=Ze(n)?Cn:$e.current,c=er(t,c));var D=n.getDerivedStateFromProps;(v=typeof D=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==j||y!==c)&&Qa(t,s,r,c),Gt=!1,y=t.memoizedState,s.state=y,Kl(t,r,s,l);var O=t.memoizedState;a!==j||y!==O||Xe.current||Gt?(typeof D=="function"&&(Ni(t,n,D,r),O=t.memoizedState),(x=Gt||Ha(t,n,x,r,y,O,c)||!1)?(v||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,O,c),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,O,c)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&y===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&y===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=O),s.props=r,s.state=O,s.context=c,r=x):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&y===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&y===e.memoizedState||(t.flags|=1024),r=!1)}return Fi(e,t,n,r,i,l)}function Fi(e,t,n,r,l,i){ed(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return l&&La(t,n,!1),Ut(e,t,i);r=t.stateNode,Bf.current=t;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=nr(t,e.child,null,i),t.child=nr(t,null,a,i)):He(e,t,a,i),t.memoizedState=r.state,l&&La(t,n,!0),t.child}function td(e){var t=e.stateNode;t.pendingContext?Ia(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Ia(e,t.context,!1),Ss(e,t.containerInfo)}function qa(e,t,n,r,l){return tr(),hs(l),t.flags|=256,He(e,t,n,r),t.child}var Ai={dehydrated:null,treeContext:null,retryLane:0};function Ii(e){return{baseLanes:e,cachePool:null,transitions:null}}function nd(e,t,n){var r=t.pendingProps,l=we.current,i=!1,s=(t.flags&128)!==0,a;if((a=s)||(a=e!==null&&e.memoizedState===null?!1:(l&2)!==0),a?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(l|=1),xe(we,l&1),e===null)return Ei(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,i?(r=t.mode,i=t.child,s={mode:"hidden",children:s},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=s):i=go(s,r,0,null),e=kn(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Ii(n),t.memoizedState=Ai,e):Es(t,s));if(l=e.memoizedState,l!==null&&(a=l.dehydrated,a!==null))return Mf(e,t,s,r,a,l,n);if(i){i=r.fallback,s=t.mode,l=e.child,a=l.sibling;var c={mode:"hidden",children:r.children};return!(s&1)&&t.child!==l?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=an(l,c),r.subtreeFlags=l.subtreeFlags&14680064),a!==null?i=an(a,i):(i=kn(i,s,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,s=e.child.memoizedState,s=s===null?Ii(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},i.memoizedState=s,i.childLanes=e.childLanes&~n,t.memoizedState=Ai,r}return i=e.child,e=i.sibling,r=an(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Es(e,t){return t=go({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ml(e,t,n,r){return r!==null&&hs(r),nr(t,e.child,null,n),e=Es(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Mf(e,t,n,r,l,i,s){if(n)return t.flags&256?(t.flags&=-257,r=Go(Error(E(422))),ml(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,l=t.mode,r=go({mode:"visible",children:r.children},l,0,null),i=kn(i,l,s,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&nr(t,e.child,null,s),t.child.memoizedState=Ii(s),t.memoizedState=Ai,i);if(!(t.mode&1))return ml(e,t,s,null);if(l.data==="$!"){if(r=l.nextSibling&&l.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(E(419)),r=Go(i,r,void 0),ml(e,t,s,r)}if(a=(s&e.childLanes)!==0,Ye||a){if(r=De,r!==null){switch(s&-s){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=l&(r.suspendedLanes|s)?0:l,l!==0&&l!==i.retryLane&&(i.retryLane=l,Vt(e,l),kt(r,e,l,-1))}return Fs(),r=Go(Error(E(421))),ml(e,t,s,r)}return l.data==="$?"?(t.flags|=128,t.child=e.child,t=qf.bind(null,e),l._reactRetry=t,null):(e=i.treeContext,tt=rn(l.nextSibling),nt=t,Se=!0,jt=null,e!==null&&(it[st++]=Ot,it[st++]=Bt,it[st++]=bn,Ot=e.id,Bt=e.overflow,bn=t),t=Es(t,r.children),t.flags|=4096,t)}function eu(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Pi(e.return,t,n)}function Yo(e,t,n,r,l){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:l}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=l)}function rd(e,t,n){var r=t.pendingProps,l=r.revealOrder,i=r.tail;if(He(e,t,r.children,n),r=we.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&eu(e,n,t);else if(e.tag===19)eu(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(xe(we,r),!(t.mode&1))t.memoizedState=null;else switch(l){case"forwards":for(n=t.child,l=null;n!==null;)e=n.alternate,e!==null&&Gl(e)===null&&(l=n),n=n.sibling;n=l,n===null?(l=t.child,t.child=null):(l=n.sibling,n.sibling=null),Yo(t,!1,l,n,i);break;case"backwards":for(n=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&Gl(e)===null){t.child=l;break}e=l.sibling,l.sibling=n,n=l,l=e}Yo(t,!0,n,null,i);break;case"together":Yo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Pl(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ut(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Tn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(E(153));if(t.child!==null){for(e=t.child,n=an(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=an(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Wf(e,t,n){switch(t.tag){case 3:td(t),tr();break;case 5:Pc(t);break;case 1:Ze(t.type)&&Vl(t);break;case 4:Ss(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,l=t.memoizedProps.value;xe(Ql,r._currentValue),r._currentValue=l;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(xe(we,we.current&1),t.flags|=128,null):n&t.child.childLanes?nd(e,t,n):(xe(we,we.current&1),e=Ut(e,t,n),e!==null?e.sibling:null);xe(we,we.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return rd(e,t,n);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),xe(we,we.current),r)break;return null;case 22:case 23:return t.lanes=0,qc(e,t,n)}return Ut(e,t,n)}var ld,Li,od,id;ld=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Li=function(){};od=function(e,t,n,r){var l=e.memoizedProps;if(l!==r){e=t.stateNode,jn(Pt.current);var i=null;switch(n){case"input":l=oi(e,l),r=oi(e,r),i=[];break;case"select":l=Ce({},l,{value:void 0}),r=Ce({},r,{value:void 0}),i=[];break;case"textarea":l=ai(e,l),r=ai(e,r),i=[];break;default:typeof l.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Wl)}ci(n,r);var s;n=null;for(x in l)if(!r.hasOwnProperty(x)&&l.hasOwnProperty(x)&&l[x]!=null)if(x==="style"){var a=l[x];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else x!=="dangerouslySetInnerHTML"&&x!=="children"&&x!=="suppressContentEditableWarning"&&x!=="suppressHydrationWarning"&&x!=="autoFocus"&&(Rr.hasOwnProperty(x)?i||(i=[]):(i=i||[]).push(x,null));for(x in r){var c=r[x];if(a=l!=null?l[x]:void 0,r.hasOwnProperty(x)&&c!==a&&(c!=null||a!=null))if(x==="style")if(a){for(s in a)!a.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&a[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(i||(i=[]),i.push(x,n)),n=c;else x==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(i=i||[]).push(x,c)):x==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(x,""+c):x!=="suppressContentEditableWarning"&&x!=="suppressHydrationWarning"&&(Rr.hasOwnProperty(x)?(c!=null&&x==="onScroll"&&ye("scroll",e),i||a===c||(i=[])):(i=i||[]).push(x,c))}n&&(i=i||[]).push("style",n);var x=i;(t.updateQueue=x)&&(t.flags|=4)}};id=function(e,t,n,r){n!==r&&(t.flags|=4)};function mr(e,t){if(!Se)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Me(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var l=e.child;l!==null;)n|=l.lanes|l.childLanes,r|=l.subtreeFlags&14680064,r|=l.flags&14680064,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)n|=l.lanes|l.childLanes,r|=l.subtreeFlags,r|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function $f(e,t,n){var r=t.pendingProps;switch(fs(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Me(t),null;case 1:return Ze(t.type)&&$l(),Me(t),null;case 3:return r=t.stateNode,rr(),ve(Xe),ve($e),ws(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(gl(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,jt!==null&&(Hi(jt),jt=null))),Li(e,t),Me(t),null;case 5:js(t);var l=jn(Ur.current);if(n=t.type,e!==null&&t.stateNode!=null)od(e,t,n,r,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(E(166));return Me(t),null}if(e=jn(Pt.current),gl(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[Tt]=t,r[$r]=i,e=(t.mode&1)!==0,n){case"dialog":ye("cancel",r),ye("close",r);break;case"iframe":case"object":case"embed":ye("load",r);break;case"video":case"audio":for(l=0;l<wr.length;l++)ye(wr[l],r);break;case"source":ye("error",r);break;case"img":case"image":case"link":ye("error",r),ye("load",r);break;case"details":ye("toggle",r);break;case"input":ua(r,i),ye("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},ye("invalid",r);break;case"textarea":da(r,i),ye("invalid",r)}ci(n,i),l=null;for(var s in i)if(i.hasOwnProperty(s)){var a=i[s];s==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&hl(r.textContent,a,e),l=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&hl(r.textContent,a,e),l=["children",""+a]):Rr.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&ye("scroll",r)}switch(n){case"input":il(r),ca(r,i,!0);break;case"textarea":il(r),pa(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Wl)}r=l,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=l.nodeType===9?l:l.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Fu(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[Tt]=t,e[$r]=r,ld(e,t,!1,!1),t.stateNode=e;e:{switch(s=di(n,r),n){case"dialog":ye("cancel",e),ye("close",e),l=r;break;case"iframe":case"object":case"embed":ye("load",e),l=r;break;case"video":case"audio":for(l=0;l<wr.length;l++)ye(wr[l],e);l=r;break;case"source":ye("error",e),l=r;break;case"img":case"image":case"link":ye("error",e),ye("load",e),l=r;break;case"details":ye("toggle",e),l=r;break;case"input":ua(e,r),l=oi(e,r),ye("invalid",e);break;case"option":l=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},l=Ce({},r,{value:void 0}),ye("invalid",e);break;case"textarea":da(e,r),l=ai(e,r),ye("invalid",e);break;default:l=r}ci(n,l),a=l;for(i in a)if(a.hasOwnProperty(i)){var c=a[i];i==="style"?Lu(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Au(e,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Dr(e,c):typeof c=="number"&&Dr(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Rr.hasOwnProperty(i)?c!=null&&i==="onScroll"&&ye("scroll",e):c!=null&&Zi(e,i,c,s))}switch(n){case"input":il(e),ca(e,r,!1);break;case"textarea":il(e),pa(e);break;case"option":r.value!=null&&e.setAttribute("value",""+un(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?Jn(e,!!r.multiple,i,!1):r.defaultValue!=null&&Jn(e,!!r.multiple,r.defaultValue,!0);break;default:typeof l.onClick=="function"&&(e.onclick=Wl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Me(t),null;case 6:if(e&&t.stateNode!=null)id(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(E(166));if(n=jn(Ur.current),jn(Pt.current),gl(t)){if(r=t.stateNode,n=t.memoizedProps,r[Tt]=t,(i=r.nodeValue!==n)&&(e=nt,e!==null))switch(e.tag){case 3:hl(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&hl(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Tt]=t,t.stateNode=r}return Me(t),null;case 13:if(ve(we),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Se&&tt!==null&&t.mode&1&&!(t.flags&128))Cc(),tr(),t.flags|=98560,i=!1;else if(i=gl(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(E(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(E(317));i[Tt]=t}else tr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Me(t),i=!1}else jt!==null&&(Hi(jt),jt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||we.current&1?_e===0&&(_e=3):Fs())),t.updateQueue!==null&&(t.flags|=4),Me(t),null);case 4:return rr(),Li(e,t),e===null&&Mr(t.stateNode.containerInfo),Me(t),null;case 10:return ms(t.type._context),Me(t),null;case 17:return Ze(t.type)&&$l(),Me(t),null;case 19:if(ve(we),i=t.memoizedState,i===null)return Me(t),null;if(r=(t.flags&128)!==0,s=i.rendering,s===null)if(r)mr(i,!1);else{if(_e!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=Gl(e),s!==null){for(t.flags|=128,mr(i,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,s=i.alternate,s===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,i.type=s.type,e=s.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return xe(we,we.current&1|2),t.child}e=e.sibling}i.tail!==null&&Te()>or&&(t.flags|=128,r=!0,mr(i,!1),t.lanes=4194304)}else{if(!r)if(e=Gl(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),mr(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!Se)return Me(t),null}else 2*Te()-i.renderingStartTime>or&&n!==1073741824&&(t.flags|=128,r=!0,mr(i,!1),t.lanes=4194304);i.isBackwards?(s.sibling=t.child,t.child=s):(n=i.last,n!==null?n.sibling=s:t.child=s,i.last=s)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Te(),t.sibling=null,n=we.current,xe(we,r?n&1|2:n&1),t):(Me(t),null);case 22:case 23:return Ds(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?et&1073741824&&(Me(t),t.subtreeFlags&6&&(t.flags|=8192)):Me(t),null;case 24:return null;case 25:return null}throw Error(E(156,t.tag))}function Vf(e,t){switch(fs(t),t.tag){case 1:return Ze(t.type)&&$l(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return rr(),ve(Xe),ve($e),ws(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return js(t),null;case 13:if(ve(we),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(E(340));tr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ve(we),null;case 4:return rr(),null;case 10:return ms(t.type._context),null;case 22:case 23:return Ds(),null;case 24:return null;default:return null}}var yl=!1,We=!1,Uf=typeof WeakSet=="function"?WeakSet:Set,Q=null;function Hn(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){be(e,t,r)}else n.current=null}function Oi(e,t,n){try{n()}catch(r){be(e,t,r)}}var tu=!1;function Hf(e,t){if(ji=Ol,e=dc(),ds(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var l=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var s=0,a=-1,c=-1,x=0,v=0,j=e,y=null;t:for(;;){for(var D;j!==n||l!==0&&j.nodeType!==3||(a=s+l),j!==i||r!==0&&j.nodeType!==3||(c=s+r),j.nodeType===3&&(s+=j.nodeValue.length),(D=j.firstChild)!==null;)y=j,j=D;for(;;){if(j===e)break t;if(y===n&&++x===l&&(a=s),y===i&&++v===r&&(c=s),(D=j.nextSibling)!==null)break;j=y,y=j.parentNode}j=D}n=a===-1||c===-1?null:{start:a,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(wi={focusedElem:e,selectionRange:n},Ol=!1,Q=t;Q!==null;)if(t=Q,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Q=e;else for(;Q!==null;){t=Q;try{var O=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(O!==null){var M=O.memoizedProps,fe=O.memoizedState,h=t.stateNode,d=h.getSnapshotBeforeUpdate(t.elementType===t.type?M:vt(t.type,M),fe);h.__reactInternalSnapshotBeforeUpdate=d}break;case 3:var m=t.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(E(163))}}catch(z){be(t,t.return,z)}if(e=t.sibling,e!==null){e.return=t.return,Q=e;break}Q=t.return}return O=tu,tu=!1,O}function Pr(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var l=r=r.next;do{if((l.tag&e)===e){var i=l.destroy;l.destroy=void 0,i!==void 0&&Oi(t,n,i)}l=l.next}while(l!==r)}}function fo(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Bi(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function sd(e){var t=e.alternate;t!==null&&(e.alternate=null,sd(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Tt],delete t[$r],delete t[bi],delete t[Tf],delete t[Ef])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ad(e){return e.tag===5||e.tag===3||e.tag===4}function nu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||ad(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Mi(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Wl));else if(r!==4&&(e=e.child,e!==null))for(Mi(e,t,n),e=e.sibling;e!==null;)Mi(e,t,n),e=e.sibling}function Wi(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Wi(e,t,n),e=e.sibling;e!==null;)Wi(e,t,n),e=e.sibling}var Ae=null,St=!1;function Jt(e,t,n){for(n=n.child;n!==null;)ud(e,t,n),n=n.sibling}function ud(e,t,n){if(Et&&typeof Et.onCommitFiberUnmount=="function")try{Et.onCommitFiberUnmount(lo,n)}catch{}switch(n.tag){case 5:We||Hn(n,t);case 6:var r=Ae,l=St;Ae=null,Jt(e,t,n),Ae=r,St=l,Ae!==null&&(St?(e=Ae,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ae.removeChild(n.stateNode));break;case 18:Ae!==null&&(St?(e=Ae,n=n.stateNode,e.nodeType===8?Vo(e.parentNode,n):e.nodeType===1&&Vo(e,n),Lr(e)):Vo(Ae,n.stateNode));break;case 4:r=Ae,l=St,Ae=n.stateNode.containerInfo,St=!0,Jt(e,t,n),Ae=r,St=l;break;case 0:case 11:case 14:case 15:if(!We&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){l=r=r.next;do{var i=l,s=i.destroy;i=i.tag,s!==void 0&&(i&2||i&4)&&Oi(n,t,s),l=l.next}while(l!==r)}Jt(e,t,n);break;case 1:if(!We&&(Hn(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){be(n,t,a)}Jt(e,t,n);break;case 21:Jt(e,t,n);break;case 22:n.mode&1?(We=(r=We)||n.memoizedState!==null,Jt(e,t,n),We=r):Jt(e,t,n);break;default:Jt(e,t,n)}}function ru(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Uf),t.forEach(function(r){var l=eh.bind(null,e,r);n.has(r)||(n.add(r),r.then(l,l))})}}function yt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];try{var i=e,s=t,a=s;e:for(;a!==null;){switch(a.tag){case 5:Ae=a.stateNode,St=!1;break e;case 3:Ae=a.stateNode.containerInfo,St=!0;break e;case 4:Ae=a.stateNode.containerInfo,St=!0;break e}a=a.return}if(Ae===null)throw Error(E(160));ud(i,s,l),Ae=null,St=!1;var c=l.alternate;c!==null&&(c.return=null),l.return=null}catch(x){be(l,t,x)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)cd(t,e),t=t.sibling}function cd(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(yt(t,e),bt(e),r&4){try{Pr(3,e,e.return),fo(3,e)}catch(M){be(e,e.return,M)}try{Pr(5,e,e.return)}catch(M){be(e,e.return,M)}}break;case 1:yt(t,e),bt(e),r&512&&n!==null&&Hn(n,n.return);break;case 5:if(yt(t,e),bt(e),r&512&&n!==null&&Hn(n,n.return),e.flags&32){var l=e.stateNode;try{Dr(l,"")}catch(M){be(e,e.return,M)}}if(r&4&&(l=e.stateNode,l!=null)){var i=e.memoizedProps,s=n!==null?n.memoizedProps:i,a=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&Ru(l,i),di(a,s);var x=di(a,i);for(s=0;s<c.length;s+=2){var v=c[s],j=c[s+1];v==="style"?Lu(l,j):v==="dangerouslySetInnerHTML"?Au(l,j):v==="children"?Dr(l,j):Zi(l,v,j,x)}switch(a){case"input":ii(l,i);break;case"textarea":Du(l,i);break;case"select":var y=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!i.multiple;var D=i.value;D!=null?Jn(l,!!i.multiple,D,!1):y!==!!i.multiple&&(i.defaultValue!=null?Jn(l,!!i.multiple,i.defaultValue,!0):Jn(l,!!i.multiple,i.multiple?[]:"",!1))}l[$r]=i}catch(M){be(e,e.return,M)}}break;case 6:if(yt(t,e),bt(e),r&4){if(e.stateNode===null)throw Error(E(162));l=e.stateNode,i=e.memoizedProps;try{l.nodeValue=i}catch(M){be(e,e.return,M)}}break;case 3:if(yt(t,e),bt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Lr(t.containerInfo)}catch(M){be(e,e.return,M)}break;case 4:yt(t,e),bt(e);break;case 13:yt(t,e),bt(e),l=e.child,l.flags&8192&&(i=l.memoizedState!==null,l.stateNode.isHidden=i,!i||l.alternate!==null&&l.alternate.memoizedState!==null||(_s=Te())),r&4&&ru(e);break;case 22:if(v=n!==null&&n.memoizedState!==null,e.mode&1?(We=(x=We)||v,yt(t,e),We=x):yt(t,e),bt(e),r&8192){if(x=e.memoizedState!==null,(e.stateNode.isHidden=x)&&!v&&e.mode&1)for(Q=e,v=e.child;v!==null;){for(j=Q=v;Q!==null;){switch(y=Q,D=y.child,y.tag){case 0:case 11:case 14:case 15:Pr(4,y,y.return);break;case 1:Hn(y,y.return);var O=y.stateNode;if(typeof O.componentWillUnmount=="function"){r=y,n=y.return;try{t=r,O.props=t.memoizedProps,O.state=t.memoizedState,O.componentWillUnmount()}catch(M){be(r,n,M)}}break;case 5:Hn(y,y.return);break;case 22:if(y.memoizedState!==null){ou(j);continue}}D!==null?(D.return=y,Q=D):ou(j)}v=v.sibling}e:for(v=null,j=e;;){if(j.tag===5){if(v===null){v=j;try{l=j.stateNode,x?(i=l.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=j.stateNode,c=j.memoizedProps.style,s=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=Iu("display",s))}catch(M){be(e,e.return,M)}}}else if(j.tag===6){if(v===null)try{j.stateNode.nodeValue=x?"":j.memoizedProps}catch(M){be(e,e.return,M)}}else if((j.tag!==22&&j.tag!==23||j.memoizedState===null||j===e)&&j.child!==null){j.child.return=j,j=j.child;continue}if(j===e)break e;for(;j.sibling===null;){if(j.return===null||j.return===e)break e;v===j&&(v=null),j=j.return}v===j&&(v=null),j.sibling.return=j.return,j=j.sibling}}break;case 19:yt(t,e),bt(e),r&4&&ru(e);break;case 21:break;default:yt(t,e),bt(e)}}function bt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(ad(n)){var r=n;break e}n=n.return}throw Error(E(160))}switch(r.tag){case 5:var l=r.stateNode;r.flags&32&&(Dr(l,""),r.flags&=-33);var i=nu(e);Wi(e,i,l);break;case 3:case 4:var s=r.stateNode.containerInfo,a=nu(e);Mi(e,a,s);break;default:throw Error(E(161))}}catch(c){be(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Qf(e,t,n){Q=e,dd(e)}function dd(e,t,n){for(var r=(e.mode&1)!==0;Q!==null;){var l=Q,i=l.child;if(l.tag===22&&r){var s=l.memoizedState!==null||yl;if(!s){var a=l.alternate,c=a!==null&&a.memoizedState!==null||We;a=yl;var x=We;if(yl=s,(We=c)&&!x)for(Q=l;Q!==null;)s=Q,c=s.child,s.tag===22&&s.memoizedState!==null?iu(l):c!==null?(c.return=s,Q=c):iu(l);for(;i!==null;)Q=i,dd(i),i=i.sibling;Q=l,yl=a,We=x}lu(e)}else l.subtreeFlags&8772&&i!==null?(i.return=l,Q=i):lu(e)}}function lu(e){for(;Q!==null;){var t=Q;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:We||fo(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!We)if(n===null)r.componentDidMount();else{var l=t.elementType===t.type?n.memoizedProps:vt(t.type,n.memoizedProps);r.componentDidUpdate(l,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&$a(t,i,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}$a(t,s,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var x=t.alternate;if(x!==null){var v=x.memoizedState;if(v!==null){var j=v.dehydrated;j!==null&&Lr(j)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(E(163))}We||t.flags&512&&Bi(t)}catch(y){be(t,t.return,y)}}if(t===e){Q=null;break}if(n=t.sibling,n!==null){n.return=t.return,Q=n;break}Q=t.return}}function ou(e){for(;Q!==null;){var t=Q;if(t===e){Q=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Q=n;break}Q=t.return}}function iu(e){for(;Q!==null;){var t=Q;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{fo(4,t)}catch(c){be(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var l=t.return;try{r.componentDidMount()}catch(c){be(t,l,c)}}var i=t.return;try{Bi(t)}catch(c){be(t,i,c)}break;case 5:var s=t.return;try{Bi(t)}catch(c){be(t,s,c)}}}catch(c){be(t,t.return,c)}if(t===e){Q=null;break}var a=t.sibling;if(a!==null){a.return=t.return,Q=a;break}Q=t.return}}var Jf=Math.ceil,Zl=Ht.ReactCurrentDispatcher,Ps=Ht.ReactCurrentOwner,ut=Ht.ReactCurrentBatchConfig,ue=0,De=null,Pe=null,Ie=0,et=0,Qn=pn(0),_e=0,Kr=null,Tn=0,ho=0,Ns=0,Nr=null,Ge=null,_s=0,or=1/0,It=null,ql=!1,$i=null,on=null,vl=!1,qt=null,eo=0,_r=0,Vi=null,Nl=-1,_l=0;function Qe(){return ue&6?Te():Nl!==-1?Nl:Nl=Te()}function sn(e){return e.mode&1?ue&2&&Ie!==0?Ie&-Ie:Nf.transition!==null?(_l===0&&(_l=Gu()),_l):(e=pe,e!==0||(e=window.event,e=e===void 0?16:nc(e.type)),e):1}function kt(e,t,n,r){if(50<_r)throw _r=0,Vi=null,Error(E(185));Yr(e,n,r),(!(ue&2)||e!==De)&&(e===De&&(!(ue&2)&&(ho|=n),_e===4&&Xt(e,Ie)),qe(e,r),n===1&&ue===0&&!(t.mode&1)&&(or=Te()+500,uo&&fn()))}function qe(e,t){var n=e.callbackNode;Pp(e,t);var r=Ll(e,e===De?Ie:0);if(r===0)n!==null&&ga(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&ga(n),t===1)e.tag===0?Pf(su.bind(null,e)):jc(su.bind(null,e)),bf(function(){!(ue&6)&&fn()}),n=null;else{switch(Yu(r)){case 1:n=rs;break;case 4:n=Ju;break;case 16:n=Il;break;case 536870912:n=Ku;break;default:n=Il}n=vd(n,pd.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function pd(e,t){if(Nl=-1,_l=0,ue&6)throw Error(E(327));var n=e.callbackNode;if(Zn()&&e.callbackNode!==n)return null;var r=Ll(e,e===De?Ie:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=to(e,r);else{t=r;var l=ue;ue|=2;var i=hd();(De!==e||Ie!==t)&&(It=null,or=Te()+500,wn(e,t));do try{Yf();break}catch(a){fd(e,a)}while(1);xs(),Zl.current=i,ue=l,Pe!==null?t=0:(De=null,Ie=0,t=_e)}if(t!==0){if(t===2&&(l=xi(e),l!==0&&(r=l,t=Ui(e,l))),t===1)throw n=Kr,wn(e,0),Xt(e,r),qe(e,Te()),n;if(t===6)Xt(e,r);else{if(l=e.current.alternate,!(r&30)&&!Kf(l)&&(t=to(e,r),t===2&&(i=xi(e),i!==0&&(r=i,t=Ui(e,i))),t===1))throw n=Kr,wn(e,0),Xt(e,r),qe(e,Te()),n;switch(e.finishedWork=l,e.finishedLanes=r,t){case 0:case 1:throw Error(E(345));case 2:yn(e,Ge,It);break;case 3:if(Xt(e,r),(r&130023424)===r&&(t=_s+500-Te(),10<t)){if(Ll(e,0)!==0)break;if(l=e.suspendedLanes,(l&r)!==r){Qe(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=Ci(yn.bind(null,e,Ge,It),t);break}yn(e,Ge,It);break;case 4:if(Xt(e,r),(r&4194240)===r)break;for(t=e.eventTimes,l=-1;0<r;){var s=31-wt(r);i=1<<s,s=t[s],s>l&&(l=s),r&=~i}if(r=l,r=Te()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Jf(r/1960))-r,10<r){e.timeoutHandle=Ci(yn.bind(null,e,Ge,It),r);break}yn(e,Ge,It);break;case 5:yn(e,Ge,It);break;default:throw Error(E(329))}}}return qe(e,Te()),e.callbackNode===n?pd.bind(null,e):null}function Ui(e,t){var n=Nr;return e.current.memoizedState.isDehydrated&&(wn(e,t).flags|=256),e=to(e,t),e!==2&&(t=Ge,Ge=n,t!==null&&Hi(t)),e}function Hi(e){Ge===null?Ge=e:Ge.push.apply(Ge,e)}function Kf(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var l=n[r],i=l.getSnapshot;l=l.value;try{if(!Ct(i(),l))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Xt(e,t){for(t&=~Ns,t&=~ho,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-wt(t),r=1<<n;e[n]=-1,t&=~r}}function su(e){if(ue&6)throw Error(E(327));Zn();var t=Ll(e,0);if(!(t&1))return qe(e,Te()),null;var n=to(e,t);if(e.tag!==0&&n===2){var r=xi(e);r!==0&&(t=r,n=Ui(e,r))}if(n===1)throw n=Kr,wn(e,0),Xt(e,t),qe(e,Te()),n;if(n===6)throw Error(E(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,yn(e,Ge,It),qe(e,Te()),null}function Rs(e,t){var n=ue;ue|=1;try{return e(t)}finally{ue=n,ue===0&&(or=Te()+500,uo&&fn())}}function En(e){qt!==null&&qt.tag===0&&!(ue&6)&&Zn();var t=ue;ue|=1;var n=ut.transition,r=pe;try{if(ut.transition=null,pe=1,e)return e()}finally{pe=r,ut.transition=n,ue=t,!(ue&6)&&fn()}}function Ds(){et=Qn.current,ve(Qn)}function wn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Cf(n)),Pe!==null)for(n=Pe.return;n!==null;){var r=n;switch(fs(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&$l();break;case 3:rr(),ve(Xe),ve($e),ws();break;case 5:js(r);break;case 4:rr();break;case 13:ve(we);break;case 19:ve(we);break;case 10:ms(r.type._context);break;case 22:case 23:Ds()}n=n.return}if(De=e,Pe=e=an(e.current,null),Ie=et=t,_e=0,Kr=null,Ns=ho=Tn=0,Ge=Nr=null,Sn!==null){for(t=0;t<Sn.length;t++)if(n=Sn[t],r=n.interleaved,r!==null){n.interleaved=null;var l=r.next,i=n.pending;if(i!==null){var s=i.next;i.next=l,r.next=s}n.pending=r}Sn=null}return e}function fd(e,t){do{var n=Pe;try{if(xs(),Tl.current=Xl,Yl){for(var r=ke.memoizedState;r!==null;){var l=r.queue;l!==null&&(l.pending=null),r=r.next}Yl=!1}if(zn=0,Re=Ne=ke=null,Er=!1,Hr=0,Ps.current=null,n===null||n.return===null){_e=1,Kr=t,Pe=null;break}e:{var i=e,s=n.return,a=n,c=t;if(t=Ie,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var x=c,v=a,j=v.tag;if(!(v.mode&1)&&(j===0||j===11||j===15)){var y=v.alternate;y?(v.updateQueue=y.updateQueue,v.memoizedState=y.memoizedState,v.lanes=y.lanes):(v.updateQueue=null,v.memoizedState=null)}var D=Ka(s);if(D!==null){D.flags&=-257,Ga(D,s,a,i,t),D.mode&1&&Ja(i,x,t),t=D,c=x;var O=t.updateQueue;if(O===null){var M=new Set;M.add(c),t.updateQueue=M}else O.add(c);break e}else{if(!(t&1)){Ja(i,x,t),Fs();break e}c=Error(E(426))}}else if(Se&&a.mode&1){var fe=Ka(s);if(fe!==null){!(fe.flags&65536)&&(fe.flags|=256),Ga(fe,s,a,i,t),hs(lr(c,a));break e}}i=c=lr(c,a),_e!==4&&(_e=2),Nr===null?Nr=[i]:Nr.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var h=Yc(i,c,t);Wa(i,h);break e;case 1:a=c;var d=i.type,m=i.stateNode;if(!(i.flags&128)&&(typeof d.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(on===null||!on.has(m)))){i.flags|=65536,t&=-t,i.lanes|=t;var z=Xc(i,a,t);Wa(i,z);break e}}i=i.return}while(i!==null)}xd(n)}catch($){t=$,Pe===n&&n!==null&&(Pe=n=n.return);continue}break}while(1)}function hd(){var e=Zl.current;return Zl.current=Xl,e===null?Xl:e}function Fs(){(_e===0||_e===3||_e===2)&&(_e=4),De===null||!(Tn&268435455)&&!(ho&268435455)||Xt(De,Ie)}function to(e,t){var n=ue;ue|=2;var r=hd();(De!==e||Ie!==t)&&(It=null,wn(e,t));do try{Gf();break}catch(l){fd(e,l)}while(1);if(xs(),ue=n,Zl.current=r,Pe!==null)throw Error(E(261));return De=null,Ie=0,_e}function Gf(){for(;Pe!==null;)gd(Pe)}function Yf(){for(;Pe!==null&&!Sp();)gd(Pe)}function gd(e){var t=yd(e.alternate,e,et);e.memoizedProps=e.pendingProps,t===null?xd(e):Pe=t,Ps.current=null}function xd(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Vf(n,t),n!==null){n.flags&=32767,Pe=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{_e=6,Pe=null;return}}else if(n=$f(n,t,et),n!==null){Pe=n;return}if(t=t.sibling,t!==null){Pe=t;return}Pe=t=e}while(t!==null);_e===0&&(_e=5)}function yn(e,t,n){var r=pe,l=ut.transition;try{ut.transition=null,pe=1,Xf(e,t,n,r)}finally{ut.transition=l,pe=r}return null}function Xf(e,t,n,r){do Zn();while(qt!==null);if(ue&6)throw Error(E(327));n=e.finishedWork;var l=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(E(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(Np(e,i),e===De&&(Pe=De=null,Ie=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||vl||(vl=!0,vd(Il,function(){return Zn(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=ut.transition,ut.transition=null;var s=pe;pe=1;var a=ue;ue|=4,Ps.current=null,Hf(e,n),cd(n,e),mf(wi),Ol=!!ji,wi=ji=null,e.current=n,Qf(n),jp(),ue=a,pe=s,ut.transition=i}else e.current=n;if(vl&&(vl=!1,qt=e,eo=l),i=e.pendingLanes,i===0&&(on=null),Cp(n.stateNode),qe(e,Te()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)l=t[n],r(l.value,{componentStack:l.stack,digest:l.digest});if(ql)throw ql=!1,e=$i,$i=null,e;return eo&1&&e.tag!==0&&Zn(),i=e.pendingLanes,i&1?e===Vi?_r++:(_r=0,Vi=e):_r=0,fn(),null}function Zn(){if(qt!==null){var e=Yu(eo),t=ut.transition,n=pe;try{if(ut.transition=null,pe=16>e?16:e,qt===null)var r=!1;else{if(e=qt,qt=null,eo=0,ue&6)throw Error(E(331));var l=ue;for(ue|=4,Q=e.current;Q!==null;){var i=Q,s=i.child;if(Q.flags&16){var a=i.deletions;if(a!==null){for(var c=0;c<a.length;c++){var x=a[c];for(Q=x;Q!==null;){var v=Q;switch(v.tag){case 0:case 11:case 15:Pr(8,v,i)}var j=v.child;if(j!==null)j.return=v,Q=j;else for(;Q!==null;){v=Q;var y=v.sibling,D=v.return;if(sd(v),v===x){Q=null;break}if(y!==null){y.return=D,Q=y;break}Q=D}}}var O=i.alternate;if(O!==null){var M=O.child;if(M!==null){O.child=null;do{var fe=M.sibling;M.sibling=null,M=fe}while(M!==null)}}Q=i}}if(i.subtreeFlags&2064&&s!==null)s.return=i,Q=s;else e:for(;Q!==null;){if(i=Q,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Pr(9,i,i.return)}var h=i.sibling;if(h!==null){h.return=i.return,Q=h;break e}Q=i.return}}var d=e.current;for(Q=d;Q!==null;){s=Q;var m=s.child;if(s.subtreeFlags&2064&&m!==null)m.return=s,Q=m;else e:for(s=d;Q!==null;){if(a=Q,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:fo(9,a)}}catch($){be(a,a.return,$)}if(a===s){Q=null;break e}var z=a.sibling;if(z!==null){z.return=a.return,Q=z;break e}Q=a.return}}if(ue=l,fn(),Et&&typeof Et.onPostCommitFiberRoot=="function")try{Et.onPostCommitFiberRoot(lo,e)}catch{}r=!0}return r}finally{pe=n,ut.transition=t}}return!1}function au(e,t,n){t=lr(n,t),t=Yc(e,t,1),e=ln(e,t,1),t=Qe(),e!==null&&(Yr(e,1,t),qe(e,t))}function be(e,t,n){if(e.tag===3)au(e,e,n);else for(;t!==null;){if(t.tag===3){au(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(on===null||!on.has(r))){e=lr(n,e),e=Xc(t,e,1),t=ln(t,e,1),e=Qe(),t!==null&&(Yr(t,1,e),qe(t,e));break}}t=t.return}}function Zf(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Qe(),e.pingedLanes|=e.suspendedLanes&n,De===e&&(Ie&n)===n&&(_e===4||_e===3&&(Ie&130023424)===Ie&&500>Te()-_s?wn(e,0):Ns|=n),qe(e,t)}function md(e,t){t===0&&(e.mode&1?(t=ul,ul<<=1,!(ul&130023424)&&(ul=4194304)):t=1);var n=Qe();e=Vt(e,t),e!==null&&(Yr(e,t,n),qe(e,n))}function qf(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),md(e,n)}function eh(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,l=e.memoizedState;l!==null&&(n=l.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(E(314))}r!==null&&r.delete(t),md(e,n)}var yd;yd=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Xe.current)Ye=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Ye=!1,Wf(e,t,n);Ye=!!(e.flags&131072)}else Ye=!1,Se&&t.flags&1048576&&wc(t,Hl,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Pl(e,t),e=t.pendingProps;var l=er(t,$e.current);Xn(t,n),l=Cs(null,t,r,e,l,n);var i=bs();return t.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ze(r)?(i=!0,Vl(t)):i=!1,t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,vs(t),l.updater=po,t.stateNode=l,l._reactInternals=t,_i(t,r,e,n),t=Fi(null,t,r,!0,i,n)):(t.tag=0,Se&&i&&ps(t),He(null,t,l,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Pl(e,t),e=t.pendingProps,l=r._init,r=l(r._payload),t.type=r,l=t.tag=nh(r),e=vt(r,e),l){case 0:t=Di(null,t,r,e,n);break e;case 1:t=Za(null,t,r,e,n);break e;case 11:t=Ya(null,t,r,e,n);break e;case 14:t=Xa(null,t,r,vt(r.type,e),n);break e}throw Error(E(306,r,""))}return t;case 0:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:vt(r,l),Di(e,t,r,l,n);case 1:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:vt(r,l),Za(e,t,r,l,n);case 3:e:{if(td(t),e===null)throw Error(E(387));r=t.pendingProps,i=t.memoizedState,l=i.element,Ec(e,t),Kl(t,r,null,n);var s=t.memoizedState;if(r=s.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){l=lr(Error(E(423)),t),t=qa(e,t,r,n,l);break e}else if(r!==l){l=lr(Error(E(424)),t),t=qa(e,t,r,n,l);break e}else for(tt=rn(t.stateNode.containerInfo.firstChild),nt=t,Se=!0,jt=null,n=zc(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(tr(),r===l){t=Ut(e,t,n);break e}He(e,t,r,n)}t=t.child}return t;case 5:return Pc(t),e===null&&Ei(t),r=t.type,l=t.pendingProps,i=e!==null?e.memoizedProps:null,s=l.children,ki(r,l)?s=null:i!==null&&ki(r,i)&&(t.flags|=32),ed(e,t),He(e,t,s,n),t.child;case 6:return e===null&&Ei(t),null;case 13:return nd(e,t,n);case 4:return Ss(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=nr(t,null,r,n):He(e,t,r,n),t.child;case 11:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:vt(r,l),Ya(e,t,r,l,n);case 7:return He(e,t,t.pendingProps,n),t.child;case 8:return He(e,t,t.pendingProps.children,n),t.child;case 12:return He(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,l=t.pendingProps,i=t.memoizedProps,s=l.value,xe(Ql,r._currentValue),r._currentValue=s,i!==null)if(Ct(i.value,s)){if(i.children===l.children&&!Xe.current){t=Ut(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){s=i.child;for(var c=a.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=Mt(-1,n&-n),c.tag=2;var x=i.updateQueue;if(x!==null){x=x.shared;var v=x.pending;v===null?c.next=c:(c.next=v.next,v.next=c),x.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),Pi(i.return,n,t),a.lanes|=n;break}c=c.next}}else if(i.tag===10)s=i.type===t.type?null:i.child;else if(i.tag===18){if(s=i.return,s===null)throw Error(E(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),Pi(s,n,t),s=i.sibling}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===t){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}He(e,t,l.children,n),t=t.child}return t;case 9:return l=t.type,r=t.pendingProps.children,Xn(t,n),l=ct(l),r=r(l),t.flags|=1,He(e,t,r,n),t.child;case 14:return r=t.type,l=vt(r,t.pendingProps),l=vt(r.type,l),Xa(e,t,r,l,n);case 15:return Zc(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:vt(r,l),Pl(e,t),t.tag=1,Ze(r)?(e=!0,Vl(t)):e=!1,Xn(t,n),Gc(t,r,l),_i(t,r,l,n),Fi(null,t,r,!0,e,n);case 19:return rd(e,t,n);case 22:return qc(e,t,n)}throw Error(E(156,t.tag))};function vd(e,t){return Qu(e,t)}function th(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function at(e,t,n,r){return new th(e,t,n,r)}function As(e){return e=e.prototype,!(!e||!e.isReactComponent)}function nh(e){if(typeof e=="function")return As(e)?1:0;if(e!=null){if(e=e.$$typeof,e===es)return 11;if(e===ts)return 14}return 2}function an(e,t){var n=e.alternate;return n===null?(n=at(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Rl(e,t,n,r,l,i){var s=2;if(r=e,typeof e=="function")As(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case In:return kn(n.children,l,i,t);case qi:s=8,l|=8;break;case ti:return e=at(12,n,t,l|2),e.elementType=ti,e.lanes=i,e;case ni:return e=at(13,n,t,l),e.elementType=ni,e.lanes=i,e;case ri:return e=at(19,n,t,l),e.elementType=ri,e.lanes=i,e;case Pu:return go(n,l,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Tu:s=10;break e;case Eu:s=9;break e;case es:s=11;break e;case ts:s=14;break e;case Kt:s=16,r=null;break e}throw Error(E(130,e==null?e:typeof e,""))}return t=at(s,n,t,l),t.elementType=e,t.type=r,t.lanes=i,t}function kn(e,t,n,r){return e=at(7,e,r,t),e.lanes=n,e}function go(e,t,n,r){return e=at(22,e,r,t),e.elementType=Pu,e.lanes=n,e.stateNode={isHidden:!1},e}function Xo(e,t,n){return e=at(6,e,null,t),e.lanes=n,e}function Zo(e,t,n){return t=at(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function rh(e,t,n,r,l){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ro(0),this.expirationTimes=Ro(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ro(0),this.identifierPrefix=r,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function Is(e,t,n,r,l,i,s,a,c){return e=new rh(e,t,n,a,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=at(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},vs(i),e}function lh(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:An,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Sd(e){if(!e)return cn;e=e._reactInternals;e:{if(Nn(e)!==e||e.tag!==1)throw Error(E(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ze(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(E(171))}if(e.tag===1){var n=e.type;if(Ze(n))return Sc(e,n,t)}return t}function jd(e,t,n,r,l,i,s,a,c){return e=Is(n,r,!0,e,l,i,s,a,c),e.context=Sd(null),n=e.current,r=Qe(),l=sn(n),i=Mt(r,l),i.callback=t??null,ln(n,i,l),e.current.lanes=l,Yr(e,l,r),qe(e,r),e}function xo(e,t,n,r){var l=t.current,i=Qe(),s=sn(l);return n=Sd(n),t.context===null?t.context=n:t.pendingContext=n,t=Mt(i,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=ln(l,t,s),e!==null&&(kt(e,l,s,i),zl(e,l,s)),s}function no(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function uu(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Ls(e,t){uu(e,t),(e=e.alternate)&&uu(e,t)}function oh(){return null}var wd=typeof reportError=="function"?reportError:function(e){console.error(e)};function Os(e){this._internalRoot=e}mo.prototype.render=Os.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(E(409));xo(e,t,null,null)};mo.prototype.unmount=Os.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;En(function(){xo(null,e,null,null)}),t[$t]=null}};function mo(e){this._internalRoot=e}mo.prototype.unstable_scheduleHydration=function(e){if(e){var t=qu();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Yt.length&&t!==0&&t<Yt[n].priority;n++);Yt.splice(n,0,e),n===0&&tc(e)}};function Bs(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function yo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function cu(){}function ih(e,t,n,r,l){if(l){if(typeof r=="function"){var i=r;r=function(){var x=no(s);i.call(x)}}var s=jd(t,r,e,0,null,!1,!1,"",cu);return e._reactRootContainer=s,e[$t]=s.current,Mr(e.nodeType===8?e.parentNode:e),En(),s}for(;l=e.lastChild;)e.removeChild(l);if(typeof r=="function"){var a=r;r=function(){var x=no(c);a.call(x)}}var c=Is(e,0,!1,null,null,!1,!1,"",cu);return e._reactRootContainer=c,e[$t]=c.current,Mr(e.nodeType===8?e.parentNode:e),En(function(){xo(t,c,n,r)}),c}function vo(e,t,n,r,l){var i=n._reactRootContainer;if(i){var s=i;if(typeof l=="function"){var a=l;l=function(){var c=no(s);a.call(c)}}xo(t,s,e,l)}else s=ih(n,t,e,l,r);return no(s)}Xu=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=jr(t.pendingLanes);n!==0&&(ls(t,n|1),qe(t,Te()),!(ue&6)&&(or=Te()+500,fn()))}break;case 13:En(function(){var r=Vt(e,1);if(r!==null){var l=Qe();kt(r,e,1,l)}}),Ls(e,1)}};os=function(e){if(e.tag===13){var t=Vt(e,134217728);if(t!==null){var n=Qe();kt(t,e,134217728,n)}Ls(e,134217728)}};Zu=function(e){if(e.tag===13){var t=sn(e),n=Vt(e,t);if(n!==null){var r=Qe();kt(n,e,t,r)}Ls(e,t)}};qu=function(){return pe};ec=function(e,t){var n=pe;try{return pe=e,t()}finally{pe=n}};fi=function(e,t,n){switch(t){case"input":if(ii(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var l=ao(r);if(!l)throw Error(E(90));_u(r),ii(r,l)}}}break;case"textarea":Du(e,n);break;case"select":t=n.value,t!=null&&Jn(e,!!n.multiple,t,!1)}};Mu=Rs;Wu=En;var sh={usingClientEntryPoint:!1,Events:[Zr,Mn,ao,Ou,Bu,Rs]},yr={findFiberByHostInstance:vn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ah={bundleType:yr.bundleType,version:yr.version,rendererPackageName:yr.rendererPackageName,rendererConfig:yr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ht.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Uu(e),e===null?null:e.stateNode},findFiberByHostInstance:yr.findFiberByHostInstance||oh,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Sl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Sl.isDisabled&&Sl.supportsFiber)try{lo=Sl.inject(ah),Et=Sl}catch{}}lt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sh;lt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Bs(t))throw Error(E(200));return lh(e,t,null,n)};lt.createRoot=function(e,t){if(!Bs(e))throw Error(E(299));var n=!1,r="",l=wd;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=Is(e,1,!1,null,null,n,!1,r,l),e[$t]=t.current,Mr(e.nodeType===8?e.parentNode:e),new Os(t)};lt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(E(188)):(e=Object.keys(e).join(","),Error(E(268,e)));return e=Uu(t),e=e===null?null:e.stateNode,e};lt.flushSync=function(e){return En(e)};lt.hydrate=function(e,t,n){if(!yo(t))throw Error(E(200));return vo(null,e,t,!0,n)};lt.hydrateRoot=function(e,t,n){if(!Bs(e))throw Error(E(405));var r=n!=null&&n.hydratedSources||null,l=!1,i="",s=wd;if(n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=jd(t,null,e,1,n??null,l,!1,i,s),e[$t]=t.current,Mr(e),r)for(e=0;e<r.length;e++)n=r[e],l=n._getVersion,l=l(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,l]:t.mutableSourceEagerHydrationData.push(n,l);return new mo(t)};lt.render=function(e,t,n){if(!yo(t))throw Error(E(200));return vo(null,e,t,!1,n)};lt.unmountComponentAtNode=function(e){if(!yo(e))throw Error(E(40));return e._reactRootContainer?(En(function(){vo(null,null,e,!1,function(){e._reactRootContainer=null,e[$t]=null})}),!0):!1};lt.unstable_batchedUpdates=Rs;lt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!yo(n))throw Error(E(200));if(e==null||e._reactInternals===void 0)throw Error(E(38));return vo(e,t,n,!1,r)};lt.version="18.3.1-next-f1338f8080-20240426";function kd(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(kd)}catch(e){console.error(e)}}kd(),ku.exports=lt;var uh=ku.exports,du=uh;qo.createRoot=du.createRoot,qo.hydrateRoot=du.hydrateRoot;const ch=()=>{var Ys,Xs;const[e,t]=I.useState([]),[n,r]=I.useState(null),[l,i]=I.useState(null),[s,a]=I.useState("home"),[c,x]=I.useState(0),[v,j]=I.useState(!1),[y,D]=I.useState(!1),[O,M]=I.useState(!1),[fe,h]=I.useState(!1),[d,m]=I.useState(!1),[z,$]=I.useState(!1),[V,J]=I.useState(null),[G,de]=I.useState(!1),[ne,Oe]=I.useState("script"),[pt,ft]=I.useState({kanji:{voice:"zh-TW-HsiaoChenNeural",rate:1,pitch:1,style:"neutral"},meaning:{voice:"zh-TW-YunJheNeural",rate:.9,pitch:1,style:"cheerful"},pos:{voice:"zh-TW-HsiaoChenNeural",rate:1.1,pitch:1,style:"gentle"},example:{voice:"ja-JP-NanamiNeural",rate:1,pitch:1,style:"neutral"},translation:{voice:"zh-TW-YunJheNeural",rate:.95,pitch:1,style:"calm"}}),_n={"zh-TW":[{value:"zh-TW-HsiaoChenNeural",label:"曉臻 (女性, 溫柔)"},{value:"zh-TW-YunJheNeural",label:"雲哲 (男性, 穩重)"},{value:"zh-TW-HsiaoYuNeural",label:"曉宇 (女性, 活潑)"}],"ja-JP":[{value:"ja-JP-NanamiNeural",label:"Nanami (女性, 標準)"},{value:"ja-JP-KeitaNeural",label:"Keita (男性, 標準)"},{value:"ja-JP-AoiNeural",label:"Aoi (女性, 溫柔)"}],"en-US":[{value:"en-US-AriaNeural",label:"Aria (女性, 標準)"},{value:"en-US-GuyNeural",label:"Guy (男性, 標準)"}]},So=[{value:"neutral",label:"中性"},{value:"cheerful",label:"開朗"},{value:"gentle",label:"溫柔"},{value:"calm",label:"冷靜"},{value:"sad",label:"悲傷"},{value:"angry",label:"憤怒"},{value:"fearful",label:"恐懼"},{value:"disgruntled",label:"不滿"}],[ht,hn]=I.useState(!1),[B,re]=I.useState("sequential"),[oe,he]=I.useState(0),[Ee,Nt]=I.useState(0),[ee,se]=I.useState([{id:"1",type:"display",templateId:"A"},{id:"2",type:"speak",field:"kanji",repeat:3,rate:.8,pauseAfter:1e3},{id:"3",type:"speak",field:"example",repeat:1,rate:1,pauseAfter:1500},{id:"4",type:"display",templateId:"B"},{id:"5",type:"speak",field:"meaning",repeat:1,rate:1,pauseAfter:1e3}]),[_t,Rn]=I.useState("A"),[Ms,ur]=I.useState(null),[Rt,jo]=I.useState(null),Ws=(u,f)=>{jo(f),u.dataTransfer.effectAllowed="move"},Cd=u=>{u.preventDefault(),u.dataTransfer.dropEffect="move"},$s=(u,f)=>{if(u.preventDefault(),Rt===null||Rt===f)return;const p=[...ee],g=p[Rt];p.splice(Rt,1);const S=Rt<f?f-1:f;p.splice(S,0,g),se(p),jo(null)},bd=()=>{jo(null)},[Ve,cr]=I.useState({A:{name:"純漢字",fields:["kanji","meaning"],showFurigana:!1},B:{name:"漢字+注音",fields:["kanji","hiragana"],showFurigana:!0},C:{name:"例句",fields:["example"],showFurigana:!0},D:{name:"詳細信息",fields:["kanji","meaning","level"],showFurigana:!1},E:{name:"完整顯示",fields:["kanji","hiragana","meaning","example"],showFurigana:!0}}),[zd,Vs]=I.useState(!1);I.useState(null);const[Fe,el]=I.useState("A"),[R,tl]=I.useState({defaultRate:1,showFurigana:!0,azureTTS:{enabled:!1,subscriptionKey:"",region:"eastus",defaultVoice:"ja-JP-NanamiNeural"}}),Dt={kanji:{label:"漢字",type:"kanji",order:1,voice:"ja-JP-NanamiNeural",voiceStyle:{rate:"medium",pitch:"medium",style:"general",volume:1}},hiragana:{label:"ひらがな",type:"text",order:2,voice:"ja-JP-NanamiNeural",voiceStyle:{rate:"slow",pitch:"medium",style:"general",volume:1}},meaning:{label:"意味",type:"text",order:3,voice:"zh-TW-HsiaoChenNeural",voiceStyle:{rate:"medium",pitch:"medium",style:"general",volume:1}},example:{label:"例文",type:"kanji",order:4,voice:"ja-JP-KeitaNeural",voiceStyle:{rate:"medium",pitch:"medium",style:"newscast",volume:1}},level:{label:"レベル",type:"text",order:5,voice:"ja-JP-NanamiNeural",voiceStyle:{rate:"fast",pitch:"medium",style:"general",volume:.8}}},ge=()=>[{id:"page1",name:"基本",displayFields:["kanji","meaning"],script:[{type:"speak",field:"kanji",repeat:2,rate:.8},{type:"pause",duration:1e3},{type:"speak",field:"meaning",repeat:1,rate:1}]},{id:"page2",name:"練習",displayFields:["kanji","hiragana","meaning"],script:[{type:"speak",field:"kanji",repeat:1,rate:1},{type:"pause",duration:500},{type:"speak",field:"hiragana",repeat:1,rate:.9}]},{id:"page3",name:"例句",displayFields:["example"],script:[{type:"speak",field:"example",repeat:1,rate:.9}]},{id:"page4",name:"複習",displayFields:["meaning","kanji"],script:[{type:"speak",field:"meaning",repeat:1,rate:1},{type:"pause",duration:2e3},{type:"speak",field:"kanji",repeat:1,rate:1}]},{id:"page5",name:"測試",displayFields:["kanji"],script:[{type:"speak",field:"kanji",repeat:1,rate:1.2}]}],wo={"Japanese (Japan)":[{value:"ja-JP-NanamiNeural",label:"Nanami (女性, 標準)"},{value:"ja-JP-KeitaNeural",label:"Keita (男性, 標準)"},{value:"ja-JP-AoiNeural",label:"Aoi (女性, 年輕)"},{value:"ja-JP-DaichiNeural",label:"Daichi (男性, 年輕)"},{value:"ja-JP-MayuNeural",label:"Mayu (女性, 溫柔)"},{value:"ja-JP-NaokiNeural",label:"Naoki (男性, 成熟)"},{value:"ja-JP-ShioriNeural",label:"Shiori (女性, 成熟)"}],"Chinese (Taiwan)":[{value:"zh-TW-HsiaoChenNeural",label:"HsiaoChen (女性)"},{value:"zh-TW-YunJheNeural",label:"YunJhe (男性)"},{value:"zh-TW-HsiaoYuNeural",label:"HsiaoYu (女性, 年輕)"}],"English (US)":[{value:"en-US-JennyNeural",label:"Jenny (女性)"},{value:"en-US-GuyNeural",label:"Guy (男性)"},{value:"en-US-AriaNeural",label:"Aria (女性, 溫暖)"}]},ko={rate:[{value:"x-slow",label:"極慢 (0.5x)"},{value:"slow",label:"慢 (0.75x)"},{value:"medium",label:"正常 (1.0x)"},{value:"fast",label:"快 (1.25x)"},{value:"x-fast",label:"極快 (1.5x)"}],pitch:[{value:"x-low",label:"極低音"},{value:"low",label:"低音"},{value:"medium",label:"正常"},{value:"high",label:"高音"},{value:"x-high",label:"極高音"}],style:[{value:"general",label:"一般"},{value:"cheerful",label:"愉快"},{value:"sad",label:"悲傷"},{value:"angry",label:"憤怒"},{value:"fearful",label:"恐懼"},{value:"disgruntled",label:"不悅"},{value:"serious",label:"嚴肅"},{value:"affectionate",label:"親切"},{value:"gentle",label:"溫柔"},{value:"newscast",label:"新聞播報"},{value:"customerservice",label:"客服"},{value:"assistant",label:"助手"},{value:"whispering",label:"耳語"},{value:"shouting",label:"大聲"}]},k={container:{minHeight:"100vh",backgroundColor:"#fafafa",fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif',color:"#333333"},header:{fontSize:"28px",fontWeight:"600",color:"#1a1a1a",marginBottom:"24px",display:"flex",alignItems:"center",gap:"12px",letterSpacing:"-0.5px"},button:{backgroundColor:"#4F46E5",color:"white",border:"none",padding:"10px 20px",borderRadius:"12px",cursor:"pointer",fontSize:"14px",fontWeight:"500",boxShadow:"0 2px 8px rgba(79, 70, 229, 0.2)",transition:"all 0.2s ease","&:hover":{backgroundColor:"#4338CA",transform:"translateY(-1px)",boxShadow:"0 4px 12px rgba(79, 70, 229, 0.3)"}},buttonGreen:{backgroundColor:"#10B981",color:"white",border:"none",padding:"10px 20px",borderRadius:"12px",cursor:"pointer",fontSize:"14px",fontWeight:"500",boxShadow:"0 2px 8px rgba(16, 185, 129, 0.2)",transition:"all 0.2s ease"},buttonRed:{backgroundColor:"#EF4444",color:"white",border:"none",padding:"10px 20px",borderRadius:"12px",cursor:"pointer",fontSize:"14px",fontWeight:"500",boxShadow:"0 2px 8px rgba(239, 68, 68, 0.2)",transition:"all 0.2s ease"},buttonGray:{backgroundColor:"#6B7280",color:"white",border:"none",padding:"10px 20px",borderRadius:"12px",cursor:"pointer",fontSize:"14px",fontWeight:"500",boxShadow:"0 2px 8px rgba(107, 114, 128, 0.2)",transition:"all 0.2s ease"},card:{backgroundColor:"white",borderRadius:"16px",boxShadow:"0 2px 16px rgba(0, 0, 0, 0.08)",padding:"24px",marginBottom:"20px",border:"1px solid #f0f0f0",transition:"all 0.2s ease"},input:{border:"1px solid #e5e7eb",borderRadius:"12px",padding:"12px 16px",fontSize:"14px",width:"100%",backgroundColor:"white",transition:"all 0.2s ease","&:focus":{outline:"none",borderColor:"#4F46E5",boxShadow:"0 0 0 3px rgba(79, 70, 229, 0.1)"}},grid:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(320px, 1fr))",gap:"24px"},flexBetween:{display:"flex",justifyContent:"space-between",alignItems:"center"},flexCenter:{display:"flex",justifyContent:"center",alignItems:"center",gap:"12px"},modal:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.4)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:50,backdropFilter:"blur(4px)"},modalContent:{backgroundColor:"white",borderRadius:"20px",padding:"32px",maxWidth:"900px",width:"95%",boxShadow:"0 20px 60px rgba(0, 0, 0, 0.15)",maxHeight:"90vh",overflow:"auto"}},ce=I.useCallback(()=>(n==null?void 0:n.customFields)||Dt,[n]),Co=I.useCallback(()=>{const u="tts_audio_";return{generateCacheKey:(C,N,_)=>{const W=JSON.stringify(_),T=btoa(unescape(encodeURIComponent(C+N+W))).replace(/[+/=]/g,"");return`${u}${T}`},saveToCache:async(C,N)=>{try{const W={audio:btoa(String.fromCharCode(...new Uint8Array(N))),timestamp:Date.now(),expires:Date.now()+2592e6};return localStorage.setItem(C,JSON.stringify(W)),!0}catch(_){return console.warn("音檔快取儲存失敗:",_),!1}},loadFromCache:C=>{try{const N=localStorage.getItem(C);if(!N)return null;const _=JSON.parse(N);if(Date.now()>_.expires)return localStorage.removeItem(C),null;const W=atob(_.audio),T=new Uint8Array(W.length);for(let w=0;w<W.length;w++)T[w]=W.charCodeAt(w);return T.buffer}catch(N){return console.warn("音檔快取載入失敗:",N),null}},getCacheSize:()=>{let C=0;for(let N in localStorage)if(N.startsWith(u))try{C+=localStorage.getItem(N).length}catch{}return C},clearCache:()=>{const C=[];for(let N in localStorage)N.startsWith(u)&&C.push(N);return C.forEach(N=>localStorage.removeItem(N)),C.length},cleanExpiredCache:()=>{const C=Date.now(),N=[];for(let _ in localStorage)if(_.startsWith(u))try{const W=JSON.parse(localStorage.getItem(_));C>W.expires&&N.push(_)}catch{N.push(_)}return N.forEach(_=>localStorage.removeItem(_)),N.length}}},[]),bo=({text:u,showFurigana:f=!0})=>{if(!u)return null;const p=[],g=/([一-龯々〆〤ヶ]+)\[([あ-んゃゅょぁぃぅぇぉっー]+)\]/g;let S=0,P;for(;(P=g.exec(u))!==null;)P.index>S&&p.push({text:u.slice(S,P.index),type:"normal"}),p.push({text:P[1],furigana:P[2],type:"kanji"}),S=g.lastIndex;return S<u.length&&p.push({text:u.slice(S),type:"normal"}),p.length===0&&p.push({text:u,type:"normal"}),o.jsx("span",{style:{display:"inline-block"},children:p.map((F,q)=>o.jsx("span",{style:{display:"inline-block"},children:F.type==="kanji"&&f?o.jsxs("ruby",{style:{rubyAlign:"center"},children:[F.text,o.jsx("rt",{style:{fontSize:"0.5em",color:"#6B7280",fontWeight:"normal",lineHeight:"1"},children:F.furigana})]}):F.text},q))})},gt=I.useCallback(async(u,f,p,g=null)=>{const S=u.replace(/\[([あ-んゃゅょぁぃぅぇぉっー]+)\]/g,""),P=Co(),F=g||{rate:"medium",pitch:"medium",style:"general",volume:1},q=P.generateCacheKey(S,f,F),C=P.loadFromCache(q);if(C){console.log("🎵 使用快取音檔");const Y=new(window.AudioContext||window.webkitAudioContext),X=await Y.decodeAudioData(C),le=Y.createBufferSource();le.buffer=X;const U=Y.createGain(),L=Math.max(parseFloat(F.volume)||1,.8);return console.log("🔊 設定快取音檔音量:",F.volume,"→",L,"(最小0.8)"),U.gain.setValueAtTime(L,Y.currentTime),le.connect(U),U.connect(Y.destination),new Promise((K,me)=>{le.onended=K,le.onerror=me,le.start(0)})}const N=`
      <speak version="1.0" xmlns="http://www.w3.org/2001/10/synthesis" xmlns:mstts="https://www.w3.org/2001/mstts" xml:lang="ja-JP">
        <voice name="${f}">
          <mstts:express-as style="${F.style}">
            <prosody rate="${F.rate}" pitch="${F.pitch}" volume="${F.volume}">
              ${S}
            </prosody>
          </mstts:express-as>
        </voice>
      </speak>
    `,_=await fetch(`https://${p.region}.tts.speech.microsoft.com/cognitiveservices/v1`,{method:"POST",headers:{"Ocp-Apim-Subscription-Key":p.subscriptionKey,"Content-Type":"application/ssml+xml","X-Microsoft-OutputFormat":"audio-16khz-128kbitrate-mono-mp3"},body:N});if(!_.ok){const Y=await _.text();let X=`Azure TTS 錯誤: ${_.status} ${_.statusText}`;throw _.status===401?X+=`
可能原因：
1. 訂閱金鑰錯誤
2. 訂閱金鑰已過期
3. 沒有Speech Services的訪問權限`:_.status===403?X+=`
可能原因：
1. 區域設定錯誤
2. 訂閱沒有在此區域啟用服務`:_.status===400&&(X+=`
可能原因：
1. SSML格式錯誤
2. 語音名稱不支援`),Y&&(X+=`
詳細錯誤：${Y}`),new Error(X)}const W=await _.arrayBuffer();console.log("▣ 儲存音檔到快取"),P.saveToCache(q,W);const T=new(window.AudioContext||window.webkitAudioContext);T.state==="suspended"&&await T.resume();const w=await T.decodeAudioData(W),A=T.createBufferSource();A.buffer=w;const b=T.createGain(),Z=Math.max(parseFloat(F.volume)||1,.8);return console.log("🔊 設定新下載音檔音量:",F.volume,"→",Z,"(最小0.8)"),b.gain.setValueAtTime(Z,T.currentTime),A.connect(b),b.connect(T.destination),new Promise((Y,X)=>{A.onended=()=>{console.log("▣ Azure TTS 音檔播放完成"),Y()},A.onerror=le=>{console.error("▣ Azure TTS 音檔播放錯誤:",le),X(le)},console.log("▣ 開始播放 Azure TTS 音檔"),A.start(0)})},[Co]),gn=I.useCallback(async(u,f={})=>{const{fieldKey:p,voice:g}=f,S=ce(),P=p?S[p]:null,F=g||(P==null?void 0:P.voice)||R.azureTTS.defaultVoice,q=P==null?void 0:P.voiceStyle;if(R.azureTTS.enabled&&R.azureTTS.subscriptionKey)try{await gt(u,F,R.azureTTS,q);return}catch(C){console.warn("Azure TTS 失敗，回退到瀏覽器 TTS:",C)}return new Promise((C,N)=>{if(!window.speechSynthesis){N(new Error("不支援語音合成"));return}const _=u.replace(/\[([あ-んゃゅょぁぃぅぇぉっー]+)\]/g,""),W=new SpeechSynthesisUtterance(_);W.rate=f.rate||R.defaultRate,W.pitch=1,W.volume=1;const w=speechSynthesis.getVoices().find(A=>A.lang.includes("ja")||A.name.includes("Japanese"));w&&(W.voice=w),W.onend=()=>C(),W.onerror=A=>N(A),speechSynthesis.speak(W)})},[R.defaultRate,R.azureTTS,gt,ce]),Ft=I.useCallback(async(u,f="ja-JP",p={})=>new Promise((g,S)=>{if(!window.speechSynthesis){S(new Error("不支援語音合成"));return}const P=u.replace(/\[([あ-んゃゅょぁぃぅぇぉっー]+)\]/g,""),F=new SpeechSynthesisUtterance(P),q={"x-slow":.5,slow:.75,medium:1,fast:1.25,"x-fast":1.5},C={"x-low":.5,low:.75,medium:1,high:1.25,"x-high":1.5};F.rate=q[p.rate]||1,F.pitch=C[p.pitch]||1,F.volume=p.volume||1;const N=speechSynthesis.getVoices();console.log("可用語音:",N.map(W=>`${W.name} (${W.lang})`));let _=N.find(W=>W.lang===f||W.lang.startsWith(f.split("-")[0]));!_&&f.startsWith("ja")&&(_=N.find(W=>W.lang.includes("ja")||W.name.includes("Japanese")||W.name.includes("Japan"))),!_&&f.startsWith("en")&&(_=N.find(W=>W.lang.includes("en")||W.name.includes("English"))),_?(F.voice=_,console.log("選擇語音:",_.name,_.lang)):console.log("使用預設語音"),F.onend=()=>g(),F.onerror=W=>S(W),speechSynthesis.speak(F)}),[]),nl=I.useCallback(async(u,f=0)=>{var S,P,F,q;if(!((S=u==null?void 0:u.pages)!=null&&S[f]))return;console.log("開始執行腳本:",(P=u.pages[f])==null?void 0:P.name,"步驟數量:",(q=(F=u.pages[f])==null?void 0:F.script)==null?void 0:q.length),j(!0);const p=u.pages[f];let g=!0;try{let C=0;for(let N=0;N<p.script.length&&g;N++){const _=p.script[N];switch(console.log(`執行步驟 ${N+1}/${p.script.length}:`,_),_.type){case"speak":const W=u.fields[_.field];if(W){console.log("播放文本:",W);const w=_.repeat||1;let A=0;for(let b=0;b<w&&g;b++){console.log(`重複播放 ${b+1}/${w}`);const Z=Date.now();await gn(W,{rate:_.rate||R.defaultRate,fieldKey:_.field});const Y=Date.now()-Z;A+=Y,b<w-1&&(await new Promise(X=>setTimeout(X,300)),A+=300)}C=A}else console.log("警告: 找不到欄位內容:",_.field);break;case"pause":let T;_.intervalType==="multiplier"&&C>0?(T=C*(_.multiplier||1),console.log("使用倍數暫停:",T,"ms")):(T=_.duration||1e3,console.log("使用固定暫停:",T,"ms")),await new Promise(w=>setTimeout(w,T));break}console.log(`步驟 ${N+1} 完成`)}console.log("腳本執行完成")}catch(C){console.error("播放錯誤:",C)}finally{console.log("設置 isPlaying 為 false"),j(!1)}},[gn,R.defaultRate]),Us=I.useCallback(()=>{console.log("用戶手動停止播放"),j(!1),window.speechSynthesis&&speechSynthesis.cancel()},[]);I.useEffect(()=>{localStorage.removeItem("japanese-vocab-data");const u=localStorage.getItem("japanese-vocab-data");if(u)try{const f=JSON.parse(u);t(f.folders||[]),tl({...R,...f.settings}),f.displayTemplates&&cr(f.displayTemplates),f.currentTemplate&&el(f.currentTemplate)}catch(f){console.error("載入失敗:",f)}else{const f={id:Date.now()-1e3,name:"N5 基礎單字",icon:"📚",customFields:Dt,cards:[{id:1,fields:{kanji:"学校[がっこう]",hiragana:"がっこう",meaning:"學校",example:"私[わたし]は学校[がっこう]に行[い]きます。",level:"N5"},pages:ge()},{id:2,fields:{kanji:"先生[せんせい]",hiragana:"せんせい",meaning:"老師",example:"田中[たなか]先生[せんせい]は優[やさ]しいです。",level:"N5"},pages:ge()},{id:3,fields:{kanji:"友達[ともだち]",hiragana:"ともだち",meaning:"朋友",example:"友達[ともだち]と映画[えいが]を見[み]ます。",level:"N5"},pages:ge()},{id:4,fields:{kanji:"家族[かぞく]",hiragana:"かぞく",meaning:"家人",example:"家族[かぞく]と旅行[りょこう]します。",level:"N5"},pages:ge()},{id:5,fields:{kanji:"日本[にほん]",hiragana:"にほん",meaning:"日本",example:"日本[にほん]の文化[ぶんか]は面白[おもしろ]いです。",level:"N5"},pages:ge()}]},p={id:Date.now()-2e3,name:"日常生活",icon:"🏠",customFields:Dt,cards:[{id:6,fields:{kanji:"朝[あさ]ご飯[はん]",hiragana:"あさごはん",meaning:"早餐",example:"朝[あさ]ご飯[はん]を食[た]べます。",level:"N5"},pages:ge()},{id:7,fields:{kanji:"買[か]い物[もの]",hiragana:"かいもの",meaning:"購物",example:"スーパーで買[か]い物[もの]をします。",level:"N5"},pages:ge()},{id:8,fields:{kanji:"電車[でんしゃ]",hiragana:"でんしゃ",meaning:"電車",example:"電車[でんしゃ]で会社[かいしゃ]に行[い]きます。",level:"N5"},pages:ge()},{id:9,fields:{kanji:"本[ほん]",hiragana:"ほん",meaning:"書",example:"図書館[としょかん]で本[ほん]を読[よ]みます。",level:"N5"},pages:ge()},{id:10,fields:{kanji:"病院[びょういん]",hiragana:"びょういん",meaning:"醫院",example:"風邪[かぜ]をひいて病院[びょういん]に行[い]きました。",level:"N5"},pages:ge()}]},g={id:Date.now()-3e3,name:"食べ物",icon:"🍱",customFields:Dt,cards:[{id:11,fields:{kanji:"寿司[すし]",hiragana:"すし",meaning:"壽司",example:"日本[にほん]の寿司[すし]は美味[おい]しいです。",level:"N5"},pages:ge()},{id:12,fields:{kanji:"ラーメン",hiragana:"らーめん",meaning:"拉麵",example:"ラーメンが大好[だいす]きです。",level:"N5"},pages:ge()},{id:13,fields:{kanji:"コーヒー",hiragana:"こーひー",meaning:"咖啡",example:"朝[あさ]はコーヒーを飲[の]みます。",level:"N5"},pages:ge()},{id:14,fields:{kanji:"野菜[やさい]",hiragana:"やさい",meaning:"蔬菜",example:"野菜[やさい]を食[た]べることは健康[けんこう]にいいです。",level:"N5"},pages:ge()},{id:15,fields:{kanji:"果物[くだもの]",hiragana:"くだもの",meaning:"水果",example:"果物[くだもの]はビタミンが豊富[ほうふ]です。",level:"N5"},pages:ge()}]},S={id:Date.now()-4e3,name:"動詞",icon:"🏃‍♂️",customFields:Dt,cards:[{id:16,fields:{kanji:"食[た]べる",hiragana:"たべる",meaning:"吃",example:"ご飯[はん]を食[た]べます。",level:"N5"},pages:ge()},{id:17,fields:{kanji:"飲[の]む",hiragana:"のむ",meaning:"喝",example:"水[みず]を飲[の]みます。",level:"N5"},pages:ge()},{id:18,fields:{kanji:"見[み]る",hiragana:"みる",meaning:"看",example:"テレビを見[み]ます。",level:"N5"},pages:ge()},{id:19,fields:{kanji:"聞[き]く",hiragana:"きく",meaning:"聽",example:"音楽[おんがく]を聞[き]きます。",level:"N5"},pages:ge()},{id:20,fields:{kanji:"読[よ]む",hiragana:"よむ",meaning:"讀",example:"新聞[しんぶん]を読[よ]みます。",level:"N5"},pages:ge()}]},P={id:Date.now()-5e3,name:"形容詞",icon:"🌈",customFields:Dt,cards:[{id:21,fields:{kanji:"大[おお]きい",hiragana:"おおきい",meaning:"大的",example:"この家[いえ]は大[おお]きいです。",level:"N5"},pages:ge()},{id:22,fields:{kanji:"小[ちい]さい",hiragana:"ちいさい",meaning:"小的",example:"小[ちい]さい猫[ねこ]がいます。",level:"N5"},pages:ge()},{id:23,fields:{kanji:"新[あたら]しい",hiragana:"あたらしい",meaning:"新的",example:"新[あたら]しい車[くるま]を買[か]いました。",level:"N5"},pages:ge()},{id:24,fields:{kanji:"古[ふる]い",hiragana:"ふるい",meaning:"舊的",example:"この本[ほん]は古[ふる]いです。",level:"N5"},pages:ge()},{id:25,fields:{kanji:"美[うつく]しい",hiragana:"うつくしい",meaning:"美麗的",example:"桜[さくら]の花[はな]は美[うつく]しいです。",level:"N4"},pages:ge()}]};t([f,p,g,S,P])}},[]),I.useEffect(()=>{localStorage.setItem("japanese-vocab-data",JSON.stringify({folders:e,settings:R,displayTemplates:Ve,currentTemplate:Fe}))},[e,R,Ve,Fe]);const Td=()=>{const[u,f]=I.useState(R.azureTTS),[p,g]=I.useState("こんにちは、世界！"),[S,P]=I.useState("ja-JP-NanamiNeural"),[F,q]=I.useState(!1),C=()=>{tl({...R,azureTTS:u}),m(!1),alert("Azure TTS 設定已保存！")},N=async()=>{if(!u.subscriptionKey||!u.region){alert("請先填入 Azure 訂閱金鑰和區域");return}q(!0);try{await gt(p,S,u,{rate:"medium",pitch:"medium",style:"general",volume:1}),alert("測試成功！語音播放正常")}catch(Z){alert("測試失敗："+Z.message)}finally{q(!1)}},_=Co(),T=(_.getCacheSize()/(1024*1024)).toFixed(2),w=()=>{if(confirm("確定要清除所有快取音檔嗎？這將會刪除所有已儲存的語音檔案。")){const Z=_.clearCache();alert(`已清除 ${Z} 個快取音檔`)}},A=()=>{const Z=_.cleanExpiredCache();alert(`已清除 ${Z} 個過期的快取音檔`)},b=async()=>{if(!u.enabled||!u.subscriptionKey||!u.region){alert("請先啟用 Azure TTS 並填入訂閱金鑰和區域");return}q(!0);try{const X=`
          <speak version="1.0" xmlns="http://www.w3.org/2001/10/synthesis" xml:lang="ja-JP">
            <voice name="ja-JP-NanamiNeural">
              こんにちは
            </voice>
          </speak>
        `,le=await fetch(`https://${u.region}.tts.speech.microsoft.com/cognitiveservices/v1`,{method:"POST",headers:{"Ocp-Apim-Subscription-Key":u.subscriptionKey,"Content-Type":"application/ssml+xml","X-Microsoft-OutputFormat":"audio-16khz-128kbitrate-mono-mp3"},body:X});if(!le.ok){let L=`連接失敗 (${le.status}): ${le.statusText}

`;le.status===401?(L+=`❌ 原因：訂閱金鑰錯誤或已過期
`,L+=`🔧 解決方法：
`,L+=`1. 檢查訂閱金鑰是否正確
`,L+=`2. 確認 Speech Services 資源是否有效
`,L+="3. 檢查金鑰是否已過期"):le.status===403?(L+=`❌ 原因：區域設定錯誤或權限不足
`,L+=`🔧 解決方法：
`,L+=`1. 確認區域設定正確 (如: eastus, westus2)
`,L+="2. 檢查 Speech Services 是否在此區域啟用"):le.status===400&&(L+=`❌ 原因：請求格式錯誤
`,L+="🔧 解決方法：檢查語音名稱是否支援"),alert(L);return}console.log("▣ Azure TTS 連接成功，準備播放音檔");const U=await le.arrayBuffer();try{if(console.log("🔍 開始音頻診斷..."),console.log("📊 音檔大小:",U.byteLength,"bytes"),!window.AudioContext&&!window.webkitAudioContext)throw new Error("瀏覽器不支援 AudioContext");const L=new(window.AudioContext||window.webkitAudioContext);console.log("🎵 AudioContext 狀態:",L.state),console.log("🔊 AudioContext 採樣率:",L.sampleRate),L.state==="suspended"&&(console.log("⏸️ AudioContext 被暫停，嘗試恢復..."),await L.resume(),console.log("▶️ AudioContext 恢復後狀態:",L.state)),console.log("🔧 開始解碼音檔...");const K=await L.decodeAudioData(U);console.log("✅ 音檔解碼成功"),console.log("📈 音檔時長:",K.duration,"秒"),console.log("🎼 音檔聲道數:",K.numberOfChannels);const me=L.createBufferSource();me.buffer=K;const ze=L.createGain();ze.gain.setValueAtTime(1,L.currentTime),me.connect(ze),ze.connect(L.destination),console.log("🔗 音頻節點連接完成"),me.onended=()=>{console.log("🎉 音檔播放完成"),alert(`✅ Azure TTS 連接和播放測試成功！

您聽到了測試語音「こんにちは」，Azure TTS 工作正常。`)},me.onerror=xt=>{console.error("❌ 音檔播放錯誤:",xt),alert(`❌ 音檔播放失敗:

`+JSON.stringify(xt)+`

請檢查瀏覽器控制台獲取詳細信息。`)},console.log("🎵 開始播放音檔..."),me.start(0),setTimeout(()=>{L.state==="running"?console.log("⏰ 播放超時檢查: AudioContext 仍在運行"):console.warn("⚠️ 播放超時檢查: AudioContext 狀態異常:",L.state)},1e3)}catch(L){console.error("❌ 音檔播放設置錯誤:",L),console.error("錯誤堆疊:",L.stack);let K=`錯誤類型: ${L.name}
`;K+=`錯誤訊息: ${L.message}
`,K+=`瀏覽器: ${navigator.userAgent}
`,K+=`AudioContext 支援: ${!!(window.AudioContext||window.webkitAudioContext)}`,alert(`❌ Azure TTS 連接成功，但音檔播放失敗:

`+K)}}catch(Z){console.error("Azure TTS 連接測試失敗:",Z),alert(`❌ 連接測試失敗：

${Z.message}

請檢查：
1. 網路連接
2. 訂閱金鑰和區域設定
3. Azure Speech Services 是否正常運作`)}finally{q(!1)}};return o.jsx("div",{style:k.modal,children:o.jsxs("div",{style:k.modalContent,children:[o.jsxs("div",{style:k.flexBetween,children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"15px"},children:[o.jsx("h3",{style:{fontSize:"18px",fontWeight:"bold"},children:"Azure TTS 語音設定"}),o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px",padding:"6px 12px",borderRadius:"4px",fontSize:"13px",backgroundColor:u.enabled&&u.subscriptionKey?"#dcfce7":"#fef3c7",color:u.enabled&&u.subscriptionKey?"#166534":"#92400e",border:`1px solid ${u.enabled&&u.subscriptionKey?"#bbf7d0":"#fde68a"}`},children:[o.jsx("span",{style:{fontSize:"12px"},children:u.enabled&&u.subscriptionKey?"🟢":"🟡"}),u.enabled&&u.subscriptionKey?"已連接 Azure TTS":"使用預設 TTS"]})]}),o.jsxs("div",{style:{display:"flex",gap:"10px"},children:[o.jsx("button",{style:{...k.button,backgroundColor:F?"#9ca3af":"#059669",cursor:F?"not-allowed":"pointer"},onClick:b,disabled:!u.enabled||!u.subscriptionKey||!u.region||F,children:F?"⏳ 測試中...":"🔍 測試連接"}),o.jsx("button",{style:k.button,onClick:C,children:"保存設定"}),o.jsx("button",{style:k.buttonGray,onClick:()=>m(!1),children:"關閉"})]})]}),o.jsxs("div",{style:{margin:"20px 0",padding:"15px",backgroundColor:"#f3f4f6",borderRadius:"6px"},children:[o.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"10px",fontSize:"16px",fontWeight:"bold"},children:[o.jsx("input",{type:"checkbox",checked:u.enabled,onChange:Z=>f({...u,enabled:Z.target.checked})}),"啟用 Azure Text-to-Speech"]}),o.jsx("p",{style:{fontSize:"14px",color:"#6b7280",margin:"10px 0 0 30px"},children:"啟用後將使用更高品質的 Azure TTS 語音，否則使用瀏覽器內建 TTS"})]}),u.enabled&&o.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"20px"},children:[o.jsxs("div",{style:{padding:"15px",border:"1px solid #d1d5db",borderRadius:"6px"},children:[o.jsx("h4",{style:{fontSize:"16px",fontWeight:"bold",marginBottom:"15px"},children:"🔑 API 設定"}),o.jsxs("div",{style:{display:"grid",gap:"15px"},children:[o.jsxs("div",{children:[o.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:"bold",marginBottom:"5px"},children:"訂閱金鑰 (Subscription Key)"}),o.jsx("input",{type:"password",placeholder:"輸入您的 Azure Speech Services 訂閱金鑰",value:u.subscriptionKey,onChange:Z=>f({...u,subscriptionKey:Z.target.value}),style:k.input})]}),o.jsxs("div",{children:[o.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:"bold",marginBottom:"5px"},children:"區域 (Region)"}),o.jsxs("select",{value:u.region,onChange:Z=>f({...u,region:Z.target.value}),style:k.input,children:[o.jsx("option",{value:"eastus",children:"East US (eastus)"}),o.jsx("option",{value:"westus2",children:"West US 2 (westus2)"}),o.jsx("option",{value:"eastasia",children:"East Asia (eastasia)"}),o.jsx("option",{value:"southeastasia",children:"Southeast Asia (southeastasia)"}),o.jsx("option",{value:"japaneast",children:"Japan East (japaneast)"}),o.jsx("option",{value:"japanwest",children:"Japan West (japanwest)"}),o.jsx("option",{value:"westeurope",children:"West Europe (westeurope)"}),o.jsx("option",{value:"northeurope",children:"North Europe (northeurope)"}),o.jsx("option",{value:"centralus",children:"Central US (centralus)"}),o.jsx("option",{value:"australiaeast",children:"Australia East (australiaeast)"})]})]})]})]}),o.jsxs("div",{style:{padding:"15px",border:"1px solid #d1d5db",borderRadius:"6px"},children:[o.jsx("h4",{style:{fontSize:"16px",fontWeight:"bold",marginBottom:"15px"},children:"🎤 語音測試"}),o.jsxs("div",{style:{display:"grid",gap:"15px"},children:[o.jsxs("div",{children:[o.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:"bold",marginBottom:"5px"},children:"測試文字"}),o.jsx("input",{type:"text",value:p,onChange:Z=>g(Z.target.value),style:k.input,placeholder:"輸入要測試的文字"})]}),o.jsxs("div",{children:[o.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:"bold",marginBottom:"5px"},children:"測試語音"}),o.jsx("select",{value:S,onChange:Z=>P(Z.target.value),style:k.input,children:Object.entries(wo).map(([Z,Y])=>o.jsx("optgroup",{label:Z,children:Y.map(X=>o.jsx("option",{value:X.value,children:X.label},X.value))},Z))})]}),o.jsx("button",{onClick:N,disabled:F,style:{...k.buttonGreen,backgroundColor:F?"#9ca3af":"#16a34a"},children:F?"◐ 測試中...":"♪ 測試語音"})]})]}),o.jsxs("div",{style:{padding:"15px",border:"1px solid #d1d5db",borderRadius:"6px"},children:[o.jsx("h4",{style:{fontSize:"16px",fontWeight:"bold",marginBottom:"15px"},children:"▣ 音檔快取管理"}),o.jsxs("div",{style:{display:"grid",gap:"15px"},children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"10px",backgroundColor:"#f9fafb",borderRadius:"6px"},children:[o.jsxs("span",{style:{fontSize:"14px"},children:[o.jsx("strong",{children:"快取大小："}),T," MB"]}),o.jsx("span",{style:{fontSize:"12px",color:"#6b7280"},children:"自動過期：30天"})]}),o.jsxs("div",{style:{display:"flex",gap:"10px"},children:[o.jsx("button",{onClick:A,style:{...k.button,backgroundColor:"#f59e0b"},children:"🧹 清理過期快取"}),o.jsx("button",{onClick:w,style:{...k.buttonRed},children:"🗑 清除所有快取"})]})]}),o.jsx("div",{style:{marginTop:"10px",padding:"10px",backgroundColor:"#f0f9ff",borderRadius:"6px"},children:o.jsxs("p",{style:{fontSize:"12px",color:"#0369a1",margin:0},children:[o.jsx("strong",{children:"💡 快取說明："}),o.jsx("br",{}),"• 首次播放會調用 Azure API 並儲存音檔",o.jsx("br",{}),"• 相同文字+語音+風格的組合會使用快取，節省API費用",o.jsx("br",{}),"• 快取檔案會自動在30天後過期",o.jsx("br",{}),"• 建議定期清理過期快取以節省儲存空間"]})})]})]}),o.jsx("div",{style:{marginTop:"20px",padding:"15px",backgroundColor:"#f0f9ff",borderRadius:"6px"},children:o.jsxs("p",{style:{fontSize:"14px",color:"#0369a1",margin:0},children:[o.jsx("strong",{children:"📋 Azure Speech Services 設定說明："}),o.jsx("br",{}),"1. 前往 ",o.jsx("strong",{children:"Azure Portal (portal.azure.com)"}),o.jsx("br",{}),"2. 創建 ",o.jsx("strong",{children:"Speech Services"})," 資源（不是 Cognitive Services 多合一資源）",o.jsx("br",{}),"3. 在資源的 ",o.jsx("strong",{children:"「金鑰和端點」"})," 頁面獲取：",o.jsx("br",{}),"• ",o.jsx("strong",{children:"金鑰1 或 金鑰2"}),"（任選一個）",o.jsx("br",{}),"• ",o.jsx("strong",{children:"區域"}),"（如 eastasia, japaneast 等）",o.jsx("br",{}),"4. 確保區域與 Speech Services 資源創建的區域一致",o.jsx("br",{}),"5. 如果遇到 401 錯誤，請檢查金鑰是否正確複製",o.jsx("br",{}),"6. 如果遇到 403 錯誤，請檢查區域設定是否正確"]})}),o.jsx("div",{style:{marginTop:"15px",padding:"15px",backgroundColor:"#fef2f2",borderRadius:"6px"},children:o.jsxs("p",{style:{fontSize:"14px",color:"#dc2626",margin:0},children:[o.jsx("strong",{children:"⚠ 常見問題排除："}),o.jsx("br",{}),"• ",o.jsx("strong",{children:"401 錯誤"}),"：訂閱金鑰錯誤或過期",o.jsx("br",{}),"• ",o.jsx("strong",{children:"403 錯誤"}),"：區域設定錯誤或該區域未啟用服務",o.jsx("br",{}),"• ",o.jsx("strong",{children:"400 錯誤"}),"：語音名稱不支援或SSML語法錯誤",o.jsx("br",{}),"• ",o.jsx("strong",{children:"建議區域"}),"：東亞用戶建議使用 eastasia 或 japaneast"]})})]})})},Hs=()=>{const[u,f]=I.useState({}),[p,g]=I.useState(""),[S,P]=I.useState(""),[F,q]=I.useState("text"),[C,N]=I.useState(null),[_,W]=I.useState(null);I.useEffect(()=>{f({...ce()})},[ce]);const T=()=>{if(p&&S){const U=Math.max(...Object.values(u).map(L=>L.order||0));f({...u,[p]:{label:S,type:F,order:U+1,voice:R.azureTTS.defaultVoice,voiceStyle:{rate:"medium",pitch:"medium",style:"general",volume:1}}}),g(""),P("")}},w=U=>{var L;if(confirm(`確定要刪除欄位「${(L=u[U])==null?void 0:L.label}」嗎？`)){const K={...u};delete K[U],f(K)}},A=(U,L)=>{f({...u,[U]:{...u[U],...L}})},b=(U,L)=>{N(L),U.dataTransfer.effectAllowed="move"},Z=(U,L)=>{U.preventDefault(),U.dataTransfer.dropEffect="move",W(L)},Y=()=>{W(null)},X=(U,L)=>{if(U.preventDefault(),C&&C!==L){const K=Object.entries(u).sort(([,mt],[,xn])=>(mt.order||0)-(xn.order||0)),me=K.findIndex(([mt])=>mt===C),ze=K.findIndex(([mt])=>mt===L),xt=[...K],[At]=xt.splice(me,1);xt.splice(ze,0,At);const Qt={};xt.forEach(([mt,xn],Dn)=>{Qt[mt]={...xn,order:Dn+1}}),f(Qt)}N(null),W(null)},le=()=>{const U=e.map(L=>L.id===n.id?{...L,customFields:u}:L);t(U),r({...n,customFields:u}),M(!1),alert("欄位設定已保存！")};return o.jsx("div",{style:k.modal,children:o.jsxs("div",{style:k.modalContent,children:[o.jsxs("div",{style:k.flexBetween,children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"15px"},children:[o.jsx("h3",{style:{fontSize:"18px",fontWeight:"bold"},children:"自定義欄位編輯器"}),o.jsxs("button",{onClick:()=>{M(!1),m(!0)},style:{padding:"4px 8px",fontSize:"12px",backgroundColor:R.azureTTS.enabled&&R.azureTTS.subscriptionKey?"#dcfce7":"#fef3c7",color:R.azureTTS.enabled&&R.azureTTS.subscriptionKey?"#166534":"#92400e",border:`1px solid ${R.azureTTS.enabled&&R.azureTTS.subscriptionKey?"#bbf7d0":"#fde68a"}`,borderRadius:"4px",cursor:"pointer",display:"flex",alignItems:"center",gap:"4px"},title:"前往 Azure TTS 語音設定",children:[o.jsx("span",{style:{fontSize:"10px"},children:R.azureTTS.enabled&&R.azureTTS.subscriptionKey?"🔗":"⚡"}),"語音設定"]})]}),o.jsxs("div",{style:{display:"flex",gap:"10px"},children:[o.jsx("button",{style:k.button,onClick:le,children:"保存"}),o.jsx("button",{style:k.buttonGray,onClick:()=>M(!1),children:"關閉"})]})]}),o.jsxs("div",{style:{marginTop:"20px",padding:"15px",backgroundColor:"#f3f4f6",borderRadius:"6px"},children:[o.jsx("h4",{style:{fontSize:"16px",fontWeight:"bold",marginBottom:"10px"},children:"添加新欄位"}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 120px 80px",gap:"10px",alignItems:"end"},children:[o.jsx("input",{type:"text",placeholder:"欄位鍵名 (英文)",value:p,onChange:U=>g(U.target.value),style:k.input}),o.jsx("input",{type:"text",placeholder:"顯示名稱",value:S,onChange:U=>P(U.target.value),style:k.input}),o.jsxs("select",{value:F,onChange:U=>q(U.target.value),style:k.input,children:[o.jsx("option",{value:"text",children:"純文字"}),o.jsx("option",{value:"kanji",children:"漢字注音"})]}),o.jsx("button",{onClick:T,style:k.buttonGreen,children:"添加"})]})]}),o.jsxs("div",{style:{marginTop:"20px"},children:[o.jsx("h4",{style:{fontSize:"16px",fontWeight:"bold",marginBottom:"10px"},children:"現有欄位設定"}),o.jsx("p",{style:{fontSize:"14px",color:"#6b7280",marginBottom:"10px"},children:"💡 提示：拖曳左側手柄可調整欄位順序，最上面的為第一欄"}),o.jsx("div",{style:{maxHeight:"300px",overflow:"auto"},children:Object.entries(u).sort(([,U],[,L])=>(U.order||0)-(L.order||0)).map(([U,L])=>o.jsxs("div",{draggable:!0,onDragStart:K=>b(K,U),onDragOver:K=>Z(K,U),onDragLeave:Y,onDrop:K=>X(K,U),style:{display:"grid",gridTemplateColumns:"40px 120px 1fr 120px 200px 80px 60px 60px",gap:"10px",alignItems:"center",padding:"10px",border:`2px solid ${_===U?"#3b82f6":"#e5e7eb"}`,borderRadius:"6px",marginBottom:"10px",backgroundColor:C===U?"#f1f5f9":"white",cursor:"move",opacity:C===U?.7:1,transform:C===U?"scale(0.98)":"scale(1)",transition:"all 0.2s ease"},children:[o.jsx("div",{style:{color:"#9ca3af",cursor:"grab",textAlign:"center",fontSize:"18px",userSelect:"none"},onMouseDown:K=>K.currentTarget.style.cursor="grabbing",onMouseUp:K=>K.currentTarget.style.cursor="grab",children:"⋮⋮"}),o.jsx("div",{style:{fontSize:"14px",color:"#6b7280"},children:U}),o.jsx("input",{type:"text",value:L.label,onChange:K=>A(U,{label:K.target.value}),style:{...k.input,margin:0}}),o.jsxs("select",{value:L.type,onChange:K=>A(U,{type:K.target.value}),style:{...k.input,margin:0},children:[o.jsx("option",{value:"text",children:"純文字"}),o.jsx("option",{value:"kanji",children:"漢字注音"})]}),o.jsx("select",{value:L.voice||R.azureTTS.defaultVoice,onChange:K=>A(U,{voice:K.target.value}),style:{...k.input,margin:0,fontSize:"12px"},children:Object.entries(wo).map(([K,me])=>o.jsx("optgroup",{label:K,children:me.map(ze=>o.jsx("option",{value:ze.value,children:ze.label},ze.value))},K))}),o.jsx("button",{onClick:K=>{K.preventDefault(),K.stopPropagation(),console.log("⚙ 按鈕被點擊了！",U,L),J(U),ur(L.voiceStyle||{rate:"medium",pitch:"medium",style:"general",volume:1}),$(!0),console.log("showVoiceStyleEditor 設置為 true")},style:{...k.button,padding:"6px 8px",fontSize:"12px",backgroundColor:"#8b5cf6"},title:"語音風格設定",children:"⚙"}),o.jsx("input",{type:"number",value:L.order||0,onChange:K=>A(U,{order:parseInt(K.target.value)}),style:{...k.input,margin:0},min:"1"}),o.jsx("button",{onClick:()=>w(U),style:{...k.buttonRed,padding:"6px 8px",fontSize:"12px"},title:"刪除欄位",children:"🗑"})]},U))})]}),o.jsx("div",{style:{marginTop:"20px",padding:"15px",backgroundColor:"#dbeafe",borderRadius:"6px"},children:o.jsxs("p",{style:{fontSize:"14px",color:"#1e40af",margin:0},children:[o.jsx("strong",{children:"使用說明："}),o.jsx("br",{}),"• ",o.jsx("strong",{children:"拖曳排序"}),"：按住左側 ⋮⋮ 手柄拖曳來調整欄位順序",o.jsx("br",{}),"• ",o.jsx("strong",{children:"欄位鍵名"}),"：用於程式內部識別，建議使用英文（創建後不可修改）",o.jsx("br",{}),"• ",o.jsx("strong",{children:"顯示名稱"}),"：在試算表中顯示的標題",o.jsx("br",{}),"• ",o.jsx("strong",{children:"類型"}),"：漢字注音類型支援 漢字[ふりがな] 格式",o.jsx("br",{}),"• ",o.jsx("strong",{children:"語音"}),"：選擇此欄位使用的 TTS 語音（需先設定 Azure TTS）",o.jsx("br",{}),"• ",o.jsx("strong",{children:"⚙ 風格"}),"：點擊設定該欄位的語音風格（速度、音調、情感等）",o.jsx("br",{}),"• ",o.jsx("strong",{children:"順序"}),"：也可以直接修改數字來調整順序"]})})]})})},Qs=({fieldKey:u,voiceStyle:f,onSave:p,onCancel:g})=>{var W,T;const[S,P]=I.useState(f||{rate:"medium",pitch:"medium",style:"general",volume:1}),[F,q]=I.useState("これはテストです。"),[C,N]=I.useState(!1),_=async()=>{if(!C){N(!0);try{if(R.azureTTS.enabled&&R.azureTTS.subscriptionKey){const w=ce()[u],A=(w==null?void 0:w.voice)||R.azureTTS.defaultVoice||"ja-JP-NanamiNeural";console.log("🔄 終極測試：直接調用測試連接函數");const b=R.azureTTS.subscriptionKey,Z=R.azureTTS.region,X={enabled:R.azureTTS.enabled,subscriptionKey:b,region:Z};if(!X.enabled||!X.subscriptionKey||!X.region){alert("請先啟用 Azure TTS 並填入訂閱金鑰和區域");return}try{const L=`
              <speak version="1.0" xmlns="http://www.w3.org/2001/10/synthesis" xml:lang="ja-JP">
                <voice name="ja-JP-NanamiNeural">
                  こんにちは
                </voice>
              </speak>
            `,K=await fetch(`https://${X.region}.tts.speech.microsoft.com/cognitiveservices/v1`,{method:"POST",headers:{"Ocp-Apim-Subscription-Key":X.subscriptionKey,"Content-Type":"application/ssml+xml","X-Microsoft-OutputFormat":"audio-16khz-128kbitrate-mono-mp3"},body:L});if(!K.ok)throw new Error(`連接失敗 (${K.status}): ${K.statusText}`);const me=await K.arrayBuffer();console.log("🔍 開始音頻診斷..."),console.log("📊 音檔大小:",me.byteLength,"bytes");const ze=new(window.AudioContext||window.webkitAudioContext);console.log("🎵 AudioContext 狀態:",ze.state),ze.state==="suspended"&&(console.log("⏸️ AudioContext 被暫停，嘗試恢復..."),await ze.resume(),console.log("▶️ AudioContext 恢復後狀態:",ze.state));const xt=await ze.decodeAudioData(me);console.log("✅ 音檔解碼成功"),console.log("📈 音檔時長:",xt.duration,"秒");const At=ze.createBufferSource();At.buffer=xt;const Qt=ze.createGain();return Qt.gain.setValueAtTime(1,ze.currentTime),At.connect(Qt),Qt.connect(ze.destination),console.log("🔗 音頻節點連接完成"),new Promise((mt,xn)=>{At.onended=()=>{console.log("🎉 終極測試音檔播放完成"),mt()},At.onerror=Dn=>{console.error("❌ 音檔播放錯誤:",Dn),xn(Dn)},At.start(0)})}catch(le){console.error("❌ 終極測試失敗:",le),alert(`❌ 終極測試失敗：

${le.message}`)}}else{console.log("Azure TTS 未啟用，使用瀏覽器內建語音");try{const w=ce()[u],A=(w==null?void 0:w.voice)||R.azureTTS.defaultVoice;let b="ja-JP";A.includes("en-US")?b="en-US":A.includes("ja-JP")&&(b="ja-JP"),console.log("使用瀏覽器語音，語言:",b),await Ft(F,b,S)}catch(w){console.error("瀏覽器語音失敗:",w),alert("語音播放失敗。建議設定 Azure TTS 以獲得更好的語音效果。")}}}catch(w){console.error("❌ 測試語音失敗:",w),console.error("錯誤詳情:",w.stack),alert(`❌ 測試語音失敗:

`+w.message+`

請檢查瀏覽器控制台獲取詳細信息。`)}console.log("🔄 測試語音完成，重置狀態"),N(!1)}};return o.jsx("div",{style:k.modal,children:o.jsxs("div",{style:{...k.modalContent,maxWidth:"500px"},children:[o.jsxs("div",{style:k.flexBetween,children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",flexWrap:"wrap"},children:[o.jsxs("h3",{style:{fontSize:"18px",fontWeight:"bold",margin:0},children:["語音風格設定 - ",((W=ce()[u])==null?void 0:W.label)||u]}),o.jsxs("button",{onClick:()=>{g(),m(!0)},style:{padding:"3px 6px",fontSize:"11px",backgroundColor:R.azureTTS.enabled&&R.azureTTS.subscriptionKey?"#dcfce7":"#fef3c7",color:R.azureTTS.enabled&&R.azureTTS.subscriptionKey?"#166534":"#92400e",border:`1px solid ${R.azureTTS.enabled&&R.azureTTS.subscriptionKey?"#bbf7d0":"#fde68a"}`,borderRadius:"3px",cursor:"pointer",display:"flex",alignItems:"center",gap:"3px"},title:"前往 Azure TTS 語音設定",children:[o.jsx("span",{style:{fontSize:"9px"},children:"⚙"}),"設定"]})]}),o.jsxs("div",{style:{display:"flex",gap:"10px"},children:[o.jsx("button",{style:k.button,onClick:()=>p(S),children:"✓ 保存"}),o.jsx("button",{style:k.buttonGray,onClick:g,children:"× 取消"})]})]}),o.jsxs("div",{style:{marginTop:"20px"},children:[o.jsxs("div",{style:{padding:"15px",backgroundColor:"#f3f4f6",borderRadius:"6px",marginBottom:"20px"},children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"10px"},children:[o.jsx("h4",{style:{fontSize:"16px",fontWeight:"bold",margin:0},children:"◉ 語音測試"}),o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px",padding:"4px 8px",borderRadius:"4px",fontSize:"12px",backgroundColor:R.azureTTS.enabled&&R.azureTTS.subscriptionKey?"#dcfce7":"#fef3c7",color:R.azureTTS.enabled&&R.azureTTS.subscriptionKey?"#166534":"#92400e"},children:[o.jsx("span",{style:{fontSize:"10px"},children:(R.azureTTS.enabled&&R.azureTTS.subscriptionKey,"●")}),R.azureTTS.enabled&&R.azureTTS.subscriptionKey?"Azure TTS":"預設 TTS"]})]}),o.jsxs("div",{style:{display:"flex",gap:"10px",alignItems:"center"},children:[o.jsx("input",{type:"text",value:F,onChange:w=>q(w.target.value),placeholder:"輸入測試文字",style:{...k.input,flex:1}}),o.jsx("button",{onClick:_,disabled:C,style:{...k.button,backgroundColor:C?"#d1d5db":"#10b981",opacity:C?.6:1},children:C?"◐ 測試中...":"♪ 試聽"})]})]}),o.jsxs("div",{style:{padding:"15px",backgroundColor:"#f9fafb",borderRadius:"6px",marginBottom:"20px"},children:[o.jsx("h4",{style:{fontSize:"16px",fontWeight:"bold",marginBottom:"10px"},children:"♪ 語音選擇"}),o.jsx("select",{value:((T=ce()[u])==null?void 0:T.voice)||R.azureTTS.defaultVoice,onChange:w=>{const A=ce();A[u]={...A[u],voice:w.target.value};const b=e.map(Z=>Z.id===(n==null?void 0:n.id)?{...Z,customFields:A}:Z);t(b),r({...n,customFields:A})},style:k.input,children:Object.entries(wo).map(([w,A])=>o.jsx("optgroup",{label:w,children:A.map(b=>o.jsx("option",{value:b.value,children:b.label},b.value))},w))})]}),o.jsxs("div",{style:{display:"grid",gap:"20px"},children:[o.jsxs("div",{children:[o.jsx("label",{style:{fontSize:"14px",fontWeight:"bold",marginBottom:"5px",display:"block"},children:"⚡ 語音速度"}),o.jsxs("div",{style:{display:"flex",gap:"10px",alignItems:"center"},children:[o.jsx("select",{value:S.rate,onChange:w=>{const A={...S,rate:w.target.value};P(A),setTimeout(()=>{(async()=>{try{const b=ce()[u];if(R.azureTTS.enabled&&R.azureTTS.subscriptionKey&&(b!=null&&b.voice))await gt("速度測試",b.voice,R.azureTTS,A);else{const Y=((b==null?void 0:b.voice)||R.azureTTS.defaultVoice).includes("en-US")?"en-US":"ja-JP";await Ft("速度測試",Y,A)}}catch(b){console.error("自動試聽失敗:",b)}})()},100)},style:{...k.input,flex:1},children:ko.rate.map(w=>o.jsx("option",{value:w.value,children:w.label},w.value))}),o.jsx("button",{onClick:()=>{const w=ce()[u];if(R.azureTTS.enabled&&R.azureTTS.subscriptionKey&&(w!=null&&w.voice))gt("速度測試範例",w.voice,R.azureTTS,S).catch(console.error);else{const b=((w==null?void 0:w.voice)||R.azureTTS.defaultVoice).includes("en-US")?"en-US":"ja-JP";Ft("速度測試範例",b,S).catch(console.error)}},style:{...k.button,padding:"4px 8px",fontSize:"12px",backgroundColor:"#10b981"},title:"試聽此設定",children:"♪"})]})]}),o.jsxs("div",{children:[o.jsx("label",{style:{fontSize:"14px",fontWeight:"bold",marginBottom:"5px",display:"block"},children:"◐ 音調高低"}),o.jsxs("div",{style:{display:"flex",gap:"10px",alignItems:"center"},children:[o.jsx("select",{value:S.pitch,onChange:w=>{const A={...S,pitch:w.target.value};P(A),setTimeout(()=>{(async()=>{try{const b=ce()[u];if(R.azureTTS.enabled&&R.azureTTS.subscriptionKey&&(b!=null&&b.voice))await gt("音調測試",b.voice,R.azureTTS,A);else{const Y=((b==null?void 0:b.voice)||R.azureTTS.defaultVoice).includes("en-US")?"en-US":"ja-JP";await Ft("音調測試",Y,A)}}catch(b){console.error("自動試聽失敗:",b)}})()},100)},style:{...k.input,flex:1},children:ko.pitch.map(w=>o.jsx("option",{value:w.value,children:w.label},w.value))}),o.jsx("button",{onClick:()=>{const w=ce()[u];if(R.azureTTS.enabled&&R.azureTTS.subscriptionKey&&(w!=null&&w.voice))gt("音調測試範例",w.voice,R.azureTTS,S).catch(console.error);else{const b=((w==null?void 0:w.voice)||R.azureTTS.defaultVoice).includes("en-US")?"en-US":"ja-JP";Ft("音調測試範例",b,S).catch(console.error)}},style:{...k.button,padding:"4px 8px",fontSize:"12px",backgroundColor:"#10b981"},title:"試聽此設定",children:"♪"})]})]}),o.jsxs("div",{children:[o.jsx("label",{style:{fontSize:"14px",fontWeight:"bold",marginBottom:"5px",display:"block"},children:"◯ 情感風格"}),o.jsxs("div",{style:{display:"flex",gap:"10px",alignItems:"center"},children:[o.jsx("select",{value:S.style,onChange:w=>{const A={...S,style:w.target.value};P(A),setTimeout(()=>{(async()=>{try{const b=ce()[u];if(R.azureTTS.enabled&&R.azureTTS.subscriptionKey&&(b!=null&&b.voice))await gt("こんにちは",b.voice,R.azureTTS,A);else{const Y=((b==null?void 0:b.voice)||R.azureTTS.defaultVoice).includes("en-US")?"en-US":"ja-JP";await Ft("こんにちは",Y,A)}}catch(b){console.error("自動試聽失敗:",b)}})()},100)},style:{...k.input,flex:1},children:ko.style.map(w=>o.jsx("option",{value:w.value,children:w.label},w.value))}),o.jsx("button",{onClick:()=>{const w=ce()[u];if(R.azureTTS.enabled&&R.azureTTS.subscriptionKey&&(w!=null&&w.voice))gt("情感風格測試",w.voice,R.azureTTS,S).catch(console.error);else{const b=((w==null?void 0:w.voice)||R.azureTTS.defaultVoice).includes("en-US")?"en-US":"ja-JP";Ft("情感風格測試",b,S).catch(console.error)}},style:{...k.button,padding:"4px 8px",fontSize:"12px",backgroundColor:"#10b981"},title:"試聽此設定",children:"♪"})]})]}),o.jsxs("div",{children:[o.jsxs("label",{style:{fontSize:"14px",fontWeight:"bold",marginBottom:"5px",display:"block"},children:["◑ 音量 (",Math.round(S.volume*100),"%)"]}),o.jsxs("div",{style:{display:"flex",gap:"10px",alignItems:"center"},children:[o.jsx("input",{type:"range",min:"0.3",max:"1.0",step:"0.1",value:S.volume,onChange:w=>{const A={...S,volume:parseFloat(w.target.value)};P(A),setTimeout(()=>{(async()=>{try{const b=ce()[u];if(R.azureTTS.enabled&&R.azureTTS.subscriptionKey&&(b!=null&&b.voice))await gt("音量測試",b.voice,R.azureTTS,A);else{const Y=((b==null?void 0:b.voice)||R.azureTTS.defaultVoice).includes("en-US")?"en-US":"ja-JP";await Ft("音量測試",Y,A)}}catch(b){console.error("自動試聽失敗:",b)}})()},150)},style:{flex:1}}),o.jsxs("span",{style:{fontSize:"12px",color:"#6b7280",minWidth:"40px"},children:[Math.round(S.volume*100),"%"]}),o.jsx("button",{onClick:()=>{const w=ce()[u];if(R.azureTTS.enabled&&R.azureTTS.subscriptionKey&&(w!=null&&w.voice))gt("音量測試範例",w.voice,R.azureTTS,S).catch(console.error);else{const b=((w==null?void 0:w.voice)||R.azureTTS.defaultVoice).includes("en-US")?"en-US":"ja-JP";Ft("音量測試範例",b,S).catch(console.error)}},style:{...k.button,padding:"4px 8px",fontSize:"12px",backgroundColor:"#10b981"},title:"試聽此音量",children:"♪"})]})]})]}),o.jsx("div",{style:{marginTop:"20px",padding:"15px",backgroundColor:"#dbeafe",borderRadius:"6px"},children:o.jsxs("p",{style:{fontSize:"14px",color:"#1e40af",margin:0},children:[o.jsx("strong",{children:"ⓘ 使用提示："}),o.jsx("br",{}),"• ◐ 調整設定時會自動試聽新效果",o.jsx("br",{}),"• ♪ 每個選項旁都有試聽按鈕可手動測試",o.jsx("br",{}),"• ◉ 上方測試區域可自定義試聽文字",o.jsx("br",{}),"• ▦ 設定會套用到該欄位的所有語音播放",o.jsx("br",{}),"• ▣ 音檔快取會根據風格設定分別儲存"]})})]})]})})},Js=()=>{const[u,f]=I.useState(""),[p,g]=I.useState(""),[S,P]=I.useState(!1),[F,q]=I.useState("append"),C=T=>{const w=T.split(`
`).filter(Y=>Y.trim());if(w.length<2)throw new Error("CSV 數據至少需要標題行和一行數據");const A=Y=>{const X=[];let le="",U=!1;for(let L=0;L<Y.length;L++){const K=Y[L];K==='"'?U=!U:K===","&&!U?(X.push(le.trim().replace(/^"(.*)"$/,"$1")),le=""):le+=K}return X.push(le.trim().replace(/^"(.*)"$/,"$1")),X},b=A(w[0]),Z=[];for(let Y=1;Y<w.length;Y++){const X=A(w[Y]),le={};b.forEach((U,L)=>{le[U]=X[L]||""}),Object.values(le).some(U=>U.trim())&&Z.push(le)}return{headers:b,rows:Z}},N=(T,w)=>{const A={};T.forEach((X,le)=>{const U=X.toLowerCase().replace(/\s+/g,"_").replace(/[^\w]/g,"").replace(/^(\d)/,"field_$1")||`field_${le}`;A[U]={label:X,type:X.includes("漢字")||X.includes("kanji")||X.includes("例文")||X.includes("example")?"kanji":"text",order:le+1}});const b=w.map((X,le)=>{const U={};return T.forEach((L,K)=>{const me=L.toLowerCase().replace(/\s+/g,"_").replace(/[^\w]/g,"").replace(/^(\d)/,"field_$1")||`field_${K}`;U[me]=X[L]||""}),{id:Date.now()+le+Math.random(),fields:U,pages:[{id:"page1",name:"基本",displayFields:Object.keys(A).slice(0,2),script:[{type:"speak",field:Object.keys(A)[0],repeat:2,rate:.8},{type:"pause",duration:1e3},{type:"speak",field:Object.keys(A)[1],repeat:1,rate:1}]}]}}),Z=e.map(X=>{if(X.id===n.id){if(F==="replace")return{...X,cards:b,customFields:A};{const le={...X.customFields};return Object.entries(A).forEach(([U,L])=>{if(!le[U]){const K=Math.max(...Object.values(le).map(me=>me.order||0));le[U]={...L,order:K+1}}}),{...X,cards:[...X.cards,...b],customFields:le}}}return X});t(Z);const Y=Z.find(X=>X.id===n.id);r(Y),alert(`成功匯入 ${b.length} 張卡片！${F==="replace"?"（已替換原有資料）":"（已添加到現有資料）"}`),h(!1),f(""),g("")},_=async()=>{if(!u.trim()){alert("請輸入 Google 試算表 URL");return}P(!0);try{let T=u.trim();if(T.includes("/edit"))T=T.replace("/edit#gid=","/export?format=csv&gid="),T=T.replace("/edit","/export?format=csv");else if(T.includes("/d/")&&!T.includes("/export")){const Y=T.match(/\/d\/([a-zA-Z0-9-_]+)/);Y&&(T=`https://docs.google.com/spreadsheets/d/${Y[1]}/export?format=csv`)}const w=await fetch(T);if(!w.ok)throw new Error(`無法獲取試算表數據 (${w.status})。請確認 URL 正確且試算表已設為公開檢視`);const A=await w.text();if(!A||A.trim()==="")throw new Error("試算表內容為空");const{headers:b,rows:Z}=C(A);if(Z.length===0)throw new Error("試算表中沒有有效的數據行");N(b,Z)}catch(T){alert("匯入失敗："+T.message)}finally{P(!1)}},W=()=>{if(!p.trim()){alert("請貼上 CSV 數據");return}try{const{headers:T,rows:w}=C(p);N(T,w)}catch(T){alert("匯入失敗："+T.message)}};return o.jsx("div",{style:k.modal,children:o.jsxs("div",{style:k.modalContent,children:[o.jsxs("div",{style:k.flexBetween,children:[o.jsx("h3",{style:{fontSize:"18px",fontWeight:"bold"},children:"匯入數據"}),o.jsx("button",{onClick:()=>h(!1),style:k.buttonGray,children:"關閉"})]}),o.jsxs("div",{style:{margin:"20px 0",padding:"15px",backgroundColor:"#f3f4f6",borderRadius:"6px"},children:[o.jsx("h4",{style:{fontSize:"16px",fontWeight:"bold",marginBottom:"10px"},children:"匯入模式"}),o.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[o.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[o.jsx("input",{type:"radio",name:"importMode",value:"append",checked:F==="append",onChange:T=>q(T.target.value)}),o.jsx("span",{children:"附加模式 - 將新數據添加到現有卡片後面"})]}),o.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[o.jsx("input",{type:"radio",name:"importMode",value:"replace",checked:F==="replace",onChange:T=>q(T.target.value)}),o.jsx("span",{style:{color:"#dc2626"},children:"替換模式 - 完全替換現有的所有卡片"})]})]})]}),o.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"20px"},children:[o.jsxs("div",{style:{padding:"15px",border:"1px solid #d1d5db",borderRadius:"6px"},children:[o.jsx("h4",{style:{fontSize:"16px",fontWeight:"bold",marginBottom:"10px"},children:"從 Google 試算表匯入"}),o.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:[o.jsx("input",{type:"text",placeholder:"貼上 Google 試算表 URL",value:u,onChange:T=>f(T.target.value),style:k.input}),o.jsx("button",{onClick:_,disabled:S,style:{...k.buttonGreen,backgroundColor:S?"#9ca3af":"#16a34a"},children:S?"匯入中...":"從 Google 試算表匯入"})]}),o.jsx("div",{style:{marginTop:"10px",padding:"10px",backgroundColor:"#dbeafe",borderRadius:"6px"},children:o.jsxs("p",{style:{fontSize:"14px",color:"#1e40af",margin:0},children:[o.jsx("strong",{children:"設定步驟："}),o.jsx("br",{}),"1. 開啟 Google 試算表 → 2. 點擊「共用」→ 3. 設為「知道連結的使用者」可檢視 → 4. 複製連結"]})})]}),o.jsxs("div",{style:{padding:"15px",border:"1px solid #d1d5db",borderRadius:"6px"},children:[o.jsx("h4",{style:{fontSize:"16px",fontWeight:"bold",marginBottom:"10px"},children:"從 CSV 文字匯入"}),o.jsx("textarea",{placeholder:`貼上 CSV 數據，例如：
漢字,ひらがな,意味
学校[がっこう],がっこう,學校`,value:p,onChange:T=>g(T.target.value),style:{...k.input,minHeight:"100px",resize:"vertical"}}),o.jsx("button",{onClick:W,style:{...k.button,marginTop:"10px"},children:"從 CSV 文字匯入"})]})]})]})})},Ed=()=>{const[u,f]=I.useState([]),p=ce();I.useEffect(()=>{n&&f(n.cards.map(C=>({id:C.id,...C.fields})))},[n]);const g=(C,N,_)=>{const W=[...u];W[C][N]=_,f(W)},S=()=>{const C={id:Date.now()};Object.keys(p).forEach(N=>{C[N]=""}),f([...u,C])},P=C=>{f(u.filter((N,_)=>_!==C))},F=()=>{const C=u.map(N=>{const{id:_,...W}=N;return{id:_||Date.now()+Math.random(),fields:W,pages:ge()}});t(e.map(N=>N.id===n.id?{...N,cards:C}:N)),r({...n,cards:C}),D(!1),alert("試算表已保存！")},q=()=>{const C=ce(),_=[Object.entries(C).sort(([,w],[,A])=>(w.order||0)-(A.order||0)).map(([,w])=>w.label).join(","),...u.map(w=>Object.entries(C).sort(([,A],[,b])=>(A.order||0)-(b.order||0)).map(([A])=>{const b=w[A]||"";return b.includes(",")||b.includes('"')||b.includes(`
`)?`"${b.replace(/"/g,'""')}"`:b}).join(","))].join(`
`),W=new Blob([_],{type:"text/csv;charset=utf-8;"}),T=document.createElement("a");if(T.download!==void 0){const w=URL.createObjectURL(W);T.setAttribute("href",w),T.setAttribute("download",`${n.name}_單字資料.csv`),T.style.visibility="hidden",document.body.appendChild(T),T.click(),document.body.removeChild(T)}};return o.jsxs("div",{style:k.modal,children:[o.jsxs("div",{style:k.modalContent,children:[o.jsxs("div",{style:k.flexBetween,children:[o.jsx("h3",{style:{fontSize:"18px",fontWeight:"bold"},children:"試算表編輯器"}),o.jsxs("div",{style:{display:"flex",gap:"10px",flexWrap:"wrap"},children:[o.jsx("button",{style:{...k.button,backgroundColor:"#7c3aed"},onClick:()=>M(!0),title:"自定義欄位",children:"✎ 欄位編輯"}),o.jsx("button",{style:{...k.button,backgroundColor:"#f59e0b"},onClick:()=>h(!0),title:"匯入資料",children:"↓ 匯入"}),o.jsx("button",{style:{...k.button,backgroundColor:"#10b981"},onClick:q,title:"匯出CSV檔案",children:"↑ 匯出"}),o.jsx("button",{style:k.buttonGreen,onClick:S,children:"+ 新增行"}),o.jsx("button",{style:k.button,onClick:F,children:"✓ 保存"}),o.jsx("button",{style:k.buttonGray,onClick:()=>D(!1),children:"× 關閉"})]})]}),o.jsx("div",{style:{marginTop:"20px",overflow:"auto",maxHeight:"400px"},children:o.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",border:"1px solid #d1d5db"},children:[o.jsx("thead",{children:o.jsxs("tr",{style:{backgroundColor:"#f3f4f6"},children:[o.jsx("th",{style:{border:"1px solid #d1d5db",padding:"8px",fontSize:"12px"},children:"操作"}),Object.entries(p).sort(([,C],[,N])=>(C.order||0)-(N.order||0)).map(([C,N])=>o.jsx("th",{style:{border:"1px solid #d1d5db",padding:"8px",fontSize:"12px",minWidth:"120px"},children:N.label},C))]})}),o.jsx("tbody",{children:u.map((C,N)=>o.jsxs("tr",{children:[o.jsx("td",{style:{border:"1px solid #d1d5db",padding:"4px",textAlign:"center"},children:o.jsx("button",{style:{...k.buttonRed,padding:"4px 8px",fontSize:"12px"},onClick:()=>P(N),children:"刪除"})}),Object.entries(p).sort(([,_],[,W])=>(_.order||0)-(W.order||0)).map(([_,W])=>o.jsx("td",{style:{border:"1px solid #d1d5db",padding:"4px"},children:o.jsx("textarea",{value:C[_]||"",onChange:T=>g(N,_,T.target.value),style:{width:"100%",minWidth:"100px",fontSize:"12px",border:"none",resize:"none",outline:"none"},rows:"2",placeholder:`輸入${W.label}`})},_))]},C.id||N))})]})}),o.jsx("div",{style:{marginTop:"20px",padding:"15px",backgroundColor:"#f0f9ff",borderRadius:"6px"},children:o.jsxs("p",{style:{fontSize:"14px",color:"#0369a1",margin:0},children:[o.jsx("strong",{children:"ⓘ 使用提示："}),o.jsx("br",{}),"• ✎ ",o.jsx("strong",{children:"欄位編輯"}),"：新增、刪除、修改欄位定義",o.jsx("br",{}),"• ↓ ",o.jsx("strong",{children:"匯入"}),"：從Google試算表或CSV文字匯入資料",o.jsx("br",{}),"• ↑ ",o.jsx("strong",{children:"匯出"}),"：將目前資料匯出為CSV檔案",o.jsx("br",{}),"• + ",o.jsx("strong",{children:"新增行"}),"：添加新的單字卡片",o.jsx("br",{}),"• ✓ ",o.jsx("strong",{children:"保存"}),"：儲存所有編輯內容"]})})]}),O&&o.jsx(Hs,{}),fe&&o.jsx(Js,{}),(console.log("VoiceStyleEditor 狀態檢查:",z,V),z&&o.jsx(Qs,{fieldKey:V,voiceStyle:Ms,onSave:C=>{var N;if(V&&ce()[V]){const _=((N=e.find(T=>T.id===n.id))==null?void 0:N.customFields)||Dt;_[V]={..._[V],voiceStyle:C};const W=e.map(T=>T.id===n.id?{...T,customFields:_}:T);t(W),r({...n,customFields:_})}$(!1),J(null),ur(null)},onCancel:()=>{$(!1),J(null),ur(null)}}))]})},Pd=()=>{const[u,f]=I.useState({...Ve}),p=(P,F,q)=>{f(C=>({...C,[P]:{...C[P],[F]:q}}))},g=(P,F)=>{const q=u[P],C=q.fields.includes(F)?q.fields.filter(N=>N!==F):[...q.fields,F];p(P,"fields",C)},S=()=>{cr(u),Vs(!1)};return o.jsx("div",{style:k.modal,children:o.jsxs("div",{style:k.modalContent,children:[o.jsxs("div",{style:k.flexBetween,children:[o.jsx("h3",{style:{fontSize:"18px",fontWeight:"bold"},children:"顯示模板編輯器"}),o.jsxs("div",{style:{display:"flex",gap:"10px"},children:[o.jsx("button",{style:k.button,onClick:S,children:"💾 儲存"}),o.jsx("button",{style:k.buttonGray,onClick:()=>Vs(!1),children:"❌ 取消"})]})]}),o.jsx("div",{style:{marginTop:"20px"},children:Object.entries(u).map(([P,F])=>o.jsxs("div",{style:{marginBottom:"20px",padding:"15px",backgroundColor:"#f8f9fa",borderRadius:"8px",border:"1px solid #e9ecef"},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"15px",marginBottom:"15px"},children:[o.jsxs("h4",{style:{fontSize:"16px",fontWeight:"bold",minWidth:"60px"},children:["模板",P]}),o.jsx("input",{type:"text",value:F.name,onChange:q=>p(P,"name",q.target.value),style:{flex:1,padding:"8px 12px",border:"1px solid #d1d5db",borderRadius:"4px",fontSize:"14px"},placeholder:"模板名稱"})]}),o.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(120px, 1fr))",gap:"8px"},children:Object.entries(ce()).map(([q,C])=>o.jsx("button",{onClick:()=>g(P,q),style:{padding:"8px 12px",fontSize:"12px",borderRadius:"4px",border:"1px solid #d1d5db",backgroundColor:F.fields.includes(q)?"#10b981":"white",color:F.fields.includes(q)?"white":"#374151",cursor:"pointer"},children:C.label},q))}),o.jsxs("div",{style:{marginTop:"10px",fontSize:"12px",color:"#6b7280"},children:["已選擇 ",F.fields.length," 個欄位：",F.fields.map(q=>{var C;return(C=ce()[q])==null?void 0:C.label}).join("、")]})]},P))})]})})},Nd=()=>{if(!l)return null;const u=ce(),f=Ve[_t]||Ve.A;return o.jsxs("div",{style:{minHeight:"100vh",backgroundColor:"#1f2937",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"20px"},children:[o.jsxs("div",{style:{position:"absolute",top:"20px",left:"20px",color:"white",fontSize:"14px",backgroundColor:"rgba(0,0,0,0.5)",padding:"8px 12px",borderRadius:"6px"},children:[oe+1,"/",n.cards.length," - 步驟 ",Ee+1,o.jsx("br",{}),B==="loop"?"🔄 循環播放":"📋 順序播放"]}),o.jsx("button",{onClick:Gs,style:{position:"absolute",top:"20px",right:"20px",backgroundColor:"#dc2626",color:"white",border:"none",padding:"12px 20px",borderRadius:"8px",fontSize:"16px",cursor:"pointer"},children:"⏹ 停止播放"}),o.jsxs("div",{style:{backgroundColor:"white",borderRadius:"16px",padding:"40px",maxWidth:"800px",width:"90%",textAlign:"center",boxShadow:"0 10px 25px rgba(0,0,0,0.2)"},children:[o.jsx("div",{style:{fontSize:"18px",color:"#6b7280",marginBottom:"10px"},children:f.name}),f.fields.map((p,g)=>{const S=u[p],P=l.fields[p];return P?o.jsx("div",{style:{marginBottom:g<f.fields.length-1?"20px":"0"},children:(S==null?void 0:S.type)==="kanji"?o.jsx("div",{style:{fontSize:"28px",lineHeight:"1.4",color:"#1f2937"},children:o.jsx(bo,{text:P,showFurigana:f.showFurigana})}):o.jsx("div",{style:{fontSize:"24px",lineHeight:"1.4",color:"#374151"},children:P})},p):null})]})]})},_d=()=>{var Zs,qs,ea,ta,na;const u=(n==null?void 0:n.cards)||[],[f,p]=I.useState(0),[g,S]=I.useState(0),[P,F]=I.useState(0);I.useState([]),I.useState(!1);const[q,C]=I.useState(!1),[N,_]=I.useState([]),[W,T]=I.useState(!1),[w,A]=I.useState(null),[b,Z]=I.useState(null),Y=u[f],X=ce(),le=()=>{var H;(H=Y==null?void 0:Y.pages)!=null&&H[P]&&(_([...Y.pages[P].script]),C(!0))},U=H=>{const te={type:"speak",field:H,repeat:1,rate:1};_([...N,te])},L=(H=1e3,te="fixed")=>{const je={type:"pause",duration:H,intervalType:te,multiplier:te==="multiplier"?1:void 0};_([...N,je])},K=H=>{const te=N.filter((je,ae)=>ae!==H);_(te)},me=(H,te)=>{const je=N.map((ae,Ue)=>Ue===H?te:ae);_(je)},ze=(H,te)=>{Z(te),H.dataTransfer.effectAllowed="move"},xt=H=>{H.preventDefault(),H.dataTransfer.dropEffect="move"},At=()=>{Z(null)},Qt=(H,te)=>{if(H.preventDefault(),b===null||b===te)return;const je=[...N],ae=je[b];je.splice(b,1);const Ue=b<te?te-1:te;je.splice(Ue,0,ae),_(je),Z(null)},mt=()=>{const H=e.map(je=>je.id===n.id?{...je,cards:je.cards.map(ae=>ae.id===Y.id?{...ae,pages:ae.pages.map((Ue,rl)=>rl===P?{...Ue,script:N}:Ue)}:ae)}:je);t(H);const te=H.find(je=>je.id===n.id);r(te),C(!1),_([]),T(!1),A(null)};if(!Y)return null;Y.pages[g],Y.pages[P];const xn=()=>{f<u.length-1&&(p(f+1),S(0))},Dn=()=>{f>0&&(p(f-1),S(0))};return o.jsxs("div",{style:{padding:"20px",maxWidth:"800px",margin:"0 auto"},children:[o.jsxs("div",{style:k.flexBetween,children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[o.jsx("button",{style:k.buttonGray,onClick:()=>a("folder"),children:"← 返回"}),o.jsxs("h1",{style:{fontSize:"24px",fontWeight:"bold"},children:["學習模式 - ",n.name]})]}),o.jsxs("div",{style:{fontSize:"14px",color:"#6b7280"},children:["卡片 ",f+1,"/",u.length]})]}),o.jsxs("div",{style:{...k.card,textAlign:"center",minHeight:"300px",marginTop:"20px"},children:[o.jsxs("div",{style:{marginBottom:"20px",padding:"15px",backgroundColor:"#f8fafc",borderRadius:"6px"},children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"15px"},children:[o.jsx("h3",{style:{fontSize:"14px",fontWeight:"bold",color:"#374151"},children:"📋 卡片顯示模板"}),o.jsx("button",{onClick:()=>{de(!0),Oe("pages")},style:{padding:"6px 12px",fontSize:"12px",borderRadius:"4px",border:"1px solid #d1d5db",backgroundColor:"#6366f1",color:"white",cursor:"pointer"},children:"⚙️ 編輯模板"})]}),o.jsx("div",{style:{display:"flex",justifyContent:"center",gap:"8px",flexWrap:"wrap"},children:Object.entries(Ve).map(([H,te])=>o.jsxs("button",{onClick:()=>el(H),style:{padding:"10px 14px",fontSize:"14px",borderRadius:"8px",border:"2px solid #d1d5db",backgroundColor:Fe===H?"#10b981":"white",color:Fe===H?"white":"#374151",cursor:"pointer",fontWeight:Fe===H?"bold":"normal",boxShadow:Fe===H?"0 4px 12px rgba(16, 185, 129, 0.3)":"0 2px 4px rgba(0, 0, 0, 0.1)",transform:Fe===H?"translateY(-1px)":"none",transition:"all 0.2s ease",width:"90px",height:"75px",minWidth:"90px",minHeight:"75px",maxWidth:"90px",maxHeight:"75px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[o.jsx("div",{style:{fontSize:"18px",fontWeight:"bold"},children:H}),o.jsx("div",{style:{fontSize:"10px",opacity:.8,marginTop:"2px",textAlign:"center",lineHeight:"1.2"},children:te.name})]},H))}),o.jsxs("div",{style:{marginTop:"10px",fontSize:"12px",color:"#6b7280",textAlign:"center"},children:["當前模板：",(Zs=Ve[Fe])==null?void 0:Zs.name,"(",(qs=Ve[Fe])==null?void 0:qs.fields.length," 個欄位)",(ea=Ve[Fe])!=null&&ea.showFurigana?" | 顯示注音":" | 隱藏注音"]})]}),o.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"30px"},children:(()=>{var te;return(((te=Ve[Fe])==null?void 0:te.fields)||[]).map(je=>{var rl;const ae=X[je],Ue=Y.fields[je];return!Ue||!ae?null:o.jsx("div",{style:{textAlign:"center"},children:ae.type==="kanji"?o.jsx("div",{style:{fontSize:"32px",fontWeight:"bold",color:"#374151"},children:o.jsx(bo,{text:Ue,showFurigana:((rl=Ve[Fe])==null?void 0:rl.showFurigana)||!1})}):o.jsx("p",{style:{fontSize:"24px",color:"#374151"},children:Ue})},je)})})()})]}),o.jsxs("div",{style:k.card,children:[o.jsxs("div",{style:{marginBottom:"20px",padding:"15px",backgroundColor:"#fef7f0",borderRadius:"6px"},children:[o.jsx("h3",{style:{fontSize:"14px",fontWeight:"bold",marginBottom:"15px",color:"#374151"},children:"🎵 腳本播放控制"}),o.jsx("div",{style:{display:"flex",justifyContent:"center",gap:"5px",flexWrap:"wrap",marginBottom:"15px"},children:Y.pages.map((H,te)=>o.jsx("button",{onClick:()=>F(te),style:{padding:"6px 12px",fontSize:"12px",borderRadius:"4px",border:"1px solid #d1d5db",backgroundColor:te===P?"#dc2626":"white",color:te===P?"white":"#374151",cursor:"pointer"},children:H.name},H.id))}),o.jsxs("p",{style:{fontSize:"12px",color:"#6b7280",textAlign:"center",marginBottom:"15px"},children:["當前播放腳本：",(ta=Y.pages[P])==null?void 0:ta.name]})]}),o.jsxs("div",{style:k.flexCenter,children:[o.jsxs("button",{onClick:()=>nl(Y,P),disabled:v,style:{...k.button,backgroundColor:v?"#9ca3af":"#2563eb",padding:"12px 24px",fontSize:"16px"},children:["♪ ",v?"播放中...":"播放"]}),o.jsx("button",{onClick:Us,disabled:!v,style:{...k.buttonRed,backgroundColor:v?"#dc2626":"#9ca3af",padding:"12px 24px",fontSize:"16px"},children:"⏹️ 停止"}),o.jsx("button",{onClick:le,disabled:v||q,style:{...k.button,backgroundColor:q?"#9ca3af":"#6b7280",padding:"12px 24px",fontSize:"16px"},children:"📝 編輯腳本"}),o.jsxs("button",{onClick:()=>tl({...R,showFurigana:!R.showFurigana}),style:{...k.buttonGreen,backgroundColor:R.showFurigana?"#16a34a":"#6b7280",padding:"12px 24px",fontSize:"16px"},children:[R.showFurigana?"👁️":"🙈"," 注音"]})]}),o.jsxs("div",{style:{...k.flexBetween,marginTop:"20px"},children:[o.jsx("button",{onClick:Dn,disabled:f===0,style:{...k.buttonGray,backgroundColor:f===0?"#d1d5db":"#6b7280",padding:"10px 20px"},children:"上一張卡片"}),o.jsx("button",{onClick:xn,disabled:f>=u.length-1,style:{...k.buttonGray,backgroundColor:f>=u.length-1?"#d1d5db":"#6b7280",padding:"10px 20px"},children:"下一張卡片"})]})]}),q&&o.jsxs("div",{style:{...k.card,marginTop:"20px"},children:[o.jsxs("h3",{style:{fontSize:"18px",fontWeight:"bold",marginBottom:"20px"},children:["📝 播放腳本編輯 - ",(na=Y.pages[P])==null?void 0:na.name]}),o.jsxs("div",{style:{marginBottom:"20px",padding:"15px",backgroundColor:"#f3f4f6",borderRadius:"6px"},children:[o.jsx("h4",{style:{fontSize:"14px",fontWeight:"bold",marginBottom:"10px",color:"#6b7280"},children:"ℹ️ 當前腳本預覽 (點擊編輯，拖曳排序)"}),o.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:N.map((H,te)=>{var je;return o.jsxs("div",{draggable:!0,onDragStart:ae=>ze(ae,te),onDragOver:xt,onDragEnd:At,onDrop:ae=>Qt(ae,te),style:{display:"flex",alignItems:"center",gap:"10px",padding:"8px 12px",backgroundColor:b===te?"#f3f4f6":"white",borderRadius:"4px",border:b===te?"2px dashed #2563eb":"1px solid #e5e7eb",cursor:"grab",opacity:b===te?.5:1,transform:b===te?"rotate(2deg)":"none",transition:"all 0.2s ease"},children:[o.jsx("span",{style:{fontSize:"12px",color:"#9ca3af",minWidth:"15px"},children:"⋮⋮"}),o.jsxs("span",{style:{fontSize:"16px",minWidth:"20px"},children:[te+1,"."]}),w===te?o.jsxs("div",{style:{flex:1,display:"flex",alignItems:"center",gap:"10px"},children:[H.type==="speak"?o.jsxs(o.Fragment,{children:[o.jsx("select",{value:H.field,onChange:ae=>me(te,{...H,field:ae.target.value}),style:{padding:"4px 8px",border:"1px solid #d1d5db",borderRadius:"4px"},children:Object.entries(X).map(([ae,Ue])=>o.jsx("option",{value:ae,children:Ue.label},ae))}),o.jsx("input",{type:"number",value:H.repeat||1,onChange:ae=>me(te,{...H,repeat:parseInt(ae.target.value)}),style:{width:"60px",padding:"4px 8px",border:"1px solid #d1d5db",borderRadius:"4px"},min:"1",max:"5"}),o.jsx("span",{style:{fontSize:"12px"},children:"次"}),o.jsx("input",{type:"number",value:H.rate||1,onChange:ae=>me(te,{...H,rate:parseFloat(ae.target.value)}),style:{width:"60px",padding:"4px 8px",border:"1px solid #d1d5db",borderRadius:"4px"},step:"0.1",min:"0.5",max:"2.0"}),o.jsx("span",{style:{fontSize:"12px"},children:"x速"})]}):H.type==="pause"?o.jsxs(o.Fragment,{children:[o.jsx("span",{style:{fontSize:"14px"},children:"⏸️ 暫停"}),o.jsxs("select",{value:H.intervalType||"fixed",onChange:ae=>{const Ue=ae.target.value==="multiplier";me(te,{...H,intervalType:ae.target.value,multiplier:Ue?H.multiplier||1:void 0,duration:Ue?void 0:H.duration||1e3})},style:{padding:"4px 8px",border:"1px solid #d1d5db",borderRadius:"4px"},children:[o.jsx("option",{value:"fixed",children:"固定時間"}),o.jsx("option",{value:"multiplier",children:"音檔倍數"})]}),H.intervalType==="multiplier"?o.jsxs(o.Fragment,{children:[o.jsxs("select",{value:H.multiplier||1,onChange:ae=>me(te,{...H,multiplier:parseFloat(ae.target.value)}),style:{padding:"4px 8px",border:"1px solid #d1d5db",borderRadius:"4px"},children:[o.jsx("option",{value:"0.5",children:"0.5x"}),o.jsx("option",{value:"1.0",children:"1.0x"}),o.jsx("option",{value:"1.5",children:"1.5x"}),o.jsx("option",{value:"2.0",children:"2.0x"})]}),o.jsx("span",{style:{fontSize:"12px"},children:"前段音檔長度"})]}):o.jsxs(o.Fragment,{children:[o.jsx("input",{type:"number",value:H.duration||1e3,onChange:ae=>me(te,{...H,duration:parseInt(ae.target.value)}),style:{width:"80px",padding:"4px 8px",border:"1px solid #d1d5db",borderRadius:"4px"},min:"100",max:"5000",step:"100"}),o.jsx("span",{style:{fontSize:"12px"},children:"毫秒"})]})]}):null,o.jsx("button",{style:{...k.buttonGreen,padding:"4px 8px",fontSize:"12px"},onClick:()=>A(null),children:"✓"})]}):o.jsxs(o.Fragment,{children:[H.type==="speak"?o.jsxs("span",{style:{flex:1,cursor:"pointer",padding:"4px 8px",borderRadius:"4px"},onClick:()=>A(te),children:["🗣️ 播放「",((je=X[H.field])==null?void 0:je.label)||H.field,"」",H.repeat>1&&` × ${H.repeat}`,H.rate!==1&&` (${H.rate}x速度)`]}):H.type==="pause"?o.jsxs("span",{style:{flex:1,cursor:"pointer",padding:"4px 8px",borderRadius:"4px"},onClick:()=>A(te),children:["⏸️ 暫停 ",H.intervalType==="multiplier"?`${H.multiplier||1}x 前段音檔長度`:`${H.duration}ms`]}):o.jsxs("span",{style:{flex:1},children:["❓ 未知類型: ",H.type]}),o.jsx("button",{style:{...k.buttonRed,padding:"4px 8px",fontSize:"12px"},onClick:()=>K(te),children:"🗑️"})]})]},te)})})]}),o.jsxs("div",{style:{marginBottom:"20px",padding:"15px",backgroundColor:"#f3f4f6",borderRadius:"6px"},children:[o.jsx("h4",{style:{fontSize:"14px",fontWeight:"bold",marginBottom:"15px",color:"#6b7280"},children:"➕ 新增腳本步驟"}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"15px"},children:[o.jsxs("div",{children:[o.jsx("button",{style:{...k.button,padding:"15px",fontSize:"14px",width:"100%",marginBottom:"10px"},onClick:()=>T(!W),children:"🗣️ 新增語音播放"}),W&&o.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"5px",padding:"10px",backgroundColor:"white",borderRadius:"4px",border:"1px solid #e5e7eb"},children:Object.entries(X).map(([H,te])=>o.jsx("button",{style:{...k.buttonGray,padding:"8px 12px",fontSize:"12px",textAlign:"left"},onClick:()=>{U(H),T(!1)},children:te.label},H))})]}),o.jsxs("div",{children:[o.jsx("button",{style:{...k.button,padding:"15px",fontSize:"14px",backgroundColor:"#6b7280",width:"100%",marginBottom:"10px"},onClick:()=>L(),children:"⏸️ 新增固定暫停"}),o.jsx("button",{style:{...k.button,padding:"10px",fontSize:"12px",backgroundColor:"#059669",width:"100%"},onClick:()=>L(0,"multiplier"),children:"📐 新增倍數暫停"})]})]})]}),o.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:"10px"},children:[o.jsx("button",{style:{...k.button,backgroundColor:"#16a34a"},onClick:()=>mt(),children:"💾 儲存腳本"}),o.jsx("button",{style:k.buttonGray,onClick:()=>C(!1),children:"❌ 取消編輯"})]})]})]})},zo=I.useCallback(async(u,f)=>{switch(console.log("執行自動播放步驟:",f),f.type){case"display":Rn(f.templateId),console.log("切換到模板:",f.templateId);break;case"speak":const p=u.fields[f.field];if(console.log(`執行語音播放: 欄位=${f.field}, 內容="${p}", 重複=${f.repeat||1}次`),p&&p.trim())try{const g=pt[f.field]||pt.kanji;console.log("使用語音設定:",g);for(let S=0;S<(f.repeat||1);S++)console.log(`語音播放第 ${S+1} 次: "${p}"`),await gn(p,{voice:g.voice,rate:g.rate,pitch:g.pitch,style:g.style}),S<(f.repeat||1)-1&&await new Promise(P=>setTimeout(P,200));if(f.pauseMode==="sentence"&&f.sentenceMultiplier){const S=p.replace(/\[.*?\]/g,""),P=S.length,q=P*100*f.sentenceMultiplier;console.log(`句長暫停: ${S} (${P}字) × ${f.sentenceMultiplier} = ${q}ms`),await new Promise(C=>setTimeout(C,q))}else f.pauseAfter&&f.pauseAfter>0&&(console.log(`固定暫停: ${f.pauseAfter}ms`),await new Promise(S=>setTimeout(S,f.pauseAfter)))}catch(g){console.error(`語音播放錯誤 (欄位: ${f.field}):`,g)}else console.log(`跳過空白欄位: ${f.field}`);break;case"pause":await new Promise(g=>setTimeout(g,f.duration||1e3));break;default:console.warn("未知的自動播放步驟類型:",f.type)}},[gn,pt]),Ks=I.useCallback(async()=>{if(!(n!=null&&n.cards)||n.cards.length===0){alert("沒有卡片可以播放");return}hn(!0),he(0),Nt(0);const u=n.cards;let f=0;try{do{const p=u[f];i(p),a("autoplay"),he(f),console.log(`開始播放卡片 ${f+1}/${u.length}:`,p.fields.kanji||"未命名");let g=Fe;const S=P=>{g=P,el(P)};for(let P=0;P<ee.length&&ht;P++){Nt(P);const F=ee[P];await zo(p,F)}if(f++,f>=u.length)if(B==="loop")f=0;else break}while(ht&&(B==="loop"||f<u.length));console.log("自動播放完成")}catch(p){console.error("自動播放錯誤:",p),alert("自動播放發生錯誤: "+p.message)}finally{hn(!1),he(0),Nt(0),a("folder")}},[n,ee,B,ht,zo,Fe]),Gs=I.useCallback(()=>{hn(!1),a("folder"),window.speechSynthesis&&window.speechSynthesis.cancel()},[]),Rd=I.useCallback(async()=>{const u=(n==null?void 0:n.cards)||[];if(u.length===0){alert("沒有卡片可以播放");return}console.log("開始隨機播放，卡片數量:",u.length),j(!0);const f=[...u].sort(()=>Math.random()-.5);try{for(let p=0;p<f.length&&v;p++){const g=f[p];i(g),a("study");let S=0;g.pages&&g.pages.length>0&&(S=Math.floor(Math.random()*g.pages.length)),console.log(`隨機播放 ${p+1}/${f.length}: ${g.fields.kanji||g.fields.hiragana||"未命名"}`);try{await nl(g,S)}catch(P){console.error("執行腳本錯誤:",P);const F=g.fields.kanji||g.fields.hiragana||g.fields.meaning;F&&await gn(F)}v&&p<f.length-1&&await new Promise(P=>setTimeout(P,2e3))}console.log("隨機播放完成")}catch(p){console.error("隨機播放錯誤:",p),alert("隨機播放發生錯誤: "+p.message)}finally{j(!1),a("folder")}},[n,v,nl,gn]),Dd=()=>(ce(),o.jsxs("div",{style:{padding:"20px"},children:[o.jsxs("div",{style:k.flexBetween,children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[o.jsx("button",{style:k.buttonGray,onClick:()=>a("home"),children:"← 返回"}),o.jsx("span",{style:{fontSize:"32px"},children:n.icon}),o.jsx("h1",{style:{fontSize:"28px",fontWeight:"bold"},children:n.name})]}),o.jsxs("div",{style:{display:"flex",gap:"10px"},children:[o.jsx("button",{onClick:()=>D(!0),style:{...k.button,backgroundColor:"#7c3aed"},children:"▦ 試算表編輯"}),o.jsx("button",{onClick:()=>{n.cards.length>0&&(i(n.cards[0]),a("study"))},disabled:n.cards.length===0,style:{...k.button,backgroundColor:n.cards.length===0?"#d1d5db":"#2563eb"},children:"▶ 開始學習"}),o.jsx("button",{onClick:()=>{console.log("自動播放設定按鈕被點擊"),de(!0)},disabled:n.cards.length===0,style:{...k.button,backgroundColor:"#f59e0b"},children:"🎭 自動播放設定"}),o.jsx("button",{onClick:()=>{console.log("自動播放按鈕被點擊, isAutoPlaying:",ht),ht?(console.log("執行停止播放"),Gs()):(console.log("執行開始播放"),Ks())},disabled:n.cards.length===0,style:{...k.button,backgroundColor:ht?"#dc2626":"#10b981"},children:ht?`⏹ 停止播放 ${oe+1}/${n.cards.length}`:"🎭 自動播放"}),o.jsxs("button",{onClick:()=>{console.log("隨機播放按鈕被點擊, isPlaying:",v),Rd()},disabled:n.cards.length===0||v,style:{...k.button,backgroundColor:v?"#9ca3af":"#10b981"},children:["🎲 ",v?"播放中...":"隨機播放"]}),v&&o.jsx("button",{onClick:Us,style:{...k.buttonRed,padding:"10px 16px"},children:"⏹️ 停止"})]})]}),o.jsx("div",{style:k.grid,children:n.cards.map(u=>o.jsxs("div",{style:k.card,children:[o.jsxs("div",{style:{marginBottom:"15px"},children:[o.jsx("h3",{style:{fontSize:"18px",fontWeight:"bold",marginBottom:"5px"},children:o.jsx(bo,{text:u.fields.kanji||"未命名",showFurigana:R.showFurigana})}),o.jsx("p",{style:{color:"#6b7280"},children:u.fields.meaning}),o.jsx("p",{style:{fontSize:"12px",color:"#9ca3af"},children:u.fields.level})]}),o.jsxs("div",{style:{display:"flex",gap:"10px"},children:[o.jsx("button",{onClick:()=>{i(u),nl(u,0)},style:{...k.button,flex:1},children:"▶ 播放"}),o.jsx("button",{onClick:()=>{i(u),x(0),a("study")},style:{...k.buttonGray,flex:1},children:"◉ 學習"})]})]},u.id))}),n.cards.length===0&&o.jsxs("div",{style:{textAlign:"center",padding:"60px 20px"},children:[o.jsx("div",{style:{fontSize:"48px",marginBottom:"20px"},children:"○"}),o.jsx("p",{style:{color:"#6b7280",fontSize:"18px"},children:"這個資料夾還沒有任何卡片"}),o.jsx("p",{style:{color:"#9ca3af"},children:"點擊「試算表編輯」開始添加日文單字！"})]}),y&&o.jsx(Ed,{}),O&&o.jsx(Hs,{}),fe&&o.jsx(Js,{}),d&&o.jsx(Td,{}),zd&&o.jsx(Pd,{}),z&&o.jsx(Qs,{fieldKey:V,voiceStyle:Ms,onSave:u=>{var f;if(V&&ce()[V]){const p=((f=e.find(S=>S.id===n.id))==null?void 0:f.customFields)||Dt;p[V]={...p[V],voiceStyle:u};const g=e.map(S=>S.id===n.id?{...S,customFields:p}:S);t(g),r({...n,customFields:p})}$(!1),J(null),ur(null)},onCancel:()=>{$(!1),J(null),ur(null)}})]})),Fd=()=>{const[u,f]=I.useState(""),[p,g]=I.useState(!1),S=()=>{u.trim()&&(t([...e,{id:Date.now(),name:u,icon:"🇯🇵",cards:[],customFields:{...Dt}}]),g(!1),f(""))},P=C=>{confirm("確定要刪除這個資料夾嗎？")&&t(e.filter(N=>N.id!==C))},F=()=>{const C={version:"1.0",timestamp:new Date().toISOString(),folders:e,settings:R,fieldVoiceSettings:pt,autoPlayScript:ee,autoPlayMode:B,displayTemplates:Ve},N=JSON.stringify(C,null,2),_=new Blob([N],{type:"application/json"}),W=URL.createObjectURL(_),T=document.createElement("a");T.href=W,T.download=`日語閃卡備份_${new Date().toISOString().slice(0,10)}.json`,T.click(),URL.revokeObjectURL(W),alert("✅ 備份文件已下載！請將此文件保存到雲端硬碟，以便在其他裝置恢復數據。")},q=C=>{const N=C.target.files[0];if(N){if(confirm("⚠️ 恢復數據將會覆蓋現有所有資料，確定要繼續嗎？")){const _=new FileReader;_.onload=W=>{try{const T=JSON.parse(W.target.result);if(!T.version||!T.folders)throw new Error("無效的備份文件格式");T.folders&&t(T.folders),T.settings&&tl(T.settings),T.fieldVoiceSettings&&ft(T.fieldVoiceSettings),T.autoPlayScript&&se(T.autoPlayScript),T.autoPlayMode&&re(T.autoPlayMode),alert(`✅ 數據恢復成功！
備份時間：${new Date(T.timestamp).toLocaleString()}
資料夾數量：${T.folders.length}`)}catch(T){alert("❌ 恢復失败："+T.message)}},_.readAsText(N)}C.target.value=""}};return o.jsxs("div",{style:{padding:"32px 24px",maxWidth:"1200px",margin:"0 auto"},children:[o.jsxs("div",{style:{textAlign:"center",marginBottom:"40px"},children:[o.jsx("h1",{style:{...k.header,background:"linear-gradient(135deg, #4F46E5, #7C3AED, #EC4899)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text",marginBottom:"12px",fontSize:"32px",fontWeight:"700"},children:"🇯🇵 日本語学習カード"}),o.jsx("p",{style:{color:"#6B7280",fontSize:"16px",margin:"0 0 32px 0",fontWeight:"400"},children:"智能語音閃卡，讓日語學習更有效率"}),o.jsxs("div",{style:{display:"flex",gap:"12px",justifyContent:"center",flexWrap:"wrap"},children:[o.jsx("button",{onClick:()=>m(!0),style:{...k.button,backgroundColor:"#dc2626",position:"relative"},children:o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[o.jsx("span",{children:"⚙ 語音設定"}),o.jsx("span",{style:{fontSize:"10px",padding:"2px 6px",borderRadius:"10px",backgroundColor:"rgba(255,255,255,0.2)",color:"white"},children:R.azureTTS.enabled&&R.azureTTS.subscriptionKey?"Azure":"預設"})]})}),o.jsx("button",{onClick:()=>g(!0),style:k.button,children:"+ 新增資料夾"}),o.jsx("button",{onClick:F,style:{...k.button,backgroundColor:"#10B981"},children:"☁️ 雲端備份"}),o.jsx("button",{onClick:()=>document.getElementById("restoreInput").click(),style:{...k.button,backgroundColor:"#7C3AED"},children:"📱 恢復數據"}),o.jsx("input",{id:"restoreInput",type:"file",accept:".json",style:{display:"none"},onChange:q})]})]}),p&&o.jsx("div",{style:{...k.card,marginBottom:"20px"},children:o.jsxs("div",{style:{display:"flex",gap:"10px"},children:[o.jsx("input",{type:"text",placeholder:"資料夾名稱",value:u,onChange:C=>f(C.target.value),style:{...k.input,flex:1},onKeyPress:C=>C.key==="Enter"&&S()}),o.jsx("button",{onClick:S,style:k.buttonGreen,children:"創建"}),o.jsx("button",{onClick:()=>g(!1),style:k.buttonGray,children:"取消"})]})}),o.jsx("div",{style:k.grid,children:e.map(C=>o.jsxs("div",{style:{...k.card,cursor:"pointer",position:"relative",overflow:"hidden","&:hover":{transform:"translateY(-2px)",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.12)"}},onClick:()=>{r(C),a("folder")},children:[o.jsx("div",{style:{position:"absolute",top:0,right:0,width:"60px",height:"60px",background:"linear-gradient(135deg, #4F46E5, #7C3AED)",borderRadius:"0 16px 0 50px",opacity:.1}}),o.jsx("div",{style:{position:"relative",zIndex:1},children:o.jsxs("div",{style:k.flexBetween,children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"15px"},children:[o.jsx("div",{style:{fontSize:"32px",padding:"8px",borderRadius:"12px",background:"linear-gradient(135deg, #4F46E5, #7C3AED)",display:"flex",alignItems:"center",justifyContent:"center",minWidth:"48px",height:"48px"},children:o.jsx("span",{style:{filter:"grayscale(100%) brightness(0) invert(1)"},children:C.icon})}),o.jsxs("div",{children:[o.jsx("h3",{style:{fontSize:"18px",fontWeight:"600",margin:0,color:"#1a1a1a",letterSpacing:"-0.3px"},children:C.name}),o.jsxs("p",{style:{color:"#6b7280",margin:"4px 0 0 0",fontSize:"14px",fontWeight:"400"},children:[C.cards.length," 張卡片"]})]})]}),o.jsx("button",{onClick:N=>{N.stopPropagation(),P(C.id)},style:{...k.buttonRed,padding:"8px",borderRadius:"8px",fontSize:"16px",minWidth:"36px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center"},children:"🗑"})]})}),o.jsx("div",{style:{position:"absolute",bottom:"16px",right:"16px",color:"#9CA3AF",fontSize:"20px",transform:"rotate(-45deg)"},children:"↗"})]},C.id))}),e.length===0&&o.jsxs("div",{style:{textAlign:"center",padding:"80px 20px",background:"linear-gradient(135deg, #f8fafc, #f1f5f9)",borderRadius:"20px",border:"1px solid #e2e8f0"},children:[o.jsx("div",{style:{fontSize:"64px",marginBottom:"24px",background:"linear-gradient(135deg, #4F46E5, #7C3AED)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"},children:"🇯🇵"}),o.jsx("h3",{style:{fontSize:"24px",fontWeight:"600",color:"#1a1a1a",marginBottom:"12px",letterSpacing:"-0.5px"},children:"開始你的日語學習之旅"}),o.jsx("p",{style:{color:"#6B7280",fontSize:"16px",marginBottom:"32px",lineHeight:"1.6"},children:"創建你的第一個學習資料夾，享受智能語音閃卡帶來的高效學習體驗"})]})]})};return o.jsxs("div",{style:k.container,children:[s==="home"&&o.jsx(Fd,{}),s==="folder"&&n&&o.jsx(Dd,{}),s==="study"&&n&&o.jsx(_d,{}),s==="autoplay"&&n&&o.jsx(Nd,{}),G&&o.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.6)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4},onClick:u=>{u.target===u.currentTarget&&de(!1)},children:o.jsxs("div",{style:{backgroundColor:"white",borderRadius:"12px",padding:"24px",maxWidth:"1200px",width:"95%",height:"90vh",display:"flex",flexDirection:"column"},onClick:u=>u.stopPropagation(),children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[o.jsx("h3",{style:{fontSize:"18px",fontWeight:"bold",margin:0},children:"⚙️ 播放設定"}),o.jsxs("div",{style:{display:"flex",gap:"10px"},children:[o.jsx("button",{type:"button",onClick:()=>de(!1),style:{padding:"8px 16px",fontSize:"14px",borderRadius:"6px",border:"none",backgroundColor:"#2563eb",color:"white",cursor:"pointer"},children:"💾 儲存"}),o.jsx("button",{type:"button",onClick:()=>de(!1),style:{padding:"8px 16px",fontSize:"14px",borderRadius:"6px",border:"1px solid #d1d5db",backgroundColor:"#6b7280",color:"white",cursor:"pointer"},children:"❌ 取消"})]})]}),o.jsxs("div",{style:{display:"flex",borderBottom:"2px solid #e5e7eb",marginBottom:"20px"},children:[o.jsx("button",{onClick:()=>Oe("script"),style:{padding:"12px 24px",fontSize:"14px",fontWeight:"bold",border:"none",backgroundColor:"transparent",color:ne==="script"?"#3b82f6":"#6b7280",borderBottom:ne==="script"?"2px solid #3b82f6":"2px solid transparent",cursor:"pointer",transition:"all 0.2s"},children:"📜 腳本設定"}),o.jsx("button",{onClick:()=>Oe("pages"),style:{padding:"12px 24px",fontSize:"14px",fontWeight:"bold",border:"none",backgroundColor:"transparent",color:ne==="pages"?"#3b82f6":"#6b7280",borderBottom:ne==="pages"?"2px solid #3b82f6":"2px solid transparent",cursor:"pointer",transition:"all 0.2s"},children:"📱 頁面設定"}),o.jsx("button",{onClick:()=>Oe("voice"),style:{padding:"12px 24px",fontSize:"14px",fontWeight:"bold",border:"none",backgroundColor:"transparent",color:ne==="voice"?"#3b82f6":"#6b7280",borderBottom:ne==="voice"?"2px solid #3b82f6":"2px solid transparent",cursor:"pointer",transition:"all 0.2s"},children:"🎵 語音設定"})]}),o.jsxs("div",{style:{flex:1,overflow:"hidden",display:"flex",flexDirection:"column",minHeight:0},children:[ne==="script"&&o.jsxs("div",{style:{height:"100%",display:"flex",flexDirection:"column",overflow:"hidden",gap:"10px"},children:[o.jsxs("div",{style:{flexShrink:0,paddingBottom:"10px",maxHeight:"200px",overflowY:"auto"},children:[o.jsx("h4",{style:{fontSize:"16px",fontWeight:"bold",marginBottom:"8px",color:"#3b82f6"},children:"📜 腳本設定"}),o.jsx("p",{style:{fontSize:"14px",color:"#6b7280",marginBottom:"12px"},children:"設定自動播放的腳本順序：模板顯示 + 語音播放 + 暫停時間"}),o.jsxs("div",{style:{marginBottom:"18px",padding:"15px",backgroundColor:"#fef7f0",borderRadius:"8px"},children:[o.jsx("h5",{style:{fontSize:"14px",fontWeight:"bold",marginBottom:"12px",marginTop:"0"},children:"播放方式"}),o.jsxs("div",{style:{display:"flex",gap:"10px"},children:[o.jsx("button",{onClick:()=>re("sequential"),style:{padding:"8px 16px",fontSize:"14px",borderRadius:"6px",border:"1px solid #d1d5db",backgroundColor:B==="sequential"?"#2563eb":"white",color:B==="sequential"?"white":"#374151",cursor:"pointer"},children:"📋 順序播放"}),o.jsx("button",{onClick:()=>re("loop"),style:{padding:"8px 16px",fontSize:"14px",borderRadius:"6px",border:"1px solid #d1d5db",backgroundColor:B==="loop"?"#2563eb":"white",color:B==="loop"?"white":"#374151",cursor:"pointer"},children:"🔄 循環播放"})]})]}),o.jsx("h5",{style:{fontSize:"14px",fontWeight:"bold",marginBottom:"8px",marginTop:"5px"},children:"播放腳本"}),o.jsx("p",{style:{fontSize:"12px",color:"#6b7280",marginBottom:"12px"},children:"💡 可拖曳 ⋮⋮ 符號調整步驟順序"})]}),o.jsx("div",{style:{flex:1,overflowY:"auto",border:"1px solid #e5e7eb",borderRadius:"6px",padding:"15px",marginBottom:"10px",minHeight:0,maxHeight:"calc(100vh - 450px)"},children:ee.map((u,f)=>o.jsxs("div",{draggable:!0,onDragStart:p=>Ws(p,f),onDragOver:p=>{p.preventDefault(),p.currentTarget.style.backgroundColor="#f0f9ff"},onDragLeave:p=>{p.currentTarget.style.backgroundColor="transparent"},onDrop:p=>$s(p,f),style:{marginBottom:"15px",padding:"15px",backgroundColor:"white",borderRadius:"8px",border:"1px solid #d1d5db",cursor:"move",position:"relative",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:[o.jsx("div",{style:{position:"absolute",left:"8px",top:"50%",transform:"translateY(-50%)",color:"#9ca3af",fontSize:"16px",cursor:"grab"},children:"⋮⋮"}),o.jsxs("div",{style:{marginLeft:"30px"},children:[u.type==="display"&&o.jsx("div",{children:o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"12px"},children:[o.jsx("span",{style:{fontSize:"14px",fontWeight:"bold",color:"#1f2937"},children:"📱 顯示模板"}),o.jsxs("select",{value:u.templateId||"A",onChange:p=>{const g=[...ee];g[f]={...u,templateId:p.target.value},se(g)},style:{fontSize:"12px",padding:"4px 8px",borderRadius:"4px",border:"1px solid #d1d5db",backgroundColor:"#f8f9fa"},children:[o.jsx("option",{value:"A",children:"模板 A"}),o.jsx("option",{value:"B",children:"模板 B"}),o.jsx("option",{value:"C",children:"模板 C"}),o.jsx("option",{value:"D",children:"模板 D"}),o.jsx("option",{value:"E",children:"模板 E"})]}),o.jsx("button",{onClick:()=>{const p=ee.filter((g,S)=>S!==f);se(p)},style:{fontSize:"12px",padding:"4px 8px",backgroundColor:"#fee2e2",color:"#dc2626",border:"none",borderRadius:"4px",cursor:"pointer"},children:"🗑️ 刪除"})]})}),u.type==="speak"&&o.jsxs("div",{children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"12px"},children:[o.jsx("span",{style:{fontSize:"14px",fontWeight:"bold",color:"#1f2937"},children:"🎵 語音播放"}),o.jsx("button",{onClick:()=>{const p=ee.filter((g,S)=>S!==f);se(p)},style:{fontSize:"12px",padding:"4px 8px",backgroundColor:"#fee2e2",color:"#dc2626",border:"none",borderRadius:"4px",cursor:"pointer"},children:"🗑️ 刪除"})]}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"15px",marginBottom:"15px"},children:[o.jsxs("div",{children:[o.jsx("label",{style:{fontSize:"12px",color:"#6b7280"},children:"播放欄位"}),o.jsx("select",{value:u.field||"kanji",onChange:p=>{const g=[...ee];g[f]={...u,field:p.target.value},se(g)},style:{width:"100%",fontSize:"12px",padding:"6px",borderRadius:"4px",border:"1px solid #d1d5db",backgroundColor:"white"},children:Object.entries(ce()).map(([p,g])=>o.jsx("option",{value:p,children:g.label},p))})]}),o.jsxs("div",{children:[o.jsx("label",{style:{fontSize:"12px",color:"#6b7280"},children:"重複次數"}),o.jsx("input",{type:"number",min:"1",max:"10",value:u.repeat||1,onChange:p=>{const g=[...ee];g[f]={...u,repeat:parseInt(p.target.value)},se(g)},style:{width:"100%",fontSize:"12px",padding:"4px",borderRadius:"4px",border:"1px solid #d1d5db"}})]}),o.jsxs("div",{children:[o.jsx("label",{style:{fontSize:"12px",color:"#6b7280"},children:"語速"}),o.jsx("input",{type:"number",step:"0.1",min:"0.5",max:"2.0",value:u.rate||1,onChange:p=>{const g=[...ee];g[f]={...u,rate:parseFloat(p.target.value)},se(g)},style:{width:"100%",fontSize:"12px",padding:"4px",borderRadius:"4px",border:"1px solid #d1d5db"}})]})]}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"10px"},children:[o.jsxs("div",{children:[o.jsx("label",{style:{fontSize:"12px",color:"#6b7280",fontWeight:"bold"},children:"⏱️ 暫停方式"}),o.jsxs("select",{value:u.pauseMode||"fixed",onChange:p=>{const g=[...ee];g[f]={...u,pauseMode:p.target.value},se(g)},style:{width:"100%",fontSize:"12px",padding:"6px",borderRadius:"4px",border:"2px solid #10b981",backgroundColor:"#f0fdf4"},children:[o.jsx("option",{value:"fixed",children:"⏰ 固定時間"}),o.jsx("option",{value:"sentence",children:"📏 依句長倍速"})]})]}),o.jsx("div",{children:u.pauseMode==="sentence"?o.jsxs(o.Fragment,{children:[o.jsx("label",{style:{fontSize:"12px",color:"#6b7280",fontWeight:"bold"},children:"📏 句長倍速"}),o.jsxs("select",{value:u.sentenceMultiplier||1,onChange:p=>{const g=[...ee];g[f]={...u,sentenceMultiplier:parseFloat(p.target.value)},se(g)},style:{width:"100%",fontSize:"12px",padding:"6px",borderRadius:"4px",border:"2px solid #3b82f6",backgroundColor:"#eff6ff"},children:[o.jsx("option",{value:"0.5",children:"🏃 0.5x (快)"}),o.jsx("option",{value:"1.0",children:"🚶 1.0x (標準)"}),o.jsx("option",{value:"1.5",children:"🐌 1.5x (慢)"}),o.jsx("option",{value:"2.0",children:"🦌 2.0x (很慢)"})]})]}):o.jsxs(o.Fragment,{children:[o.jsx("label",{style:{fontSize:"12px",color:"#6b7280",fontWeight:"bold"},children:"⏰ 固定暫停時間"}),o.jsx("input",{type:"number",placeholder:"毫秒",value:u.pauseAfter||0,onChange:p=>{const g=[...ee];g[f]={...u,pauseAfter:parseInt(p.target.value)},se(g)},style:{width:"100%",fontSize:"12px",padding:"6px",borderRadius:"4px",border:"2px solid #f59e0b",backgroundColor:"#fefbf0"}})]})})]})]}),u.type==="pause"&&o.jsxs("div",{children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"12px"},children:[o.jsx("span",{style:{fontSize:"14px",fontWeight:"bold",color:"#1f2937"},children:"⏸️ 靜音暫停"}),o.jsx("button",{onClick:()=>{const p=ee.filter((g,S)=>S!==f);se(p)},style:{fontSize:"12px",padding:"4px 8px",backgroundColor:"#fee2e2",color:"#dc2626",border:"none",borderRadius:"4px",cursor:"pointer"},children:"🗑️ 刪除"})]}),o.jsx("label",{style:{fontSize:"12px",color:"#6b7280"},children:"暫停時間(毫秒)"}),o.jsx("input",{type:"number",value:u.duration||1e3,onChange:p=>{const g=[...ee];g[f]={...u,duration:parseInt(p.target.value)},se(g)},style:{width:"100%",fontSize:"12px",padding:"4px",borderRadius:"4px",border:"1px solid #d1d5db",marginTop:"5px"}})]})]})]},u.id))}),o.jsx("div",{style:{flexShrink:0},children:o.jsxs("div",{style:{display:"flex",gap:"8px"},children:[o.jsx("button",{onClick:()=>{const u=[...ee];u.push({id:Date.now().toString(),type:"display",templateId:"A"}),se(u)},style:{flex:1,padding:"8px 12px",fontSize:"12px",borderRadius:"4px",border:"1px solid #d1d5db",backgroundColor:"#f3f4f6",color:"#374151",cursor:"pointer"},children:"➕ 顯示模板"}),o.jsx("button",{onClick:()=>{const u=[...ee];u.push({id:Date.now().toString(),type:"speak",field:"kanji",repeat:1,rate:1,pauseAfter:1e3}),se(u)},style:{flex:1,padding:"8px 12px",fontSize:"12px",borderRadius:"4px",border:"1px solid #d1d5db",backgroundColor:"#f3f4f6",color:"#374151",cursor:"pointer"},children:"➕ 語音播放"}),o.jsx("button",{onClick:()=>{const u=[...ee];u.push({id:Date.now().toString(),type:"pause",duration:1e3}),se(u)},style:{flex:1,padding:"8px 12px",fontSize:"12px",borderRadius:"4px",border:"1px solid #d1d5db",backgroundColor:"#f3f4f6",color:"#374151",cursor:"pointer"},children:"➕ 靜音暫停"})]})})]}),ne==="pages"&&o.jsxs("div",{style:{height:"100%",display:"flex",flexDirection:"column",overflow:"hidden"},children:[o.jsxs("div",{style:{flexShrink:0},children:[o.jsx("h4",{style:{fontSize:"16px",fontWeight:"bold",marginBottom:"10px",color:"#3b82f6"},children:"📱 頁面設定"}),o.jsx("p",{style:{fontSize:"14px",color:"#6b7280",marginBottom:"15px"},children:"設定5種頁面模板（A、B、C、D、E），每種模板可自訂顯示的欄位"})]}),o.jsx("div",{style:{flex:1,overflowY:"auto",border:"1px solid #e5e7eb",borderRadius:"6px",padding:"20px",backgroundColor:"#f8f9fa"},children:o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px",height:"100%"},children:[o.jsxs("div",{style:{display:"flex",flexDirection:"column"},children:[o.jsx("h4",{style:{fontSize:"16px",fontWeight:"bold",marginBottom:"15px",color:"#059669"},children:"📋 模板設定"}),o.jsx("div",{style:{flex:1,overflowY:"auto"},children:Object.entries(Ve).map(([u,f])=>o.jsxs("div",{style:{marginBottom:"20px",padding:"15px",backgroundColor:"white",borderRadius:"8px",border:"1px solid #d1d5db",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"15px",marginBottom:"15px"},children:[o.jsxs("h4",{style:{fontSize:"16px",fontWeight:"bold",minWidth:"60px",color:"#3b82f6"},children:["模板",u]}),o.jsx("input",{type:"text",value:f.name,onChange:p=>{cr(g=>({...g,[u]:{...g[u],name:p.target.value}}))},style:{flex:1,padding:"8px 12px",border:"1px solid #d1d5db",borderRadius:"4px",fontSize:"14px"},placeholder:"模板名稱"})]}),o.jsxs("div",{style:{marginBottom:"15px"},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"8px"},children:[o.jsx("label",{style:{fontSize:"14px",fontWeight:"500",color:"#374151"},children:"顯示欄位"}),o.jsx("div",{style:{fontSize:"12px",color:"#6b7280"},children:"（可多選）"})]}),o.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"8px"},children:Object.entries(ce()).map(([p,g])=>o.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"6px",padding:"6px 10px",backgroundColor:f.fields.includes(p)?"#dbeafe":"#f3f4f6",borderRadius:"4px",cursor:"pointer",fontSize:"12px",border:f.fields.includes(p)?"1px solid #3b82f6":"1px solid #d1d5db"},children:[o.jsx("input",{type:"checkbox",checked:f.fields.includes(p),onChange:S=>{const P=S.target.checked?[...f.fields,p]:f.fields.filter(F=>F!==p);cr(F=>({...F,[u]:{...F[u],fields:P}}))},style:{margin:0}}),g.label]},p))})]}),o.jsx("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:o.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"6px",fontSize:"14px",fontWeight:"500",color:"#374151"},children:[o.jsx("input",{type:"checkbox",checked:f.showFurigana,onChange:p=>{cr(g=>({...g,[u]:{...g[u],showFurigana:p.target.checked}}))}}),"顯示注音"]})})]},u))})]}),o.jsxs("div",{style:{display:"flex",flexDirection:"column"},children:[o.jsx("h4",{style:{fontSize:"16px",fontWeight:"bold",marginBottom:"15px",color:"#059669"},children:"👀 模板預覽"}),o.jsx("div",{style:{flex:1,overflowY:"auto"},children:Object.entries(Ve).map(([u,f])=>{var p;return o.jsxs("div",{style:{marginBottom:"15px",padding:"15px",backgroundColor:"white",borderRadius:"8px",border:"1px solid #d1d5db",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"10px"},children:[o.jsxs("h5",{style:{fontSize:"14px",fontWeight:"bold",margin:0,color:"#3b82f6"},children:["模板",u,"：",f.name]}),o.jsx("button",{onClick:()=>el(u),style:{padding:"4px 8px",fontSize:"12px",borderRadius:"4px",border:"none",backgroundColor:Fe===u?"#16a34a":"#f3f4f6",color:Fe===u?"white":"#374151",cursor:"pointer"},children:Fe===u?"✓ 使用中":"使用模板"})]}),o.jsxs("div",{style:{fontSize:"12px",color:"#6b7280",marginBottom:"8px"},children:["預覽：",f.fields.length>0?f.fields.map(g=>{var S;return((S=ce()[g])==null?void 0:S.label)||g}).join(" | "):"無欄位"]}),((p=n==null?void 0:n.cards)==null?void 0:p[0])&&o.jsx("div",{style:{padding:"10px",backgroundColor:"#f8fafc",borderRadius:"4px",border:"1px solid #e2e8f0",fontSize:"14px"},children:f.fields.map((g,S)=>{const P=n.cards[0].fields[g];if(!P)return null;const F=f.showFurigana?P:P.replace(/\[.*?\]/g,"");return o.jsx("div",{style:{marginBottom:S<f.fields.length-1?"5px":0},children:o.jsx("span",{style:{fontWeight:"500"},children:F})},g)})})]},u)})})]})]})})]}),ne==="voice"&&o.jsxs("div",{style:{height:"100%",display:"flex",flexDirection:"column",overflow:"hidden"},children:[o.jsxs("div",{style:{flexShrink:0},children:[o.jsx("h4",{style:{fontSize:"16px",fontWeight:"bold",marginBottom:"10px",color:"#3b82f6"},children:"🎵 語音設定"}),o.jsx("p",{style:{fontSize:"14px",color:"#6b7280",marginBottom:"15px"},children:"設定每個欄位的預設語音參數（語速、重複次數等）"})]}),o.jsx("div",{style:{flex:1,overflowY:"auto",border:"1px solid #e5e7eb",borderRadius:"6px",padding:"15px",backgroundColor:"#f0fdf4"},children:Object.entries(ce()).map(([u,f])=>{const p=pt[u]||{voice:"zh-TW-HsiaoChenNeural",rate:1,pitch:1,style:"neutral"};return o.jsxs("div",{style:{marginBottom:"25px",padding:"20px",backgroundColor:"white",borderRadius:"8px",border:"1px solid #d1d5db",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:[o.jsxs("h4",{style:{fontSize:"16px",fontWeight:"bold",marginBottom:"15px",color:"#1f2937",display:"flex",alignItems:"center",gap:"8px"},children:["🔊 ",f.label," 語音設定"]}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"15px"},children:[o.jsxs("div",{children:[o.jsxs("div",{style:{marginBottom:"12px"},children:[o.jsx("label",{style:{fontSize:"13px",fontWeight:"bold",color:"#374151",marginBottom:"6px",display:"block"},children:"🎭 語音角色"}),o.jsxs("select",{value:p.voice,onChange:g=>{ft(S=>({...S,[u]:{...p,voice:g.target.value}}))},style:{width:"100%",padding:"8px 12px",fontSize:"13px",borderRadius:"6px",border:"2px solid #10b981",backgroundColor:"#f0fdf4"},children:[o.jsx("optgroup",{label:"中文語音",children:_n["zh-TW"].map(g=>o.jsx("option",{value:g.value,children:g.label},g.value))}),o.jsx("optgroup",{label:"日文語音",children:_n["ja-JP"].map(g=>o.jsx("option",{value:g.value,children:g.label},g.value))}),o.jsx("optgroup",{label:"英文語音",children:_n["en-US"].map(g=>o.jsx("option",{value:g.value,children:g.label},g.value))})]})]}),o.jsxs("div",{children:[o.jsx("label",{style:{fontSize:"13px",fontWeight:"bold",color:"#374151",marginBottom:"6px",display:"block"},children:"😊 語音情緒"}),o.jsx("select",{value:p.style,onChange:g=>{ft(S=>({...S,[u]:{...p,style:g.target.value}}))},style:{width:"100%",padding:"8px 12px",fontSize:"13px",borderRadius:"6px",border:"2px solid #3b82f6",backgroundColor:"#eff6ff"},children:So.map(g=>o.jsx("option",{value:g.value,children:g.label},g.value))})]})]}),o.jsxs("div",{children:[o.jsxs("div",{style:{marginBottom:"12px"},children:[o.jsxs("label",{style:{fontSize:"13px",fontWeight:"bold",color:"#374151",marginBottom:"6px",display:"block"},children:["⚡ 語速 (",p.rate,"x)"]}),o.jsx("input",{type:"range",min:"0.5",max:"2.0",step:"0.1",value:p.rate,onChange:g=>{ft(S=>({...S,[u]:{...p,rate:parseFloat(g.target.value)}}))},style:{width:"100%",marginBottom:"4px"}}),o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"11px",color:"#6b7280"},children:[o.jsx("span",{children:"慢 (0.5x)"}),o.jsx("span",{children:"標準 (1.0x)"}),o.jsx("span",{children:"快 (2.0x)"})]})]}),o.jsxs("div",{children:[o.jsxs("label",{style:{fontSize:"13px",fontWeight:"bold",color:"#374151",marginBottom:"6px",display:"block"},children:["🎵 音調 (",p.pitch,"x)"]}),o.jsx("input",{type:"range",min:"0.5",max:"2.0",step:"0.1",value:p.pitch,onChange:g=>{ft(S=>({...S,[u]:{...p,pitch:parseFloat(g.target.value)}}))},style:{width:"100%",marginBottom:"4px"}}),o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"11px",color:"#6b7280"},children:[o.jsx("span",{children:"低 (0.5x)"}),o.jsx("span",{children:"標準 (1.0x)"}),o.jsx("span",{children:"高 (2.0x)"})]})]})]})]}),o.jsx("div",{style:{marginTop:"15px",textAlign:"center"},children:o.jsx("button",{onClick:async()=>{var g;if(((g=n==null?void 0:n.cards)==null?void 0:g.length)>0){const S=n.cards[0].fields[u];if(S)try{await gn(S,{voice:p.voice,rate:p.rate,pitch:p.pitch,style:p.style})}catch(P){console.error("語音測試錯誤:",P)}else alert(`${f.label} 欄位沒有內容可以測試`)}else alert("沒有卡片可以測試語音")},style:{padding:"8px 16px",fontSize:"13px",fontWeight:"bold",borderRadius:"6px",border:"none",backgroundColor:"#f59e0b",color:"white",cursor:"pointer",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:"🎤 測試語音"})})]},u)})})]})]}),ne==="script"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{style:{marginTop:"auto",padding:"20px 24px",backgroundColor:"#f8f9fa",display:"flex",gap:"12px",flexShrink:0,borderTop:"1px solid #e5e7eb",marginLeft:"-24px",marginRight:"-24px",marginBottom:"-24px",borderBottomLeftRadius:"12px",borderBottomRightRadius:"12px"},children:[o.jsx("button",{onClick:async()=>{var u;if(console.log("🎮 測試播放按鈕被點擊"),((u=n==null?void 0:n.cards)==null?void 0:u.length)>0){const f=n.cards[0];i(f),he(0),a("autoplay"),de(!1);try{for(let p=0;p<ee.length;p++){const g=ee[p];Nt(p),console.log(`測試執行步驟 ${p+1}/${ee.length}:`,g),await zo(f,g),await new Promise(S=>setTimeout(S,300))}setTimeout(()=>{a("folder"),alert("測試播放完成！")},1e3)}catch(p){console.error("測試播放錯誤:",p),a("folder"),alert("測試播放失敗："+p.message)}}else alert("沒有可用的卡片進行測試")},disabled:((Ys=n==null?void 0:n.cards)==null?void 0:Ys.length)===0,style:{flex:1,padding:"12px 20px",fontSize:"14px",fontWeight:"bold",borderRadius:"8px",border:"none",backgroundColor:"#f59e0b",color:"white",cursor:"pointer"},children:"🎮 測試播放"}),o.jsx("button",{onClick:()=>{de(!1),Ks()},disabled:((Xs=n==null?void 0:n.cards)==null?void 0:Xs.length)===0,style:{flex:1,padding:"12px 20px",fontSize:"14px",fontWeight:"bold",borderRadius:"8px",border:"none",backgroundColor:"#dc2626",color:"white",cursor:"pointer"},children:"🎭 開始自動播放"})]}),o.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",minHeight:0},children:[o.jsx("h5",{style:{fontSize:"14px",fontWeight:"bold",marginBottom:"5px"},children:"播放腳本"}),o.jsx("p",{style:{fontSize:"12px",color:"#6b7280",marginBottom:"10px",margin:0},children:"💡 可拖曳 ⋮⋮ 符號調整步驟順序"}),o.jsxs("div",{style:{flex:1,overflowY:"auto",border:"1px solid #e5e7eb",borderRadius:"6px",padding:"10px",minHeight:"200px",maxHeight:"350px"},children:[ee.map((u,f)=>o.jsxs("div",{draggable:!0,onDragStart:p=>Ws(p,f),onDragOver:Cd,onDrop:p=>$s(p,f),onDragEnd:bd,style:{marginBottom:"10px",padding:"12px",backgroundColor:Rt===f?"#e0f2fe":"#f9fafb",borderRadius:"6px",border:Rt===f?"2px solid #0284c7":"1px solid #e5e7eb",cursor:"move",opacity:Rt===f?.7:1,transform:Rt===f?"rotate(2deg)":"none",transition:"all 0.2s ease"},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"8px"},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[o.jsx("span",{style:{fontSize:"14px",color:"#6b7280",cursor:"move"},children:"⋮⋮"}),o.jsxs("span",{style:{fontSize:"12px",fontWeight:"bold",color:"#374151"},children:["步驟 ",f+1]})]}),o.jsxs("div",{style:{display:"flex",gap:"5px"},children:[o.jsxs("select",{value:u.type,onChange:p=>{const g=[...ee];g[f]={...u,type:p.target.value},se(g)},style:{fontSize:"12px",padding:"4px 8px",borderRadius:"4px",border:"1px solid #d1d5db"},children:[o.jsx("option",{value:"display",children:"📱 顯示頁面"}),o.jsx("option",{value:"speak",children:"🗣️ 語音播放"}),o.jsx("option",{value:"pause",children:"⏸️ 靜音暫停"})]}),o.jsx("button",{onClick:()=>{const p=ee.filter((g,S)=>S!==f);se(p)},style:{fontSize:"12px",padding:"4px 8px",borderRadius:"4px",border:"1px solid #ef4444",backgroundColor:"#ef4444",color:"white",cursor:"pointer"},children:"🗑️"})]})]}),u.type==="display"&&o.jsxs("div",{children:[o.jsx("label",{style:{fontSize:"12px",color:"#6b7280",fontWeight:"bold"},children:"📱 顯示模板 (立即切換)"}),o.jsx("select",{value:u.templateId||"A",onChange:p=>{const g=[...ee];g[f]={...u,templateId:p.target.value},se(g)},style:{width:"100%",fontSize:"14px",padding:"8px",borderRadius:"6px",border:"2px solid #3b82f6",backgroundColor:"#f0f8ff",marginTop:"4px"},children:Object.entries(Ve).map(([p,g])=>o.jsxs("option",{value:p,children:["📄 模板",p," - ",g.name]},p))})]}),u.type==="speak"&&o.jsxs("div",{style:{padding:"10px",backgroundColor:"#fef7f0",borderRadius:"6px",border:"2px solid #f59e0b"},children:[o.jsx("label",{style:{fontSize:"12px",color:"#92400e",fontWeight:"bold",display:"block",marginBottom:"8px"},children:"🗣️ 語音播放設定"}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"10px",marginBottom:"10px"},children:[o.jsxs("div",{children:[o.jsx("label",{style:{fontSize:"12px",color:"#6b7280"},children:"播放欄位"}),o.jsx("select",{value:u.field||"kanji",onChange:p=>{const g=[...ee];g[f]={...u,field:p.target.value},se(g)},style:{width:"100%",fontSize:"12px",padding:"6px",borderRadius:"4px",border:"1px solid #d1d5db",backgroundColor:"white"},children:Object.entries(ce()).map(([p,g])=>o.jsx("option",{value:p,children:g.label},p))})]}),o.jsxs("div",{children:[o.jsx("label",{style:{fontSize:"12px",color:"#6b7280"},children:"重複次數"}),o.jsx("input",{type:"number",min:"1",max:"10",value:u.repeat||1,onChange:p=>{const g=[...ee];g[f]={...u,repeat:parseInt(p.target.value)},se(g)},style:{width:"100%",fontSize:"12px",padding:"4px",borderRadius:"4px",border:"1px solid #d1d5db"}})]}),o.jsxs("div",{children:[o.jsx("label",{style:{fontSize:"12px",color:"#6b7280"},children:"語速"}),o.jsx("input",{type:"number",step:"0.1",min:"0.5",max:"2.0",value:u.rate||1,onChange:p=>{const g=[...ee];g[f]={...u,rate:parseFloat(p.target.value)},se(g)},style:{width:"100%",fontSize:"12px",padding:"4px",borderRadius:"4px",border:"1px solid #d1d5db"}})]})]}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"10px"},children:[o.jsxs("div",{children:[o.jsx("label",{style:{fontSize:"12px",color:"#6b7280",fontWeight:"bold"},children:"⏱️ 暫停方式"}),o.jsxs("select",{value:u.pauseMode||"fixed",onChange:p=>{const g=[...ee];g[f]={...u,pauseMode:p.target.value},se(g)},style:{width:"100%",fontSize:"12px",padding:"6px",borderRadius:"4px",border:"2px solid #10b981",backgroundColor:"#f0fdf4"},children:[o.jsx("option",{value:"fixed",children:"⏰ 固定時間"}),o.jsx("option",{value:"sentence",children:"📏 依句長倍速"})]})]}),o.jsx("div",{children:u.pauseMode==="sentence"?o.jsxs(o.Fragment,{children:[o.jsx("label",{style:{fontSize:"12px",color:"#6b7280",fontWeight:"bold"},children:"📏 句長倍速"}),o.jsxs("select",{value:u.sentenceMultiplier||1,onChange:p=>{const g=[...ee];g[f]={...u,sentenceMultiplier:parseFloat(p.target.value)},se(g)},style:{width:"100%",fontSize:"12px",padding:"6px",borderRadius:"4px",border:"2px solid #3b82f6",backgroundColor:"#eff6ff"},children:[o.jsx("option",{value:"0.5",children:"🏃 0.5x (快)"}),o.jsx("option",{value:"1.0",children:"🚶 1.0x (標準)"}),o.jsx("option",{value:"1.5",children:"🐌 1.5x (慢)"}),o.jsx("option",{value:"2.0",children:"🦌 2.0x (很慢)"})]})]}):o.jsxs(o.Fragment,{children:[o.jsx("label",{style:{fontSize:"12px",color:"#6b7280",fontWeight:"bold"},children:"⏰ 固定暫停時間"}),o.jsx("input",{type:"number",placeholder:"毫秒",value:u.pauseAfter||0,onChange:p=>{const g=[...ee];g[f]={...u,pauseAfter:parseInt(p.target.value)},se(g)},style:{width:"100%",fontSize:"12px",padding:"6px",borderRadius:"4px",border:"2px solid #f59e0b",backgroundColor:"#fefbf0"}})]})})]})]}),u.type==="pause"&&o.jsxs("div",{children:[o.jsx("label",{style:{fontSize:"12px",color:"#6b7280"},children:"暫停時間(毫秒)"}),o.jsx("input",{type:"number",value:u.duration||1e3,onChange:p=>{const g=[...ee];g[f]={...u,duration:parseInt(p.target.value)},se(g)},style:{width:"100%",fontSize:"12px",padding:"4px",borderRadius:"4px",border:"1px solid #d1d5db"}})]})]},u.id)),o.jsxs("div",{style:{display:"flex",gap:"5px",marginTop:"10px"},children:[o.jsx("button",{onClick:()=>{se([...ee,{id:Date.now().toString(),type:"display",templateId:"A"}])},style:{flex:1,padding:"8px 12px",fontSize:"12px",borderRadius:"4px",border:"1px solid #2563eb",backgroundColor:"#2563eb",color:"white",cursor:"pointer"},children:"➕ 顯示頁面"}),o.jsx("button",{onClick:()=>{se([...ee,{id:Date.now().toString(),type:"speak",field:"kanji",repeat:1,rate:1,pauseAfter:500}])},style:{flex:1,padding:"8px 12px",fontSize:"12px",borderRadius:"4px",border:"1px solid #10b981",backgroundColor:"#10b981",color:"white",cursor:"pointer"},children:"➕ 語音播放"}),o.jsx("button",{onClick:()=>{se([...ee,{id:Date.now().toString(),type:"pause",duration:1e3}])},style:{flex:1,padding:"8px 12px",fontSize:"12px",borderRadius:"4px",border:"1px solid #6b7280",backgroundColor:"#6b7280",color:"white",cursor:"pointer"},children:"➕ 暫停"})]})]})]}),o.jsxs("div",{style:{display:"flex",flexDirection:"column",minHeight:0},children:[o.jsx("h4",{style:{fontSize:"16px",fontWeight:"bold",marginBottom:"15px"},children:"播放預覽"}),o.jsxs("div",{style:{padding:"15px",backgroundColor:"#f8f9fa",borderRadius:"8px",marginBottom:"15px"},children:[o.jsxs("p",{style:{fontSize:"14px",color:"#374151",margin:0},children:["播放模式：",B==="sequential"?"📋 順序播放":"🔄 循環播放"]}),o.jsxs("p",{style:{fontSize:"14px",color:"#6b7280",margin:"5px 0 0 0"},children:["總共 ",ee.length," 個步驟，每張卡片約 ",Math.round(ee.reduce((u,f)=>{if(f.type==="speak"){let p=1e3*(f.repeat||1);if(f.pauseMode==="sentence"){const S=500*(f.sentenceMultiplier||1);return u+p+S}else return u+p+(f.pauseAfter||0)}return f.type==="pause"?u+(f.duration||1e3):u},0)/1e3)," 秒 (模板切換立即，句長暫停為估算)"]})]}),o.jsxs("div",{style:{maxHeight:"500px",overflowY:"auto"},children:[o.jsx("h5",{style:{fontSize:"14px",fontWeight:"bold",marginBottom:"10px"},children:"腳本流程預覽"}),ee.map((u,f)=>{var p;return o.jsxs("div",{style:{marginBottom:"8px",padding:"10px",backgroundColor:"white",borderRadius:"6px",border:"1px solid #e5e7eb",fontSize:"12px"},children:[o.jsxs("div",{style:{fontWeight:"bold",color:"#374151"},children:[f+1,". ",u.type==="display"?`📱 顯示模板${u.templateId}`:u.type==="speak"?`🗣️ 播放${(p=ce()[u.field])==null?void 0:p.label} × ${u.repeat}次`:u.type==="pause"?`⏸️ 暫停 ${u.duration}ms`:"未知步驟"]}),u.type==="display"&&o.jsx("div",{style:{color:"#10b981",marginTop:"4px",fontSize:"11px",fontWeight:"bold"},children:"⚡ 立即切換 (持續顯示直到下一個模板)"}),u.type==="speak"&&o.jsxs("div",{style:{color:"#6b7280",marginTop:"4px"},children:["語速：",u.rate||1,"x，",u.pauseMode==="sentence"?`依句長暫停 (${u.sentenceMultiplier||1}x倍速)`:`固定暫停：${u.pauseAfter||0}毫秒`]})]},u.id)})]})]})]})]})})]})};qo.createRoot(document.getElementById("root")).render(o.jsx(Xd.StrictMode,{children:o.jsx(ch,{})}));
