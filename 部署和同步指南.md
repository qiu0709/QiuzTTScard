# 日語閃卡應用程式 - 部署和同步指南

## 📦 部署到 Netlify（讓電腦關機後也能使用）

### 方法一：透過 Netlify 網站（推薦）

1. **登入 Netlify**
   - 前往 https://netlify.com
   - 使用 GitHub 帳號登入

2. **連接 GitHub 倉庫**
   - 點擊「Add new site」→「Import an existing project」
   - 選擇「GitHub」
   - 搜尋並選擇 `QiuzTTScard` 倉庫

3. **配置部署設定**
   - Build command: `npm run build`
   - Publish directory: `dist`
   - 其他設定使用預設值即可

4. **開始部署**
   - 點擊「Deploy site」
   - 等待部署完成（約 1-2 分鐘）

5. **獲取網址**
   - 部署完成後，您會得到一個網址，例如：`https://your-app.netlify.app`
   - 可以在 Site settings → Domain management 中自訂網址

### 方法二：使用 Netlify CLI

```bash
# 1. 安裝 Netlify CLI
npm install -g netlify-cli

# 2. 登入 Netlify
netlify login

# 3. 初始化並部署
netlify init

# 4. 建置並部署
npm run build
netlify deploy --prod
```

## 🔄 跨裝置資料同步設定

應用程式已內建 GitHub Gist 同步功能，讓您可以在不同裝置間同步學習資料。

### 步驟一：建立 GitHub Personal Access Token

1. **登入 GitHub**
   - 前往 https://github.com

2. **進入設定頁面**
   - 點擊右上角頭像 → Settings
   - 左側選單選擇「Developer settings」
   - 選擇「Personal access tokens」→「Tokens (classic)」

3. **建立新 Token**
   - 點擊「Generate new token」→「Generate new token (classic)」
   - Note：輸入 `閃卡同步` 或其他您記得的名稱
   - Expiration：建議選擇「No expiration」或「1 year」
   - 勾選權限：
     - ✓ **gist**（完整的 gist 存取權限）
   - 點擊「Generate token」

4. **複製 Token**
   - **重要**：立即複製顯示的 token，離開頁面後就看不到了！
   - 格式類似：`ghp_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx`

### 步驟二：建立 GitHub Gist

1. **建立新 Gist**
   - 前往 https://gist.github.com
   - 點擊「+」建立新 gist
   - Filename：`flashcard-data.json`
   - 內容：`{}`（空的 JSON 物件）
   - 選擇「Create secret gist」（建議使用私密 gist）

2. **複製 Gist ID**
   - 建立後，瀏覽器網址列會顯示 Gist ID
   - 例如：`https://gist.github.com/your-username/abc123def456`
   - Gist ID 就是：`abc123def456`

### 步驟三：在應用程式中設定同步

1. **開啟同步設定**
   - 在應用程式主頁面，點擊右上角「☁️ 同步」按鈕
   - 或點擊任意資料夾後，找到同步選項

2. **輸入設定資訊**
   - **GitHub Token**：貼上步驟一複製的 token
   - **Gist ID**：貼上步驟二複製的 Gist ID
   - **自動同步**：建議開啟，資料會在每次變更後自動上傳

3. **測試同步**
   - 設定完成後，點擊「上傳到雲端」測試
   - 成功後會顯示「☁️ 資料已同步到雲端」

### 步驟四：在其他裝置使用

1. **開啟應用程式**
   - 在新裝置上開啟部署的網站（例如：`https://your-app.netlify.app`）

2. **設定同步**
   - 輸入相同的 GitHub Token 和 Gist ID

3. **下載資料**
   - 點擊「從雲端下載」
   - 所有資料將會同步到此裝置

## 📱 安裝為 PWA（可當手機 App 使用）

### iOS (iPhone/iPad)

1. 使用 Safari 開啟網站
2. 點擊下方分享按鈕 📤
3. 選擇「加入主畫面螢幕」
4. 點擊「加入」

### Android

1. 使用 Chrome 開啟網站
2. 點擊右上角選單 ⋮
3. 選擇「安裝應用程式」或「加到主畫面」
4. 點擊「安裝」

### 桌面版 (Chrome/Edge)

1. 網址列右側會出現安裝圖示
2. 點擊安裝圖示
3. 點擊「安裝」

## 🎯 使用建議

### 資料備份

雖然有雲端同步，但建議定期備份：

1. **導出 JSON**
   - 在資料夾頁面點擊「匯出」
   - 選擇「匯出為 JSON」
   - 儲存檔案到安全的地方

2. **導出 APKG**
   - 如果需要在 Anki 中使用
   - 選擇「匯出為 APKG」

### 同步策略

- **單一主裝置**：在一台裝置上編輯，其他裝置只讀取
- **多裝置編輯**：開啟自動同步，每次使用前先「從雲端下載」

### 注意事項

⚠️ **重要提醒：**
- GitHub Token 是敏感資訊，不要分享給他人
- 建議使用 Secret Gist（私密）而非 Public Gist
- 定期檢查 GitHub token 的有效期限
- 清除瀏覽器快取前，記得先同步到雲端

## 🔧 常見問題

### Q: 同步失敗怎麼辦？
A:
1. 檢查網路連線
2. 確認 Token 和 Gist ID 是否正確
3. 確認 Token 沒有過期
4. 嘗試重新建立 Token

### Q: 資料會丟失嗎？
A:
- 資料儲存在瀏覽器 localStorage
- 清除瀏覽器快取會清除資料
- 建議開啟自動同步功能
- 定期手動備份 JSON 檔案

### Q: 可以離線使用嗎？
A:
- 是的！這是 PWA 應用程式
- 安裝到裝置後可離線使用
- 離線時無法同步，但資料保留在裝置上

### Q: 多個裝置同時編輯會衝突嗎？
A:
- 會的，最後上傳的會覆蓋之前的
- 建議使用前先「從雲端下載」
- 或在單一裝置上編輯

## 📞 技術支援

如有問題，請到 GitHub Issues 回報：
https://github.com/qiu0709/QiuzTTScard/issues
